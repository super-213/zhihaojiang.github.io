<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="Hexo Theme Redefine">
    
    <meta name="author" content="å§œæ™ºæµ©">
    <!-- preconnect -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    
    <!--- Seo Part-->
    
    <link rel="canonical" href="https://super-213.github.io/zhihaojiang.github.io/2025/12/24/20251224linuxæ“ä½œç³»ç»Ÿ-åŒæ­¥äº’æ–¥/"/>
    <meta name="robots" content="index,follow">
    <meta name="googlebot" content="index,follow">
    <meta name="revisit-after" content="1 days">
    
    
    
        
        <meta name="description" content="Hexo Theme Redefine, Redefine Your Hexo Journey.">
<meta property="og:type" content="article">
<meta property="og:title" content="Linuxæ“ä½œç³»ç»Ÿ-åŒæ­¥äº’æ–¥">
<meta property="og:url" content="https://super-213.github.io/zhihaojiang.github.io/2025/12/24/20251224Linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E5%90%8C%E6%AD%A5%E4%BA%92%E6%96%A5/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="Hexo Theme Redefine, Redefine Your Hexo Journey.">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://super-213.github.io/images/redefine-og.webp">
<meta property="article:published_time" content="2025-12-24T03:45:14.000Z">
<meta property="article:modified_time" content="2025-12-24T13:29:05.220Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="è®¡ç®—æœºç§‘å­¦">
<meta property="article:tag" content="æ“ä½œç³»ç»Ÿ">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://super-213.github.io/images/redefine-og.webp">
    
    
    <!--- Icon Part-->
    <link rel="icon" type="image/png" href="/zhihaojiang.github.io/images/redefine-favicon.svg" sizes="192x192">
    <link rel="apple-touch-icon" sizes="180x180" href="/zhihaojiang.github.io/images/redefine-favicon.svg">
    <meta name="theme-color" content="#A31F34">
    <link rel="shortcut icon" href="/zhihaojiang.github.io/images/redefine-favicon.svg">
    <!--- Page Info-->
    
    <title>
        
            Linuxæ“ä½œç³»ç»Ÿ-åŒæ­¥äº’æ–¥ | æ™ºæµ©çš„Blog
        
    </title>

    
<link rel="stylesheet" href="/zhihaojiang.github.io/fonts/Chillax/chillax.css">


    <!--- Inject Part-->
    

    <!-- è¿™é‡Œæ˜¯ Live2D ä»£ç  -->
    <script src="https://fastly.jsdelivr.net/npm/live2d-widgets@0/autoload.js"></script>

    
<link rel="stylesheet" href="/zhihaojiang.github.io/css/style.css">


    
        
<link rel="stylesheet" href="/zhihaojiang.github.io/css/build/tailwind.css">

    

    
<link rel="stylesheet" href="/zhihaojiang.github.io/fonts/GeistMono/geist-mono.css">

    
<link rel="stylesheet" href="/zhihaojiang.github.io/fonts/Geist/geist.css">

    <!--- Font Part-->
    
    
    
    
    
    
        
<script src="/zhihaojiang.github.io/js/build/libs/anime.min.js"></script>

    

    <script id="hexo-configurations">
    window.config = {"hostname":"super-213.github.io","root":"/zhihaojiang.github.io/","language":"en","path":"search.xml"};
    window.theme = {"articles":{"style":{"font_size":"16px","line_height":1.5,"image_border_radius":"14px","image_alignment":"center","image_caption":false,"link_icon":true,"delete_mask":false,"title_alignment":"left","headings_top_spacing":{"h1":"3.2rem","h2":"2.4rem","h3":"1.9rem","h4":"1.6rem","h5":"1.4rem","h6":"1.3rem"}},"word_count":{"enable":true,"count":true,"min2read":true},"author_label":{"enable":true,"auto":true,"list":["Lv3","Lv6","Lv9"]},"code_block":{"copy":true,"style":"mac","highlight_theme":{"light":"github","dark":"vs2015"},"font":{"enable":false,"family":null,"url":null}},"toc":{"enable":true,"max_depth":3,"number":false,"expand":true,"init_open":true},"copyright":{"enable":true,"default":"cc_by_nc_sa"},"lazyload":true,"pangu_js":false,"recommendation":{"enable":false,"title":"æ¨èé˜…è¯»","limit":3,"mobile_limit":2,"placeholder":"/images/wallhaven-wqery6-light.webp","skip_dirs":[]}},"colors":{"primary":"#A31F34","secondary":null,"default_mode":"light"},"global":{"fonts":{"chinese":{"enable":false,"family":null,"url":null},"english":{"enable":false,"family":null,"url":null},"title":{"enable":false,"family":null,"url":null}},"content_max_width":"1000px","sidebar_width":"210px","hover":{"shadow":true,"scale":true},"scroll_progress":{"bar":false,"percentage":true},"website_counter":{"url":"https://cn.vercount.one/js","enable":true,"site_pv":true,"site_uv":true,"post_pv":true},"single_page":true,"preloader":{"enable":true,"custom_message":null},"open_graph":{"enable":true,"image":"/images/redefine-og.webp","description":"Hexo Theme Redefine, Redefine Your Hexo Journey."},"google_analytics":{"enable":false,"id":null}},"home_banner":{"enable":true,"style":"fixed","image":{"light":"/images/defaults/bear.PNG","dark":"/images/defaults/bear.PNG"},"title":"Enjoy Every Moment","subtitle":{"text":["Have A nice Day"],"hitokoto":{"enable":false,"show_author":false,"api":"https://v1.hitokoto.cn"},"typing_speed":100,"backing_speed":80,"starting_delay":500,"backing_delay":1500,"loop":true,"smart_backspace":true},"text_color":{"light":"#fff","dark":"#d1d1b6"},"text_style":{"title_size":"2.8rem","subtitle_size":"1.5rem","line_height":1.2},"custom_font":{"enable":false,"family":null,"url":null},"social_links":{"enable":true,"style":"default","links":{"github":"https://github.com/super-213","instagram":null,"zhihu":null,"twitter":null,"email":"jiangzhihaojzh@126.com"},"qrs":{"weixin":null}}},"plugins":{"feed":{"enable":false},"aplayer":{"enable":true,"type":"fixed","audios":[{"name":"Something Just Like This","artist":"Coldplay","url":"https://evan.beee.top/music/Something%20Just%20Like%20This%20-%20The%20Chainsmokers%E3%80%81Coldplay.mp3","cover":"https://evan.beee.top/music/covers/Something_Just_Like_This.png"},{"name":"Bird","artist":"Imagine Dragons","url":"/zhihaojiang.github.io/music/mus_url/birds.mp3","cover":"/zhihaojiang.github.io/music/cover/original.png","lrc":"/zhihaojiang.github.io/music/lrc/birds.lrc"},{"name":"Natural","artist":"Imagine Dragons","url":"/zhihaojiang.github.io/music/mus_url/Natural.mp3","cover":"/zhihaojiang.github.io/music/cover/original.png","lrc":"/zhihaojiang.github.io/music/lrc/Natural.lrc"},{"name":"çˆ±ä¸«çˆ±ä¸«","artist":"BY2","url":"/zhihaojiang.github.io/music/mus_url/çˆ±ä¸«çˆ±ä¸«.mp3","cover":"/zhihaojiang.github.io/music/cover/16æœªæˆå¹´.jpeg","lrc":"/zhihaojiang.github.io/music/lrc/çˆ±ä¸«çˆ±ä¸«.lrc"}]},"mermaid":{"enable":false,"version":"11.4.1"},"mathjax":{"tags":"none","single_dollars":true,"cjk_width":0.9,"normal_width":0.6,"append_css":true,"every_page":true}},"version":"2.8.2","navbar":{"auto_hide":false,"color":{"left":"#f78736","right":"#367df7","transparency":35},"width":{"home":"1200px","pages":"1000px"},"links":{"Home":{"path":"/","icon":"fa-regular fa-house"},"Photo":{"icon":"fa-solid fa-image","path":"/masonry/"},"Archives":{"path":"/archives","icon":"fa-regular fa-archive"},"About":{"icon":"fa-regular fa-user","submenus":{"Me":"/about","Portfolio":"/portfolio/","Github":"https://github.com/super-213"}}},"search":{"enable":true,"preload":true}},"page_templates":{"friends_column":2,"tags_style":"blur"},"home":{"sidebar":{"enable":true,"position":"left","first_item":"menu","announcement":null,"show_on_mobile":true,"links":{"Archives":{"path":"/archives","icon":"fa-regular fa-archive"},"Photo":{"icon":"fa-solid fa-image","path":"/masonry/"},"Bookmarks":{"icon":"fa-solid fa-bookmark","path":"/bookmarks/"},"shuoshuo":{"icon":"fa-solid fa-bookmark","path":"/essays/"},"Tags":{"icon":"fa-solid fa-tags","path":"/tags/"},"Categories":{"icon":"fa-solid fa-folder","path":"/categories/"}}},"article_date_format":"auto","excerpt_length":200,"categories":{"enable":true,"limit":3},"tags":{"enable":true,"limit":3}},"footerStart":"2022/8/17 11:45:14"};
    window.lang_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
    window.data = {"masonry":true};
  </script>
    
    <!--- Fontawesome Part-->
    
<link rel="stylesheet" href="/zhihaojiang.github.io/fontawesome/fontawesome.min.css">

    
<link rel="stylesheet" href="/zhihaojiang.github.io/fontawesome/brands.min.css">

    
<link rel="stylesheet" href="/zhihaojiang.github.io/fontawesome/solid.min.css">

    
<link rel="stylesheet" href="/zhihaojiang.github.io/fontawesome/regular.min.css">

    
    
    
    
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head>



<body>
	<div class="progress-bar-container">
	

	
	<span class="pjax-progress-bar"></span>
	<!--        <span class="swup-progress-icon">-->
	<!--            <i class="fa-solid fa-circle-notch fa-spin"></i>-->
	<!--        </span>-->
	
</div>

<style>
    :root {
        --preloader-background-color: #fff;
        --preloader-text-color: #000;
    }

    @media (prefers-color-scheme: dark) {
        :root {
            --preloader-background-color: #202124;
            --preloader-text-color: #fff;
        }
    }

    @media (prefers-color-scheme: light) {
        :root {
            --preloader-background-color: #fff;
            --preloader-text-color: #000;
        }
    }

    @media (max-width: 600px) {
        .ml13 {
            font-size: 2.6rem !important; /* Adjust this value as needed */
        }
    }

    .preloader {
        display: flex;
        flex-direction: column;
        gap: 1rem; /* Tailwind 'gap-4' is 1rem */
        align-items: center;
        justify-content: center;
        position: fixed;
        padding: 12px;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        width: 100vw;
        height: 100vh; /* 'h-screen' is 100% of the viewport height */
        background-color: var(--preloader-background-color);
        z-index: 1100; /* 'z-[1100]' sets the z-index */
        transition: opacity 0.2s ease-in-out;
    }

    .ml13 {
        font-size: 3.2rem;
        /* text-transform: uppercase; */
        color: var(--preloader-text-color);
        letter-spacing: -1px;
        font-weight: 500;
        font-family: 'Chillax-Variable', sans-serif;
        text-align: center;
    }

    .ml13 .word {
        display: inline-flex;
        flex-wrap: wrap;
        white-space: nowrap;
    }

    .ml13 .letter {
        display: inline-block;
        line-height: 1em;
    }
</style>

<div class="preloader">
    <h2 class="ml13">
        æ™ºæµ©çš„Blog
    </h2>
    <script>
        var textWrapper = document.querySelector('.ml13');
        // Split text into words
        var words = textWrapper.textContent.trim().split(' ');

        // Clear the existing content
        textWrapper.innerHTML = '';

        // Wrap each word and its letters in spans
        words.forEach(function(word) {
            var wordSpan = document.createElement('span');
            wordSpan.classList.add('word');
            wordSpan.innerHTML = word.replace(/\S/g, "<span class='letter'>$&</span>");
            textWrapper.appendChild(wordSpan);
            textWrapper.appendChild(document.createTextNode(' ')); // Add space between words
        });

        var animation = anime.timeline({ loop: true })
            .add({
                targets: '.ml13 .letter',
                translateY: [20, 0],
                translateZ: 0,
                opacity: [0, 1],
                filter: ['blur(5px)', 'blur(0px)'],
                easing: "easeOutExpo",
                duration: 1200,
                delay: (el, i) => 300 + 20 * i,
            })
            .add({
                targets: '.ml13 .letter',
                translateY: [0, -20],
                opacity: [1, 0],
                filter: ['blur(0px)', 'blur(5px)'],
                easing: "easeInExpo",
                duration: 1000,
                delay: (el, i) => 15 * i,
                complete: function() {
                    hidePreloader();
                }
            }, '-=700');


        let themeStatus = JSON.parse(localStorage.getItem('REDEFINE-THEME-STATUS'))?.isDark;

        // If the theme status is not found in local storage, check the preferred color scheme
        if (themeStatus === undefined || themeStatus === null) {
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                themeStatus = 'dark';
            } else {
                themeStatus = 'light';
            }
        }

        // Now you can use the themeStatus variable in your code
        if (themeStatus) {
            document.documentElement.style.setProperty('--preloader-background-color', '#202124');
            document.documentElement.style.setProperty('--preloader-text-color', '#fff');
        } else {
            document.documentElement.style.setProperty('--preloader-background-color', '#fff');
            document.documentElement.style.setProperty('--preloader-text-color', '#000');
        }

        window.addEventListener('load', function () {
            setTimeout(hidePreloader, 5000); // Call hidePreloader after 5000 milliseconds if not already called by animation
        });

        function hidePreloader() {
            var preloader = document.querySelector('.preloader');
            preloader.style.opacity = '0';
            setTimeout(function () {
                preloader.style.display = 'none';
            }, 200);
        }
    </script>
</div>

<main class="page-container" id="swup">

	

	<div class="main-content-container flex flex-col justify-between min-h-dvh">
		<div class="main-content-header">
			<header class="navbar-container px-6 md:px-12">
    <div class="navbar-content transition-navbar ">
        <div class="left">
            
            <a class="logo-title" href="/zhihaojiang.github.io/">
                
                æ™ºæµ©çš„Blog
                
            </a>
        </div>

        <div class="right">
            <!-- PC -->
            <div class="desktop">
                <ul class="navbar-list">
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/zhihaojiang.github.io/"
                                        >
                                    <i class="fa-regular fa-house fa-fw"></i>
                                    HOME
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/zhihaojiang.github.io/masonry/"
                                        >
                                    <i class="fa-solid fa-image fa-fw"></i>
                                    PHOTO
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/zhihaojiang.github.io/archives"
                                        >
                                    <i class="fa-regular fa-archive fa-fw"></i>
                                    ARCHIVES
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class="has-dropdown"
                                   href="#"
                                        onClick=&#34;return false;&#34;>
                                    <i class="fa-regular fa-user fa-fw"></i>
                                    ABOUT
                                    <i class="fa-solid fa-chevron-down fa-fw"></i>
                                </a>

                                <!-- Submenu -->
                                
                                    <ul class="sub-menu">
                                        
                                            <li>
                                                <a href="/zhihaojiang.github.io/about">
                                                    ME
                                                </a>
                                            </li>
                                        
                                            <li>
                                                <a href="/zhihaojiang.github.io/portfolio/">
                                                    PORTFOLIO
                                                </a>
                                            </li>
                                        
                                            <li>
                                                <a target="_blank" rel="noopener" href="https://github.com/super-213">
                                                    GITHUB
                                                </a>
                                            </li>
                                        
                                    </ul>
                                
                            </li>
                    
                    
                        <li class="navbar-item search search-popup-trigger">
                            <i class="fa-solid fa-magnifying-glass"></i>
                        </li>
                    
                </ul>
            </div>
            <!-- Mobile -->
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fa-solid fa-magnifying-glass"></i>
                    </div>
                
                <div class="icon-item navbar-bar">
                    <div class="navbar-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile sheet -->
    <div class="navbar-drawer h-dvh w-full absolute top-0 left-0 bg-background-color flex flex-col justify-between">
        <ul class="drawer-navbar-list flex flex-col px-4 justify-center items-start">
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/zhihaojiang.github.io/"
                        >
                            <span>
                                HOME
                            </span>
                            
                                <i class="fa-regular fa-house fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/zhihaojiang.github.io/masonry/"
                        >
                            <span>
                                PHOTO
                            </span>
                            
                                <i class="fa-solid fa-image fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/zhihaojiang.github.io/archives"
                        >
                            <span>
                                ARCHIVES
                            </span>
                            
                                <i class="fa-regular fa-archive fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item-sub text-base my-1.5 flex flex-col w-full">
                        
                        <div class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary cursor-pointer text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                             navbar-data-toggle="submenu-About"
                        >
                            <span>
                                ABOUT
                            </span>
                            
                                <i class="fa-solid fa-chevron-right fa-sm fa-fw transition-all"></i>
                            
                        </div>
                        

                        
                            <div class="flex-col items-start px-2 py-2 hidden" data-target="submenu-About">
                                
                                    <div class="drawer-navbar-item text-base flex flex-col justify-center items-start hover:underline active:underline hover:underline-offset-1 rounded-3xl">
                                        <a class=" text-third-text-color text-xl"
                                           href="/zhihaojiang.github.io/about">ME</a>
                                    </div>
                                
                                    <div class="drawer-navbar-item text-base flex flex-col justify-center items-start hover:underline active:underline hover:underline-offset-1 rounded-3xl">
                                        <a class=" text-third-text-color text-xl"
                                           href="/zhihaojiang.github.io/portfolio/">PORTFOLIO</a>
                                    </div>
                                
                                    <div class="drawer-navbar-item text-base flex flex-col justify-center items-start hover:underline active:underline hover:underline-offset-1 rounded-3xl">
                                        <a class=" text-third-text-color text-xl"
                                           target="_blank" rel="noopener" href="https://github.com/super-213">GITHUB</a>
                                    </div>
                                
                            </div>
                        
                    </li>
            

            
            
                
                    
                    
                    
                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full active"
                           href="/zhihaojiang.github.io/bookmarks/"
                        >
                            <span>Bookmarks</span>
                            <i class="fa-solid fa-bookmark fa-sm fa-fw"></i>
                        </a>
                    </li>
                
                    
                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full active"
                           href="/zhihaojiang.github.io/essays/"
                        >
                            <span>Shuoshuo</span>
                            <i class="fa-solid fa-bookmark fa-sm fa-fw"></i>
                        </a>
                    </li>
                
                    
                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full active"
                           href="/zhihaojiang.github.io/tags/"
                        >
                            <span>Tags</span>
                            <i class="fa-solid fa-tags fa-sm fa-fw"></i>
                        </a>
                    </li>
                
                    
                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full active"
                           href="/zhihaojiang.github.io/categories/"
                        >
                            <span>Categories</span>
                            <i class="fa-solid fa-folder fa-sm fa-fw"></i>
                        </a>
                    </li>
                
            
        </ul>

        <div class="statistics flex justify-around my-2.5">
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/zhihaojiang.github.io/tags">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">23</div>
        <div class="label text-third-text-color text-sm">Tags</div>
    </a>
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/zhihaojiang.github.io/categories">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">6</div>
        <div class="label text-third-text-color text-sm">Categories</div>
    </a>
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/zhihaojiang.github.io/archives">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">81</div>
        <div class="label text-third-text-color text-sm">Posts</div>
    </a>
</div>
    </div>

    <div class="window-mask"></div>

</header>


		</div>

		<div class="main-content-body transition-fade-up">
			

			<div class="main-content">
				<div class="post-page-container flex relative justify-between box-border w-full h-full">
	<div class="article-content-container">

		<div class="article-title relative w-full">
			
			<div class="w-full flex items-center pt-6 justify-start">
				<h1 class="article-title-regular text-second-text-color tracking-tight text-4xl md:text-6xl font-semibold px-2 sm:px-6 md:px-8 py-3">Linuxæ“ä½œç³»ç»Ÿ-åŒæ­¥äº’æ–¥</h1>
			</div>
			
		</div>

		
		<div class="article-header flex flex-row gap-2 items-center px-2 sm:px-6 md:px-8">
			<div class="avatar w-[46px] h-[46px] flex-shrink-0 rounded-medium border border-border-color p-[1px]">
				<img src="/zhihaojiang.github.io/images/defaults/IMG_3744.JPG">
			</div>
			<div class="info flex flex-col justify-between">
				<div class="author flex items-center">
					<span class="name text-default-text-color text-lg font-semibold">å§œæ™ºæµ©</span>
					
					<span class="author-label ml-1.5 text-xs px-2 py-0.5 rounded-small text-third-text-color border border-shadow-color-1">Lv5</span>
					
				</div>
				<div class="meta-info">
					<div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fa-regular fa-pen-fancy"></i>&nbsp;
        <span class="desktop">2025-12-24 11:45:14</span>
        <span class="mobile">2025-12-24 11:45:14</span>
        <span class="hover-info">Created</span>
    </span>
    
        <span class="article-date article-meta-item">
            <i class="fa-regular fa-wrench"></i>&nbsp;
            <span class="desktop">2025-12-24 21:29:05</span>
            <span class="mobile">2025-12-24 21:29:05</span>
            <span class="hover-info">Updated</span>
        </span>
    

    
        <span class="article-categories article-meta-item">
            <i class="fa-regular fa-folders"></i>&nbsp;
            <ul>
                
                
                    
                        
                        <li>
                            <a href="/zhihaojiang.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">å­¦ä¹ ç¬”è®°</a>&nbsp;
                        </li>
                    
                    
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fa-regular fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/zhihaojiang.github.io/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/">è®¡ç®—æœºç§‘å­¦</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/zhihaojiang.github.io/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">æ“ä½œç³»ç»Ÿ</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
        <span class="article-wordcount article-meta-item">
            <i class="fa-regular fa-typewriter"></i>&nbsp;<span>7.9k Words</span>
        </span>
    
    
        <span class="article-min2read article-meta-item">
            <i class="fa-regular fa-clock"></i>&nbsp;<span>31 Mins</span>
        </span>
    
    
        <span class="article-pv article-meta-item">
            <i class="fa-regular fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

				</div>
			</div>
		</div>
		

		


		<div class="article-content markdown-body px-2 sm:px-6 md:px-8 pb-8">
			<h1 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>åœ¨ä¸‹åˆ—åŒæ­¥æœºåˆ¶ä¸­ï¼Œå¯ä»¥å®ç°è®©æƒç­‰å¾…çš„æ˜¯<br>A . Peterson æ–¹æ³•<br>B. swap æŒ‡ä»¤<br>C. ä¿¡å·é‡æ–¹æ³•<br>D. TestAndSet æŒ‡ä»¤</p>
<h2 id="è§£æ"><a href="#è§£æ" class="headerlink" title="è§£æ"></a>è§£æ</h2><p><strong>ç­”æ¡ˆï¼šC. ä¿¡å·é‡æ–¹æ³•</strong></p>
<p>æœ¬é¢˜è€ƒæŸ¥åŒæ­¥æœºåˆ¶æ˜¯å¦æ»¡è¶³ <strong>â€œè®©æƒç­‰å¾…â€ï¼ˆWait &amp; Yieldï¼‰</strong> åŸåˆ™ã€‚</p>
<h4 id="ğŸ”¹-ä»€ä¹ˆæ˜¯â€œè®©æƒç­‰å¾…â€ï¼Ÿ"><a href="#ğŸ”¹-ä»€ä¹ˆæ˜¯â€œè®©æƒç­‰å¾…â€ï¼Ÿ" class="headerlink" title="ğŸ”¹ ä»€ä¹ˆæ˜¯â€œè®©æƒç­‰å¾…â€ï¼Ÿ"></a>ğŸ”¹ ä»€ä¹ˆæ˜¯â€œè®©æƒç­‰å¾…â€ï¼Ÿ</h4><ul>
<li>å½“è¿›ç¨‹ç”³è¯·ä¸´ç•Œèµ„æºå¤±è´¥ï¼ˆå¦‚è¿›å…¥åŒºå¤±è´¥ï¼‰æ—¶ï¼Œ<strong>ä¸»åŠ¨æ”¾å¼ƒ CPUï¼ˆé˜»å¡è‡ªå·±ï¼‰</strong>ï¼Œè¿›å…¥ç­‰å¾…é˜Ÿåˆ—ï¼Œä¸å ç”¨å¤„ç†æœºç©ºè½¬ï¼›  </li>
<li>ä¸ä¹‹ç›¸å¯¹çš„æ˜¯ <strong>â€œå¿™ç­‰å¾…ï¼ˆBusy Waitingï¼‰â€</strong>ï¼šè¿›ç¨‹å¾ªç¯æµ‹è¯•æ¡ä»¶ï¼ŒæŒç»­å ç”¨ CPUï¼Œæµªè´¹èµ„æºã€‚</li>
</ul>
<hr>
<h3 id="é€é¡¹åˆ†æï¼š"><a href="#é€é¡¹åˆ†æï¼š" class="headerlink" title="é€é¡¹åˆ†æï¼š"></a>é€é¡¹åˆ†æï¼š</h3><h4 id="A-Peterson-æ–¹æ³•"><a href="#A-Peterson-æ–¹æ³•" class="headerlink" title="A. Peterson æ–¹æ³•"></a>A. Peterson æ–¹æ³•</h4><p>âŒ <strong>å¿™ç­‰å¾…</strong>  </p>
<ul>
<li>çº¯è½¯ä»¶ç®—æ³•ï¼Œé€šè¿‡ <code>flag[]</code> å’Œ <code>turn</code> å˜é‡å®ç°äº’æ–¥ï¼›  </li>
<li>è¿›å…¥ä¸´ç•ŒåŒºå‰å¾ªç¯æ£€æŸ¥æ¡ä»¶ï¼š<code>while (flag[j] &amp;&amp; turn == j);</code>  </li>
<li><strong>æŒç»­å ç”¨ CPU</strong>ï¼Œä¸é‡Šæ”¾å¤„ç†å™¨ â†’ ä¸æ»¡è¶³è®©æƒç­‰å¾…ã€‚</li>
</ul>
<h4 id="B-swap-æŒ‡ä»¤"><a href="#B-swap-æŒ‡ä»¤" class="headerlink" title="B. swap æŒ‡ä»¤"></a>B. swap æŒ‡ä»¤</h4><p>âŒ <strong>å¿™ç­‰å¾…</strong>  </p>
<ul>
<li><code>swap</code> æ˜¯åŸå­äº¤æ¢æŒ‡ä»¤ï¼Œå¸¸ç”¨äºå®ç°<strong>è‡ªæ—‹é”ï¼ˆSpinlockï¼‰</strong>ï¼›  </li>
<li>å…¸å‹ç”¨æ³•ï¼š<div class="code-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (swap(&amp;lock, <span class="number">1</span>) == <span class="number">1</span>); <span class="comment">// å¿™ç­‰</span></span><br></pre></td></tr></table></figure></div></li>
<li>åŒæ ·<strong>å¾ªç¯æµ‹è¯•ï¼Œä¸æ”¾å¼ƒ CPU</strong> â†’ å¿™ç­‰å¾…ã€‚</li>
</ul>
<h4 id="C-ä¿¡å·é‡æ–¹æ³•"><a href="#C-ä¿¡å·é‡æ–¹æ³•" class="headerlink" title="C. ä¿¡å·é‡æ–¹æ³•"></a>C. ä¿¡å·é‡æ–¹æ³•</h4><p>âœ… <strong>è®©æƒç­‰å¾…</strong>  </p>
<ul>
<li>ä¿¡å·é‡ï¼ˆSemaphoreï¼‰ç”± Dijkstra æå‡ºï¼Œæ ‡å‡†å®ç°åŒ…å«ï¼š<div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">wait</span>(S) &#123;</span><br><span class="line">    S.value--;</span><br><span class="line">    <span class="keyword">if</span> (S.value &lt; 0) &#123;</span><br><span class="line">        block();   // é˜»å¡å½“å‰è¿›ç¨‹ï¼Œæ”¾å…¥ç­‰å¾…é˜Ÿåˆ—</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">signal(S) &#123;</span><br><span class="line">    S.value++;</span><br><span class="line">    <span class="keyword">if</span> (S.value &lt;= 0) &#123;</span><br><span class="line">        wakeup();  // å”¤é†’ä¸€ä¸ªç­‰å¾…è¿›ç¨‹</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li>
<li>å½“ <code>S.value &lt; 0</code> æ—¶ï¼Œè¿›ç¨‹<strong>ä¸»åŠ¨é˜»å¡ï¼ˆæ”¾å¼ƒ CPUï¼‰</strong>ï¼Œç”± OS è°ƒåº¦å™¨åˆ‡æ¢åˆ°å…¶ä»–è¿›ç¨‹ï¼›  </li>
<li>æ¢å¤ç”±å…¶ä»–è¿›ç¨‹ <code>signal()</code> æ—¶å”¤é†’ï¼›<br>â†’ <strong>æ»¡è¶³è®©æƒç­‰å¾…</strong>ã€‚</li>
</ul>
<h4 id="D-TestAndSet-æŒ‡ä»¤"><a href="#D-TestAndSet-æŒ‡ä»¤" class="headerlink" title="D. TestAndSet æŒ‡ä»¤"></a>D. TestAndSet æŒ‡ä»¤</h4><p>âŒ <strong>å¿™ç­‰å¾…</strong>  </p>
<ul>
<li>ç¡¬ä»¶åŸå­æŒ‡ä»¤ï¼Œç”¨äºå®ç°è‡ªæ—‹é”ï¼š<div class="code-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (TestAndSet(&amp;lock)); <span class="comment">// å¾ªç¯æµ‹è¯•ï¼Œç›´åˆ°ä¸º0</span></span><br></pre></td></tr></table></figure></div></li>
<li>å…¸å‹ç”¨äºå¤šæ ¸ç³»ç»ŸçŸ­ä¸´ç•ŒåŒºï¼Œä½†ä»æ˜¯<strong>å¿™ç­‰å¾…</strong>ï¼›  </li>
<li>ä¸æ¶‰åŠè¿›ç¨‹é˜»å¡&#x2F;å”¤é†’æœºåˆ¶ã€‚</li>
</ul>
<hr>
<h3 id="ğŸ¯-è€ƒç‚¹æ€»ç»“ï¼š"><a href="#ğŸ¯-è€ƒç‚¹æ€»ç»“ï¼š" class="headerlink" title="ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š"></a>ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š</h3><table>
<thead>
<tr>
<th>åŒæ­¥æœºåˆ¶</th>
<th>æ˜¯å¦è®©æƒç­‰å¾…</th>
<th>åŸå› </th>
</tr>
</thead>
<tbody><tr>
<td>Peterson</td>
<td>âŒ</td>
<td>çº¯è½¯ä»¶å¿™ç­‰</td>
</tr>
<tr>
<td>swap &#x2F; TAS</td>
<td>âŒ</td>
<td>è‡ªæ—‹é”ï¼Œå¿™ç­‰</td>
</tr>
<tr>
<td><strong>ä¿¡å·é‡</strong></td>
<td>âœ…</td>
<td>å¤±è´¥æ—¶ <code>block()</code>ï¼Œè¿›å…¥é˜»å¡æ€</td>
</tr>
<tr>
<td>ç®¡ç¨‹ï¼ˆMonitorï¼‰</td>
<td>âœ…</td>
<td>æ¡ä»¶å˜é‡ <code>wait()</code> ä¼šé˜»å¡</td>
</tr>
</tbody></table>
<blockquote>
<p>âš ï¸ æ³¨æ„ï¼šä¿¡å·é‡çš„<strong>å…·ä½“å®ç°</strong>å¯èƒ½æœ‰å·®å¼‚ï¼Œä½†<strong>æ ‡å‡†å®šä¹‰å’Œæ•™å­¦è¯­å¢ƒä¸‹</strong>ï¼Œä¿¡å·é‡æ˜¯æ”¯æŒè®©æƒç­‰å¾…çš„å…¸å‹æœºåˆ¶ã€‚</p>
</blockquote>
<hr>
<p>âœ… æ­£ç¡®ç­”æ¡ˆï¼š<strong>C. ä¿¡å·é‡æ–¹æ³•</strong></p>
<h1 id="é¢˜ç›®-1"><a href="#é¢˜ç›®-1" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>ä¸‹åˆ—å‡†åˆ™ä¸­å®ç°ä¸´ç•ŒåŒºäº’æ–¥æœºåˆ¶å¿…é¡»éµå¾ªçš„æ˜¯</p>
<hr>
<p>Iã€ ä¸¤ä¸ªè¿›ç¨‹ä¸èƒ½åŒæ—¶è¿›å…¥ä¸´ç•ŒåŒº<br>IIã€ å…è®¸è¿›ç¨‹è®¿é—®ç©ºé—²çš„ä¸´ç•Œèµ„æº<br>IIIã€ è¿›ç¨‹ç­‰å¾…è¿›å…¥ä¸´ç•ŒåŒºçš„æ—¶é—´æ˜¯æœ‰é™çš„<br>IVã€ ä¸èƒ½è¿›å…¥ä¸´ç•ŒåŒºçš„æ‰§è¡Œæ€è¿›ç¨‹ç«‹å³æ”¾å¼ƒ CPU<br>A. ä»…â… ã€â…£ B. ä»…â…¡ã€â…¢ C. ä»…â… ã€â…¡ã€â…¢ D. ä»…â… ã€â…¢ã€â…£</p>
<h2 id="è§£æ-1"><a href="#è§£æ-1" class="headerlink" title="è§£æ"></a>è§£æ</h2><p><strong>ç­”æ¡ˆï¼šC. ä»…â… ã€â…¡ã€â…¢</strong></p>
<p>æœ¬é¢˜è€ƒæŸ¥ <strong>ä¸´ç•ŒåŒºäº’æ–¥æœºåˆ¶å¿…é¡»æ»¡è¶³çš„åŸºæœ¬å‡†åˆ™</strong>ï¼ˆä¹Ÿç§° Petri å‡†åˆ™æˆ–å¹¶å‘æ§åˆ¶å››åŸåˆ™ï¼‰ã€‚</p>
<p>æ ‡å‡†å››æ¡å‡†åˆ™ä¸ºï¼š</p>
<ol>
<li><strong>äº’æ–¥ï¼ˆMutual Exclusionï¼‰</strong>ï¼šä¸èƒ½æœ‰ä¸¤ä¸ªæˆ–ä»¥ä¸Šè¿›ç¨‹åŒæ—¶åœ¨ä¸´ç•ŒåŒºå†…ï¼›  </li>
<li><strong>æœ‰ç©ºè®©è¿›ï¼ˆProgressï¼‰</strong>ï¼šè‹¥æ— è¿›ç¨‹åœ¨ä¸´ç•ŒåŒºï¼Œä¸”æœ‰è¿›ç¨‹å¸Œæœ›è¿›å…¥ï¼Œåˆ™<strong>ä¸åº”æ— é™æ¨è¿Ÿ</strong>å…¶è¿›å…¥ï¼›  </li>
<li><strong>æœ‰é™ç­‰å¾…ï¼ˆBounded Waitingï¼‰</strong>ï¼šä»»ä¸€è¿›ç¨‹ä»æå‡ºè¯·æ±‚åˆ°è¿›å…¥ä¸´ç•ŒåŒºçš„<strong>ç­‰å¾…æ—¶é—´æœ‰ä¸Šç•Œ</strong>ï¼›  </li>
<li><strong>è®©æƒç­‰å¾…ï¼ˆå¯é€‰ï¼Œéå¿…é¡»ï¼‰</strong>ï¼šç­‰å¾…è¿›ç¨‹åº”é‡Šæ”¾ CPUï¼ˆé˜»å¡ï¼‰ï¼Œé¿å…å¿™ç­‰å¾… â€”â€” è¿™æ˜¯<strong>æ€§èƒ½&#x2F;å®ç°è¦æ±‚ï¼Œéæ­£ç¡®æ€§å¿…è¦æ¡ä»¶</strong>ã€‚</li>
</ol>
<hr>
<h3 id="é€é¡¹å¯¹åº”é¢˜å¹²ï¼š"><a href="#é€é¡¹å¯¹åº”é¢˜å¹²ï¼š" class="headerlink" title="é€é¡¹å¯¹åº”é¢˜å¹²ï¼š"></a>é€é¡¹å¯¹åº”é¢˜å¹²ï¼š</h3><h4 id="I-ä¸¤ä¸ªè¿›ç¨‹ä¸èƒ½åŒæ—¶è¿›å…¥ä¸´ç•ŒåŒº"><a href="#I-ä¸¤ä¸ªè¿›ç¨‹ä¸èƒ½åŒæ—¶è¿›å…¥ä¸´ç•ŒåŒº" class="headerlink" title="I. ä¸¤ä¸ªè¿›ç¨‹ä¸èƒ½åŒæ—¶è¿›å…¥ä¸´ç•ŒåŒº"></a>I. ä¸¤ä¸ªè¿›ç¨‹ä¸èƒ½åŒæ—¶è¿›å…¥ä¸´ç•ŒåŒº</h4><p>âœ… <strong>å¿…é¡»éµå¾ª</strong> â€”â€” å¯¹åº” <strong>äº’æ–¥åŸåˆ™</strong>ï¼Œæ˜¯ä¸´ç•ŒåŒºå®šä¹‰çš„æ ¸å¿ƒã€‚</p>
<h4 id="II-å…è®¸è¿›ç¨‹è®¿é—®ç©ºé—²çš„ä¸´ç•Œèµ„æº"><a href="#II-å…è®¸è¿›ç¨‹è®¿é—®ç©ºé—²çš„ä¸´ç•Œèµ„æº" class="headerlink" title="II. å…è®¸è¿›ç¨‹è®¿é—®ç©ºé—²çš„ä¸´ç•Œèµ„æº"></a>II. å…è®¸è¿›ç¨‹è®¿é—®ç©ºé—²çš„ä¸´ç•Œèµ„æº</h4><p>âœ… <strong>å¿…é¡»éµå¾ª</strong> â€”â€” å¯¹åº” <strong>æœ‰ç©ºè®©è¿›ï¼ˆProgressï¼‰</strong>ï¼šè‹¥ä¸´ç•ŒåŒºç©ºé—²ï¼Œä¸åº”é˜»æ­¢è¿›ç¨‹è¿›å…¥ï¼ˆå³ä¸èƒ½å› è°ƒåº¦ç­–ç•¥å¯¼è‡´â€œå‡æ­»â€ï¼‰ã€‚</p>
<h4 id="III-è¿›ç¨‹ç­‰å¾…è¿›å…¥ä¸´ç•ŒåŒºçš„æ—¶é—´æ˜¯æœ‰é™çš„"><a href="#III-è¿›ç¨‹ç­‰å¾…è¿›å…¥ä¸´ç•ŒåŒºçš„æ—¶é—´æ˜¯æœ‰é™çš„" class="headerlink" title="III. è¿›ç¨‹ç­‰å¾…è¿›å…¥ä¸´ç•ŒåŒºçš„æ—¶é—´æ˜¯æœ‰é™çš„"></a>III. è¿›ç¨‹ç­‰å¾…è¿›å…¥ä¸´ç•ŒåŒºçš„æ—¶é—´æ˜¯æœ‰é™çš„</h4><p>âœ… <strong>å¿…é¡»éµå¾ª</strong> â€”â€” å¯¹åº” <strong>æœ‰é™ç­‰å¾…</strong>ï¼šé˜²æ­¢é¥¥é¥¿ï¼ˆStarvationï¼‰ï¼Œç¡®ä¿å…¬å¹³æ€§ï¼›è‹¥ç­‰å¾…å¯æ— é™é•¿ï¼Œåˆ™ç³»ç»Ÿå¯èƒ½æ´»é”æˆ–ä¸å…¬å¹³ã€‚</p>
<h4 id="IV-ä¸èƒ½è¿›å…¥ä¸´ç•ŒåŒºçš„æ‰§è¡Œæ€è¿›ç¨‹ç«‹å³æ”¾å¼ƒ-CPU"><a href="#IV-ä¸èƒ½è¿›å…¥ä¸´ç•ŒåŒºçš„æ‰§è¡Œæ€è¿›ç¨‹ç«‹å³æ”¾å¼ƒ-CPU" class="headerlink" title="IV. ä¸èƒ½è¿›å…¥ä¸´ç•ŒåŒºçš„æ‰§è¡Œæ€è¿›ç¨‹ç«‹å³æ”¾å¼ƒ CPU"></a>IV. ä¸èƒ½è¿›å…¥ä¸´ç•ŒåŒºçš„æ‰§è¡Œæ€è¿›ç¨‹ç«‹å³æ”¾å¼ƒ CPU</h4><p>âŒ <strong>éå¿…é¡»éµå¾ª</strong>  </p>
<ul>
<li>è¿™æ˜¯ <strong>â€œè®©æƒç­‰å¾…â€</strong> çš„è¦æ±‚ï¼Œå±äº<strong>å®ç°ä¼˜åŒ–</strong>ï¼Œéæ­£ç¡®æ€§å‰æï¼›  </li>
<li>ä¾‹å¦‚ <strong>Peterson ç®—æ³•ã€TestAndSet è‡ªæ—‹é”</strong> éƒ½æ˜¯<strong>å¿™ç­‰å¾…</strong>ï¼ˆä¸æ”¾å¼ƒ CPUï¼‰ï¼Œä½†ä»èƒ½<strong>æ­£ç¡®å®ç°äº’æ–¥</strong>ï¼›  </li>
<li>åœ¨å•å¤„ç†æœºç³»ç»Ÿæˆ–çŸ­ä¸´ç•ŒåŒºåœºæ™¯ä¸‹ï¼Œå¿™ç­‰å¾…å¯æ¥å—ï¼›  </li>
<li>æ˜¯å¦è®©æƒï¼Œå–å†³äº OS è®¾è®¡ï¼Œ<strong>ä¸å½±å“äº’æ–¥æœºåˆ¶çš„é€»è¾‘æ­£ç¡®æ€§</strong>ã€‚</li>
</ul>
<hr>
<h3 id="ğŸ¯-è€ƒç‚¹æ€»ç»“ï¼š-1"><a href="#ğŸ¯-è€ƒç‚¹æ€»ç»“ï¼š-1" class="headerlink" title="ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š"></a>ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š</h3><table>
<thead>
<tr>
<th>å‡†åˆ™</th>
<th>æ˜¯å¦å¿…é¡»</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>äº’æ–¥ï¼ˆIï¼‰</td>
<td>âœ… æ˜¯</td>
<td>æ ¸å¿ƒè¦æ±‚</td>
</tr>
<tr>
<td>æœ‰ç©ºè®©è¿›ï¼ˆIIï¼‰</td>
<td>âœ… æ˜¯</td>
<td>é¿å…æ— è°“é˜»å¡</td>
</tr>
<tr>
<td>æœ‰é™ç­‰å¾…ï¼ˆIIIï¼‰</td>
<td>âœ… æ˜¯</td>
<td>é˜²æ­¢é¥¥é¥¿</td>
</tr>
<tr>
<td>è®©æƒç­‰å¾…ï¼ˆIVï¼‰</td>
<td>âŒ å¦</td>
<td>å±äºæ€§èƒ½&#x2F;å®ç°ç­–ç•¥</td>
</tr>
</tbody></table>
<blockquote>
<p>ğŸ“š å‚è€ƒï¼šã€Šæ“ä½œç³»ç»Ÿæ¦‚å¿µã€‹ï¼ˆSilberschatzï¼‰â€”â€” ä¸´ç•ŒåŒºé—®é¢˜çš„ä¸‰æ¡ä»¶ï¼šMutual Exclusion, Progress, Bounded Waiting<br>ï¼ˆæ³¨æ„ï¼šä¹¦ä¸­æ˜ç¡®æŒ‡å‡ºï¼Œ<strong>å¿™ç­‰å¾…ç®—æ³•å¯æ»¡è¶³å‰ä¸‰è€…ï¼Œä½†è¿åâ€œéå¿™ç­‰å¾…â€è¿™ä¸€é¢å¤–æœŸæœ›</strong>ï¼‰</p>
</blockquote>
<hr>
<p>âœ… æ­£ç¡®ç­”æ¡ˆï¼š<strong>C. ä»…â… ã€â…¡ã€â…¢</strong></p>
<h1 id="é¢˜ç›®-2"><a href="#é¢˜ç›®-2" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>è®¾ä¸æŸèµ„æºå…³è”çš„ä¿¡å·é‡åˆå€¼ä¸º 3ï¼Œå½“å‰å€¼ä¸º 1ã€‚è‹¥ M è¡¨ç¤ºè¯¥èµ„æºçš„å¯ç”¨ä¸ªæ•°ï¼ŒN è¡¨ç¤ºç­‰å¾…è¯¥èµ„æºçš„è¿›ç¨‹<br>æ•°ï¼Œåˆ™ Mã€N åˆ†åˆ«æ˜¯</p>
<hr>
<p>ã€‚(2010)<br>Aï¼0ã€1 Bï¼1ã€0 Cï¼1ã€2 Dï¼2ã€0</p>
<h2 id="è§£æ-2"><a href="#è§£æ-2" class="headerlink" title="è§£æ"></a>è§£æ</h2><p><strong>ç­”æ¡ˆï¼šBï¼1ã€0</strong></p>
<p>æœ¬é¢˜è€ƒæŸ¥ <strong>ä¿¡å·é‡ç‰©ç†æ„ä¹‰çš„ç†è§£</strong>ã€‚</p>
<p>è®¾æŸç±»èµ„æºæœ‰ <strong>å¤šä¸ªå®ä¾‹</strong>ï¼ˆå¦‚æ‰“å°æœºã€ç¼“å†²åŒºï¼‰ï¼Œç”¨<strong>è®¡æ•°ä¿¡å·é‡ï¼ˆCounting Semaphoreï¼‰</strong> ç®¡ç†ã€‚</p>
<ul>
<li><strong>ä¿¡å·é‡çš„å€¼ <code>S</code> è¡¨ç¤ºï¼šå½“å‰å¯ç”¨èµ„æºæ•°ï¼ˆè‹¥ <code>S â‰¥ 0</code>ï¼‰ï¼›<br>è‹¥ <code>S &lt; 0</code>ï¼Œåˆ™ <code>|S|</code> è¡¨ç¤ºç­‰å¾…è¯¥èµ„æºçš„è¿›ç¨‹æ•°</strong>ã€‚</li>
</ul>
<p>æ›´ç²¾ç¡®åœ°è¯´ï¼š</p>
<p>$$<br>\begin{cases}<br>S &gt; 0 &amp;\Rightarrow \text{æœ‰ } S \text{ ä¸ªèµ„æºç©ºé—²}ï¼Œ\text{æ— è¿›ç¨‹ç­‰å¾…} \<br>S &#x3D; 0 &amp;\Rightarrow \text{èµ„æºåˆšå¥½ç”¨å®Œ}ï¼Œ\text{æ— è¿›ç¨‹ç­‰å¾…} \<br>S &lt; 0 &amp;\Rightarrow \text{æ— ç©ºé—²èµ„æº}ï¼Œ\text{æœ‰ } |S| \text{ ä¸ªè¿›ç¨‹é˜»å¡ç­‰å¾…}<br>\end{cases}<br>$$</p>
<hr>
<h3 id="é¢˜ç›®æ¡ä»¶ï¼š"><a href="#é¢˜ç›®æ¡ä»¶ï¼š" class="headerlink" title="é¢˜ç›®æ¡ä»¶ï¼š"></a>é¢˜ç›®æ¡ä»¶ï¼š</h3><ul>
<li>ä¿¡å·é‡åˆå€¼ &#x3D; 3 â†’ ç³»ç»Ÿå…±æœ‰ <strong>3 ä¸ªè¯¥ç±»èµ„æº</strong>  </li>
<li>å½“å‰å€¼ &#x3D; 1</li>
</ul>
<p>â†’ å› ä¸º <strong>1 &gt; 0</strong>ï¼Œæ‰€ä»¥ï¼š  </p>
<ul>
<li><strong>å¯ç”¨èµ„æºæ•° M &#x3D; 1</strong>  </li>
<li><strong>ç­‰å¾…è¿›ç¨‹æ•° N &#x3D; 0</strong></li>
</ul>
<hr>
<h3 id="ğŸ”-éªŒè¯è¿‡ç¨‹ï¼š"><a href="#ğŸ”-éªŒè¯è¿‡ç¨‹ï¼š" class="headerlink" title="ğŸ” éªŒè¯è¿‡ç¨‹ï¼š"></a>ğŸ” éªŒè¯è¿‡ç¨‹ï¼š</h3><ul>
<li>åˆå§‹ï¼šS &#x3D; 3ï¼ˆ3 ä¸ªç©ºé—²èµ„æºï¼‰  </li>
<li>æŸè¿›ç¨‹æ‰§è¡Œ <code>wait()</code>ï¼ˆP æ“ä½œï¼‰ï¼šS &#x3D; 2  </li>
<li>å†ä¸€ä¸ª <code>wait()</code>ï¼šS &#x3D; 1<br>â†’ æ­¤æ—¶ 2 ä¸ªèµ„æºå·²è¢«å ç”¨ï¼Œ1 ä¸ªç©ºé—²ï¼Œæ— ç­‰å¾…è¿›ç¨‹ã€‚</li>
</ul>
<p>å³ï¼š  </p>
<ul>
<li>å·²åˆ†é…èµ„æºæ•° &#x3D; åˆå€¼ âˆ’ å½“å‰å€¼ &#x3D; 3 âˆ’ 1 &#x3D; 2  </li>
<li>å¯ç”¨èµ„æº M &#x3D; å½“å‰å€¼ &#x3D; <strong>1</strong>ï¼ˆå›  S &gt; 0ï¼‰  </li>
<li>ç­‰å¾…è¿›ç¨‹ N &#x3D; max(0, âˆ’S) &#x3D; 0</li>
</ul>
<hr>
<h3 id="âŒ-æ’é™¤å¹²æ‰°é€‰é¡¹ï¼š"><a href="#âŒ-æ’é™¤å¹²æ‰°é€‰é¡¹ï¼š" class="headerlink" title="âŒ æ’é™¤å¹²æ‰°é€‰é¡¹ï¼š"></a>âŒ æ’é™¤å¹²æ‰°é€‰é¡¹ï¼š</h3><ul>
<li>Aï¼ˆ0,1ï¼‰ï¼šå¯¹åº” S &#x3D; âˆ’1ï¼ˆ1 ä¸ªç­‰å¾…ï¼Œ0 ä¸ªç©ºé—²ï¼‰  </li>
<li>Cï¼ˆ1,2ï¼‰ï¼šçŸ›ç›¾ï¼ˆæœ‰ 1 ä¸ªç©ºé—²ï¼Œæ€ä¼š 2 ä¸ªç­‰å¾…ï¼Ÿï¼‰  </li>
<li>Dï¼ˆ2,0ï¼‰ï¼šå¯¹åº” S &#x3D; 2</li>
</ul>
<hr>
<h3 id="ğŸ¯-è€ƒç‚¹æ€»ç»“ï¼š-2"><a href="#ğŸ¯-è€ƒç‚¹æ€»ç»“ï¼š-2" class="headerlink" title="ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š"></a>ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š</h3><ul>
<li>ä¿¡å·é‡å€¼ &#x3D; å¯ç”¨èµ„æºæ•°ï¼ˆå½“ â‰¥ 0ï¼‰  </li>
<li>ç­‰å¾…è¿›ç¨‹æ•° &#x3D; <code>max(0, âˆ’S)</code>  </li>
<li>èµ„æºæ€»æ•° &#x3D; åˆå€¼ &#x3D; å¯ç”¨ + å·²åˆ†é…  </li>
<li>å·²åˆ†é… &#x3D; åˆå€¼ âˆ’ max(S, 0)</li>
</ul>
<hr>
<p>âœ… æ­£ç¡®ç­”æ¡ˆï¼š<strong>Bï¼1ã€0</strong></p>
<h1 id="é¢˜ç›®-3"><a href="#é¢˜ç›®-3" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>ä½¿ç”¨TSL(Test and Set Lock)æŒ‡ä»¤å®ç°è¿›ç¨‹äº’æ–¥çš„ä¼ªä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚<br>do {<br>â€¦â€¦<br>while(TSL(&amp;lock))ï¼›<br>critical sectionï¼›<br>lock&#x3D;FALSEï¼›<br>â€¦â€¦<br>} while(TRUE)ï¼›<br>ä¸‹åˆ—ä¸è¯¥å®ç°æœºåˆ¶ç›¸å…³çš„å™è¿°ä¸­ï¼Œæ­£ç¡®çš„æ˜¯</p>
<hr>
<p>Aï¼é€€å‡ºä¸´ç•ŒåŒºçš„è¿›ç¨‹è´Ÿè´£å”¤é†’é˜»å¡æ€è¿›ç¨‹<br>Bï¼ç­‰å¾…è¿›å…¥ä¸´ç•ŒåŒºçš„è¿›ç¨‹ä¸ä¼šä¸»åŠ¨æ”¾å¼ƒCPU<br>Cï¼ä¸Šè¿°ä¼ªä»£ç æ»¡è¶³â€œè®©æƒç­‰å¾…â€çš„åŒæ­¥å‡†åˆ™<br>Dï¼while(TSL(&amp;lock))è¯­å¥åº”åœ¨å…³ä¸­æ–­çŠ¶æ€ä¸‹æ‰§è¡Œ</p>
<h2 id="è§£æ-3"><a href="#è§£æ-3" class="headerlink" title="è§£æ"></a>è§£æ</h2><p><strong>ç­”æ¡ˆï¼šBï¼ç­‰å¾…è¿›å…¥ä¸´ç•ŒåŒºçš„è¿›ç¨‹ä¸ä¼šä¸»åŠ¨æ”¾å¼ƒCPU</strong></p>
<p>æœ¬é¢˜è€ƒæŸ¥ <strong>TSLï¼ˆTest-and-Set Lockï¼‰æŒ‡ä»¤å®ç°çš„äº’æ–¥æœºåˆ¶ç‰¹æ€§</strong>ã€‚</p>
<p>ç»™å‡ºçš„ä¼ªä»£ç æ˜¯å…¸å‹çš„<strong>è‡ªæ—‹é”ï¼ˆSpinlockï¼‰</strong> å®ç°ï¼š</p>
<div class="code-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">while</span> (TSL(&amp;lock));   <span class="comment">// å¿™ç­‰å¾…ï¼šåå¤æµ‹è¯•å¹¶è®¾ç½® lock</span></span><br><span class="line">    critical section;</span><br><span class="line">    lock = FALSE;         <span class="comment">// é€€å‡ºä¸´ç•ŒåŒºï¼Œé‡Šæ”¾é”</span></span><br><span class="line">    ...</span><br><span class="line">&#125; <span class="keyword">while</span> (TRUE);</span><br></pre></td></tr></table></figure></div>

<p>å…¶ä¸­ <code>TSL(&amp;lock)</code> æ˜¯åŸå­æ“ä½œï¼Œç­‰ä»·äºï¼š</p>
<div class="code-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">bool</span> <span class="title function_">TSL</span><span class="params">(<span class="type">bool</span> *lock)</span> &#123;</span><br><span class="line">    <span class="type">bool</span> old = *lock;</span><br><span class="line">    *lock = TRUE;</span><br><span class="line">    <span class="keyword">return</span> old;   <span class="comment">// è¿”å›åŸå€¼ï¼šè‹¥åŸä¸º FALSEï¼ˆæœªé”ï¼‰ï¼Œè¿”å› FALSEï¼Œé€€å‡ºå¾ªç¯</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>å³ï¼š<strong>åªæœ‰å½“ lock åŸä¸º FALSE æ—¶ï¼ŒTSL è¿”å› FALSEï¼Œå¾ªç¯ç»“æŸï¼Œè¿›ç¨‹è¿›å…¥ä¸´ç•ŒåŒº</strong>ã€‚</p>
<hr>
<h3 id="é€é¡¹åˆ†æé€‰é¡¹ï¼š"><a href="#é€é¡¹åˆ†æé€‰é¡¹ï¼š" class="headerlink" title="é€é¡¹åˆ†æé€‰é¡¹ï¼š"></a>é€é¡¹åˆ†æé€‰é¡¹ï¼š</h3><h4 id="Aï¼é€€å‡ºä¸´ç•ŒåŒºçš„è¿›ç¨‹è´Ÿè´£å”¤é†’é˜»å¡æ€è¿›ç¨‹"><a href="#Aï¼é€€å‡ºä¸´ç•ŒåŒºçš„è¿›ç¨‹è´Ÿè´£å”¤é†’é˜»å¡æ€è¿›ç¨‹" class="headerlink" title="Aï¼é€€å‡ºä¸´ç•ŒåŒºçš„è¿›ç¨‹è´Ÿè´£å”¤é†’é˜»å¡æ€è¿›ç¨‹"></a>Aï¼é€€å‡ºä¸´ç•ŒåŒºçš„è¿›ç¨‹è´Ÿè´£å”¤é†’é˜»å¡æ€è¿›ç¨‹</h4><p>âŒ <strong>é”™è¯¯</strong>ã€‚  </p>
<ul>
<li>TSL å®ç°çš„æ˜¯<strong>å¿™ç­‰å¾…</strong>ï¼Œç­‰å¾…è¿›ç¨‹å¤„äº<strong>è¿è¡Œæ€ï¼ˆå°±ç»ª&#x2F;æ‰§è¡Œï¼‰</strong>ï¼Œ<strong>å¹¶éé˜»å¡æ€</strong>ï¼›  </li>
<li>å®ƒä»¬åœ¨ <code>while</code> å¾ªç¯ä¸­ä¸æ–­æ‰§è¡Œ TSLï¼Œ<strong>æŒç»­å ç”¨ CPU</strong>ï¼›  </li>
<li>é€€å‡ºæ—¶åªéœ€ <code>lock = FALSE</code>ï¼Œ<strong>æ— éœ€å”¤é†’æ“ä½œ</strong>ï¼ˆæ— è¿›ç¨‹åœ¨ç­‰å¾…é˜Ÿåˆ—ä¸­ï¼‰ï¼›  </li>
<li>å”¤é†’æœºåˆ¶å­˜åœ¨äº<strong>ä¿¡å·é‡ã€ç®¡ç¨‹ç­‰é˜»å¡å¼åŒæ­¥æœºåˆ¶</strong>ä¸­ï¼Œ<strong>TSL ä¸å…·å¤‡</strong>ã€‚</li>
</ul>
<h4 id="Bï¼ç­‰å¾…è¿›å…¥ä¸´ç•ŒåŒºçš„è¿›ç¨‹ä¸ä¼šä¸»åŠ¨æ”¾å¼ƒCPU"><a href="#Bï¼ç­‰å¾…è¿›å…¥ä¸´ç•ŒåŒºçš„è¿›ç¨‹ä¸ä¼šä¸»åŠ¨æ”¾å¼ƒCPU" class="headerlink" title="Bï¼ç­‰å¾…è¿›å…¥ä¸´ç•ŒåŒºçš„è¿›ç¨‹ä¸ä¼šä¸»åŠ¨æ”¾å¼ƒCPU"></a>Bï¼ç­‰å¾…è¿›å…¥ä¸´ç•ŒåŒºçš„è¿›ç¨‹ä¸ä¼šä¸»åŠ¨æ”¾å¼ƒCPU</h4><p>âœ… <strong>æ­£ç¡®</strong>ã€‚  </p>
<ul>
<li><code>while (TSL(&amp;lock));</code> æ˜¯ä¸€ä¸ª<strong>ç©ºå¾ªç¯</strong>ï¼Œè¿›ç¨‹åå¤æµ‹è¯• lock çŠ¶æ€ï¼›  </li>
<li>åªè¦ lock &#x3D;&#x3D; TRUEï¼Œå°±ç»§ç»­å¾ªç¯ï¼Œ<strong>ä¸è°ƒç”¨ sleepã€yield æˆ– block</strong>ï¼›  </li>
<li>å› æ­¤ï¼Œ<strong>CPU ä¸€ç›´è¢«è¯¥è¿›ç¨‹å ç”¨</strong>ï¼Œå±äºå…¸å‹çš„<strong>å¿™ç­‰å¾…ï¼ˆBusy Waitingï¼‰</strong>ï¼›<br>â†’ ç¬¦åˆ TSL&#x2F;è‡ªæ—‹é”çš„æœ¬è´¨ç‰¹å¾ã€‚</li>
</ul>
<h4 id="Cï¼ä¸Šè¿°ä¼ªä»£ç æ»¡è¶³â€œè®©æƒç­‰å¾…â€çš„åŒæ­¥å‡†åˆ™"><a href="#Cï¼ä¸Šè¿°ä¼ªä»£ç æ»¡è¶³â€œè®©æƒç­‰å¾…â€çš„åŒæ­¥å‡†åˆ™" class="headerlink" title="Cï¼ä¸Šè¿°ä¼ªä»£ç æ»¡è¶³â€œè®©æƒç­‰å¾…â€çš„åŒæ­¥å‡†åˆ™"></a>Cï¼ä¸Šè¿°ä¼ªä»£ç æ»¡è¶³â€œè®©æƒç­‰å¾…â€çš„åŒæ­¥å‡†åˆ™</h4><p>âŒ <strong>é”™è¯¯</strong>ã€‚  </p>
<ul>
<li>â€œè®©æƒç­‰å¾…â€è¦æ±‚ï¼š<strong>è¿›ç¨‹ç­‰å¾…æ—¶ä¸»åŠ¨é‡Šæ”¾ CPUï¼ˆè¿›å…¥é˜»å¡æ€ï¼‰</strong>ï¼›  </li>
<li>è€Œæœ¬ä»£ç æ˜¯å¿™ç­‰å¾…ï¼Œ<strong>è¿åè®©æƒç­‰å¾…</strong>ï¼›  </li>
<li>æ»¡è¶³â€œè®©æƒç­‰å¾…â€çš„æ˜¯ä¿¡å·é‡ã€æ¡ä»¶å˜é‡ç­‰æœºåˆ¶ã€‚</li>
</ul>
<h4 id="Dï¼while-TSL-lock-è¯­å¥åº”åœ¨å…³ä¸­æ–­çŠ¶æ€ä¸‹æ‰§è¡Œ"><a href="#Dï¼while-TSL-lock-è¯­å¥åº”åœ¨å…³ä¸­æ–­çŠ¶æ€ä¸‹æ‰§è¡Œ" class="headerlink" title="Dï¼while(TSL(&amp;lock))è¯­å¥åº”åœ¨å…³ä¸­æ–­çŠ¶æ€ä¸‹æ‰§è¡Œ"></a>Dï¼<code>while(TSL(&amp;lock))</code>è¯­å¥åº”åœ¨å…³ä¸­æ–­çŠ¶æ€ä¸‹æ‰§è¡Œ</h4><p>âŒ <strong>é”™è¯¯</strong>ã€‚  </p>
<ul>
<li>TSL æ˜¯<strong>ç¡¬ä»¶æä¾›çš„åŸå­æŒ‡ä»¤</strong>ï¼Œå…¶æ‰§è¡Œæœ¬èº«æ˜¯ä¸å¯ä¸­æ–­çš„ï¼ˆåŸå­æ€§ç”± CPU ä¿è¯ï¼‰ï¼›  </li>
<li>ä¸éœ€è¦å…³ä¸­æ–­ï¼›  </li>
<li><strong>å…³ä¸­æ–­</strong>ç”¨äºä¿æŠ¤<strong>ä¸´ç•ŒåŒºæœ¬èº«</strong>ï¼ˆå¦‚ä¿®æ”¹å†…æ ¸æ•°æ®ç»“æ„ï¼‰ï¼Œè€Œéç”¨äº TSL æµ‹è¯•ï¼›  </li>
<li>è‹¥å…³ä¸­æ–­æ‰§è¡Œé•¿æ—¶é—´å¿™ç­‰å¾…ï¼Œä¼šå¯¼è‡´<strong>ç³»ç»Ÿæ— æ³•å“åº”æ—¶é’Ÿä¸­æ–­</strong>ï¼Œä¸¢å¤±è°ƒåº¦ï¼Œæå…¶å±é™©ï¼</li>
</ul>
<blockquote>
<p>âœ… æ­£ç¡®åšæ³•ï¼šTSL æœ¬èº«æ˜¯åŸå­çš„ï¼Œå¯å¼€ä¸­æ–­æ‰§è¡Œï¼›ä½†ä¸´ç•ŒåŒºè‹¥æ¶‰åŠå†…æ ¸æ•°æ®ï¼Œéœ€å…³ä¸­æ–­æˆ–ä½¿ç”¨æ›´é«˜çº§åŒæ­¥ã€‚</p>
</blockquote>
<hr>
<h3 id="ğŸ¯-è€ƒç‚¹æ€»ç»“ï¼š-3"><a href="#ğŸ¯-è€ƒç‚¹æ€»ç»“ï¼š-3" class="headerlink" title="ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š"></a>ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š</h3><table>
<thead>
<tr>
<th>æœºåˆ¶</th>
<th>æ˜¯å¦å¿™ç­‰å¾…</th>
<th>æ˜¯å¦è®©æƒç­‰å¾…</th>
<th>æ˜¯å¦éœ€å”¤é†’</th>
<th>å…¸å‹åœºæ™¯</th>
</tr>
</thead>
<tbody><tr>
<td><strong>TSL &#x2F; TAS &#x2F; Swap</strong></td>
<td>âœ… æ˜¯</td>
<td>âŒ å¦</td>
<td>âŒ å¦</td>
<td>å¤šæ ¸çŸ­ä¸´ç•ŒåŒºã€å†…æ ¸è‡ªæ—‹é”</td>
</tr>
<tr>
<td><strong>ä¿¡å·é‡ï¼ˆblock&#x2F;wakeupï¼‰</strong></td>
<td>âŒ å¦</td>
<td>âœ… æ˜¯</td>
<td>âœ… æ˜¯</td>
<td>ç”¨æˆ·æ€é•¿ä¸´ç•ŒåŒº</td>
</tr>
<tr>
<td><strong>Peterson ç®—æ³•</strong></td>
<td>âœ… æ˜¯</td>
<td>âŒ å¦</td>
<td>âŒ å¦</td>
<td>å•å¤„ç†æœºè½¯ä»¶äº’æ–¥</td>
</tr>
</tbody></table>
<hr>
<p>âœ… æ­£ç¡®ç­”æ¡ˆï¼š<strong>B</strong></p>
<h1 id="é¢˜ç›®-4"><a href="#é¢˜ç›®-4" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>ä¸‹åˆ—å…³äºç®¡ç¨‹çš„å™è¿°ä¸­ï¼Œé”™è¯¯çš„æ˜¯______<br>ã€‚(2016)<br>Aï¼ç®¡ç¨‹åªèƒ½ç”¨äºå®ç°è¿›ç¨‹çš„äº’æ–¥<br>Bï¼ç®¡ç¨‹æ˜¯ç”±ç¼–ç¨‹è¯­è¨€æ”¯æŒçš„è¿›ç¨‹åŒæ­¥æœºåˆ¶<br>Cï¼ä»»ä½•æ—¶å€™åªèƒ½æœ‰ä¸€ä¸ªè¿›ç¨‹åœ¨ç®¡ç¨‹ä¸­æ‰§è¡Œ<br>Dï¼ç®¡ç¨‹ä¸­å®šä¹‰çš„å˜é‡åªèƒ½è¢«ç®¡ç¨‹å†…çš„è¿‡ç¨‹è®¿é—®</p>
<h2 id="è§£æ-4"><a href="#è§£æ-4" class="headerlink" title="è§£æ"></a>è§£æ</h2><p><strong>ç­”æ¡ˆï¼šAï¼ç®¡ç¨‹åªèƒ½ç”¨äºå®ç°è¿›ç¨‹çš„äº’æ–¥</strong></p>
<p>æœ¬é¢˜è€ƒæŸ¥å¯¹ <strong>ç®¡ç¨‹ï¼ˆMonitorï¼‰</strong> æ¦‚å¿µçš„ç†è§£ã€‚</p>
<p>ç®¡ç¨‹æ˜¯ä¸€ç§<strong>é«˜çº§åŒæ­¥æœºåˆ¶</strong>ï¼Œç”± Hoare å’Œ Brinch Hansen æå‡ºï¼Œå¹¿æ³›ç”¨äºæ“ä½œç³»ç»Ÿå’Œç¼–ç¨‹è¯­è¨€ï¼ˆå¦‚ Java çš„ <code>synchronized</code> åŸºäºç®¡ç¨‹æ€æƒ³ï¼‰ã€‚</p>
<p>æˆ‘ä»¬é€é¡¹åˆ†æï¼š</p>
<hr>
<h4 id="Aï¼ç®¡ç¨‹åªèƒ½ç”¨äºå®ç°è¿›ç¨‹çš„äº’æ–¥"><a href="#Aï¼ç®¡ç¨‹åªèƒ½ç”¨äºå®ç°è¿›ç¨‹çš„äº’æ–¥" class="headerlink" title="Aï¼ç®¡ç¨‹åªèƒ½ç”¨äºå®ç°è¿›ç¨‹çš„äº’æ–¥"></a>Aï¼ç®¡ç¨‹åªèƒ½ç”¨äºå®ç°è¿›ç¨‹çš„äº’æ–¥</h4><p>âŒ <strong>é”™è¯¯</strong>ï¼ˆæœ¬é¢˜ç­”æ¡ˆï¼‰  </p>
<ul>
<li>ç®¡ç¨‹ä¸ä»…èƒ½å®ç°<strong>äº’æ–¥</strong>ï¼Œæ›´èƒ½å®ç°<strong>è¿›ç¨‹åŒæ­¥ï¼ˆåä½œï¼‰</strong>ï¼›  </li>
<li>å…³é”®åœ¨äº <strong>æ¡ä»¶å˜é‡ï¼ˆcondition variableï¼‰</strong>ï¼š  <ul>
<li><code>wait(cv)</code>ï¼šé‡Šæ”¾ç®¡ç¨‹é” + é˜»å¡è¿›ç¨‹  </li>
<li><code>signal(cv)</code> &#x2F; <code>notify(cv)</code>ï¼šå”¤é†’ç­‰å¾…è¿›ç¨‹</li>
</ul>
</li>
<li>å…¸å‹åº”ç”¨ï¼š  <ul>
<li>ç”Ÿäº§è€…-æ¶ˆè´¹è€…é—®é¢˜  </li>
<li>è¯»è€…-å†™è€…é—®é¢˜  </li>
<li>å“²å­¦å®¶è¿›é¤é—®é¢˜<br>â†’ ç®¡ç¨‹æ˜¯<strong>äº’æ–¥ + åŒæ­¥</strong>çš„ç»Ÿä¸€æœºåˆ¶ï¼Œ<strong>A è¯´æ³•ç‰‡é¢ï¼Œé”™è¯¯</strong>ã€‚</li>
</ul>
</li>
</ul>
<hr>
<h4 id="Bï¼ç®¡ç¨‹æ˜¯ç”±ç¼–ç¨‹è¯­è¨€æ”¯æŒçš„è¿›ç¨‹åŒæ­¥æœºåˆ¶"><a href="#Bï¼ç®¡ç¨‹æ˜¯ç”±ç¼–ç¨‹è¯­è¨€æ”¯æŒçš„è¿›ç¨‹åŒæ­¥æœºåˆ¶" class="headerlink" title="Bï¼ç®¡ç¨‹æ˜¯ç”±ç¼–ç¨‹è¯­è¨€æ”¯æŒçš„è¿›ç¨‹åŒæ­¥æœºåˆ¶"></a>Bï¼ç®¡ç¨‹æ˜¯ç”±ç¼–ç¨‹è¯­è¨€æ”¯æŒçš„è¿›ç¨‹åŒæ­¥æœºåˆ¶</h4><p>âœ… <strong>æ­£ç¡®</strong>  </p>
<ul>
<li>ç®¡ç¨‹é€šå¸¸ç”±<strong>è¯­è¨€å±‚é¢æä¾›è¯­æ³•æ”¯æŒ</strong>ï¼š  <ul>
<li>Pascal çš„ <code>monitor</code> å…³é”®å­—ï¼ˆæ—©æœŸï¼‰  </li>
<li>Java çš„ <code>synchronized</code> æ–¹æ³•&#x2F;å— + <code>wait()/notify()</code>  </li>
<li>C# çš„ <code>lock</code> + <code>Monitor</code> ç±»</li>
</ul>
</li>
<li>ç¼–è¯‘å™¨&#x2F;è¿è¡Œæ—¶è´Ÿè´£ç”Ÿæˆè¿›å…¥&#x2F;é€€å‡ºç®¡ç¨‹çš„åŒæ­¥ä»£ç ï¼›<br>â†’ ä¸åŒäºä¿¡å·é‡ï¼ˆéœ€ç¨‹åºå‘˜æ‰‹åŠ¨è°ƒç”¨ P&#x2F;Vï¼‰ï¼Œç®¡ç¨‹æ˜¯<strong>è¯­è¨€çº§æŠ½è±¡</strong>ã€‚</li>
</ul>
<hr>
<h4 id="Cï¼ä»»ä½•æ—¶å€™åªèƒ½æœ‰ä¸€ä¸ªè¿›ç¨‹åœ¨ç®¡ç¨‹ä¸­æ‰§è¡Œ"><a href="#Cï¼ä»»ä½•æ—¶å€™åªèƒ½æœ‰ä¸€ä¸ªè¿›ç¨‹åœ¨ç®¡ç¨‹ä¸­æ‰§è¡Œ" class="headerlink" title="Cï¼ä»»ä½•æ—¶å€™åªèƒ½æœ‰ä¸€ä¸ªè¿›ç¨‹åœ¨ç®¡ç¨‹ä¸­æ‰§è¡Œ"></a>Cï¼ä»»ä½•æ—¶å€™åªèƒ½æœ‰ä¸€ä¸ªè¿›ç¨‹åœ¨ç®¡ç¨‹ä¸­æ‰§è¡Œ</h4><p>âœ… <strong>æ­£ç¡®</strong>  </p>
<ul>
<li>ç®¡ç¨‹çš„<strong>æ ¸å¿ƒè¯­ä¹‰</strong>ï¼š  <blockquote>
<p>â€œAt most one process can be active in the monitor at a time.â€  </p>
</blockquote>
</li>
<li>ç®¡ç¨‹è‡ªå¸¦ä¸€ä¸ª<strong>éšå¼äº’æ–¥é”ï¼ˆmutexï¼‰</strong>ï¼š  <ul>
<li>è¿›ç¨‹è¿›å…¥ç®¡ç¨‹å†…ä»»ä½•è¿‡ç¨‹å‰ï¼Œå¿…é¡»å…ˆè·å¾—é”ï¼›  </li>
<li>é€€å‡ºæ—¶è‡ªåŠ¨é‡Šæ”¾é”ï¼›</li>
</ul>
</li>
<li>å³ä½¿æœ‰å¤šä¸ªæ¡ä»¶å˜é‡ï¼Œä¹Ÿ<strong>åªå…è®¸ä¸€ä¸ªè¿›ç¨‹åœ¨ç®¡ç¨‹å†…æ‰§è¡Œä»£ç </strong>ï¼ˆè°ƒç”¨ <code>wait()</code> æ—¶ä¼šä¸´æ—¶é‡Šæ”¾é”ï¼Œä½†ä¸ç®—â€œæ‰§è¡Œä¸­â€ï¼‰ã€‚</li>
</ul>
<hr>
<h4 id="Dï¼ç®¡ç¨‹ä¸­å®šä¹‰çš„å˜é‡åªèƒ½è¢«ç®¡ç¨‹å†…çš„è¿‡ç¨‹è®¿é—®"><a href="#Dï¼ç®¡ç¨‹ä¸­å®šä¹‰çš„å˜é‡åªèƒ½è¢«ç®¡ç¨‹å†…çš„è¿‡ç¨‹è®¿é—®" class="headerlink" title="Dï¼ç®¡ç¨‹ä¸­å®šä¹‰çš„å˜é‡åªèƒ½è¢«ç®¡ç¨‹å†…çš„è¿‡ç¨‹è®¿é—®"></a>Dï¼ç®¡ç¨‹ä¸­å®šä¹‰çš„å˜é‡åªèƒ½è¢«ç®¡ç¨‹å†…çš„è¿‡ç¨‹è®¿é—®</h4><p>âœ… <strong>æ­£ç¡®</strong>  </p>
<ul>
<li>è¿™æ˜¯ç®¡ç¨‹çš„<strong>å°è£…æ€§ï¼ˆEncapsulationï¼‰</strong> ç‰¹å¾ï¼›  </li>
<li>ç®¡ç¨‹å†…éƒ¨çš„å…±äº«å˜é‡ï¼ˆå¦‚ bufferã€countï¼‰æ˜¯<strong>ç§æœ‰ï¼ˆprivateï¼‰</strong> çš„ï¼›  </li>
<li>å¤–éƒ¨è¿›ç¨‹åªèƒ½é€šè¿‡ç®¡ç¨‹æä¾›çš„<strong>å…¥å£è¿‡ç¨‹ï¼ˆentry procedureï¼‰</strong> é—´æ¥è®¿é—®ï¼›<br>â†’ é¿å…äº†ç«äº‰æ¡ä»¶ï¼Œä¿è¯æ•°æ®ä¸€è‡´æ€§ã€‚</li>
</ul>
<hr>
<h3 id="ğŸ¯-è€ƒç‚¹æ€»ç»“ï¼š-4"><a href="#ğŸ¯-è€ƒç‚¹æ€»ç»“ï¼š-4" class="headerlink" title="ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š"></a>ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š</h3><table>
<thead>
<tr>
<th>ç‰¹æ€§</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><strong>åŠŸèƒ½</strong></td>
<td>äº’æ–¥ + åŒæ­¥ï¼ˆA é”™åœ¨â€œåªèƒ½äº’æ–¥â€ï¼‰</td>
</tr>
<tr>
<td><strong>å®ç°å±‚çº§</strong></td>
<td>è¯­è¨€æ”¯æŒï¼ˆB æ­£ç¡®ï¼‰</td>
</tr>
<tr>
<td><strong>å¹¶å‘æ§åˆ¶</strong></td>
<td>ä»»ä¸€æ—¶åˆ»æœ€å¤šä¸€ä¸ªè¿›ç¨‹æ´»è·ƒï¼ˆC æ­£ç¡®ï¼‰</td>
</tr>
<tr>
<td><strong>æ•°æ®å°è£…</strong></td>
<td>å†…éƒ¨å˜é‡ç§æœ‰ï¼Œä»…é€šè¿‡è¿‡ç¨‹è®¿é—®ï¼ˆD æ­£ç¡®ï¼‰</td>
</tr>
</tbody></table>
<hr>
<p>âœ… æ­£ç¡®ç­”æ¡ˆï¼š<strong>A</strong></p>
<h1 id="é¢˜ç›®-5"><a href="#é¢˜ç›®-5" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>.è¿›ç¨‹P1å’ŒP2å‡åŒ…å«å¹¶å‘æ‰§è¡Œçš„çº¿ç¨‹ï¼Œéƒ¨åˆ†ä¼ªä»£ç æè¿°å¦‚ä¸‹æ‰€ç¤ºã€‚<br>ä¸‹åˆ—é€‰é¡¹ä¸­ï¼Œéœ€è¦äº’æ–¥æ‰§è¡Œçš„æ“ä½œæ˜¯______<br>ã€‚(2016)<br>Aï¼a&#x3D;1ä¸a&#x3D;2 Bï¼a&#x3D;xä¸b&#x3D;x<br>Cï¼x+&#x3D;1ä¸x+&#x3D;2 Dï¼x+&#x3D;1ä¸x+&#x3D;3</p>
<h3 id="ä¼ªä»£ç ï¼š"><a href="#ä¼ªä»£ç ï¼š" class="headerlink" title="ä¼ªä»£ç ï¼š"></a>ä¼ªä»£ç ï¼š</h3><p><strong>è¿›ç¨‹ P1ï¼š</strong></p>
<div class="code-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> x=<span class="number">0</span>;</span><br><span class="line">Thread1() &#123;</span><br><span class="line">    <span class="type">int</span> a;</span><br><span class="line">    a=<span class="number">1</span>;  x+=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">Thread2() &#123;</span><br><span class="line">    <span class="type">int</span> a;</span><br><span class="line">    a=<span class="number">2</span>;  x+=<span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p><strong>è¿›ç¨‹ P2ï¼š</strong></p>
<div class="code-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> x=<span class="number">0</span>;</span><br><span class="line">Thread3() &#123;</span><br><span class="line">    <span class="type">int</span> a;</span><br><span class="line">    a=x;  x+=<span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line">Thread4() &#123;</span><br><span class="line">    <span class="type">int</span> b;</span><br><span class="line">    b=x;  x+=<span class="number">4</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="è§£æ-5"><a href="#è§£æ-5" class="headerlink" title="è§£æ"></a>è§£æ</h2><blockquote>
<p>æ³¨æ„ï¼šx æ˜¯<strong>å…¨å±€å…±äº«å˜é‡</strong>ï¼ˆæ¯ä¸ªè¿›ç¨‹å†…å®šä¹‰ä¸€ä¸ª xï¼Œä½† P1 å’Œ P2 çš„ x ä¸å…±äº«ï¼›ä½†åœ¨æ¯ä¸ªè¿›ç¨‹ä¸­ï¼Œå¤šä¸ªçº¿ç¨‹å…±äº«è¯¥è¿›ç¨‹å†…çš„ xï¼‰ã€‚</p>
</blockquote>
<hr>
<h3 id="é¢˜ç›®é—®ï¼šâ€œéœ€è¦äº’æ–¥æ‰§è¡Œçš„æ“ä½œâ€-â€”â€”-å³å“ªäº›æ“ä½œå¯¹å…±äº«å˜é‡-x-çš„è®¿é—®å¯èƒ½äº§ç”Ÿç«æ€æ¡ä»¶ï¼ˆRace-Conditionï¼‰ï¼Œéœ€åŠ é”ä¿æŠ¤ã€‚"><a href="#é¢˜ç›®é—®ï¼šâ€œéœ€è¦äº’æ–¥æ‰§è¡Œçš„æ“ä½œâ€-â€”â€”-å³å“ªäº›æ“ä½œå¯¹å…±äº«å˜é‡-x-çš„è®¿é—®å¯èƒ½äº§ç”Ÿç«æ€æ¡ä»¶ï¼ˆRace-Conditionï¼‰ï¼Œéœ€åŠ é”ä¿æŠ¤ã€‚" class="headerlink" title="é¢˜ç›®é—®ï¼šâ€œéœ€è¦äº’æ–¥æ‰§è¡Œçš„æ“ä½œâ€ â€”â€” å³å“ªäº›æ“ä½œå¯¹å…±äº«å˜é‡ x çš„è®¿é—®å¯èƒ½äº§ç”Ÿç«æ€æ¡ä»¶ï¼ˆRace Conditionï¼‰ï¼Œéœ€åŠ é”ä¿æŠ¤ã€‚"></a>é¢˜ç›®é—®ï¼šâ€œéœ€è¦äº’æ–¥æ‰§è¡Œçš„æ“ä½œâ€ â€”â€” å³å“ªäº›æ“ä½œå¯¹å…±äº«å˜é‡ x çš„è®¿é—®<strong>å¯èƒ½äº§ç”Ÿç«æ€æ¡ä»¶ï¼ˆRace Conditionï¼‰</strong>ï¼Œéœ€åŠ é”ä¿æŠ¤ã€‚</h3><p>æˆ‘ä»¬çœ‹æ¯ä¸ªé€‰é¡¹ï¼š</p>
<h4 id="A-a-1-ä¸-a-2"><a href="#A-a-1-ä¸-a-2" class="headerlink" title="A. a=1 ä¸ a=2"></a>A. <code>a=1</code> ä¸ <code>a=2</code></h4><ul>
<li>a æ˜¯å±€éƒ¨å˜é‡ï¼Œæ¯ä¸ªçº¿ç¨‹æœ‰è‡ªå·±çš„æ ˆç©ºé—´ â†’ <strong>ä¸å…±äº«</strong><br>â†’ æ— ç«äº‰ â†’ âŒ ä¸éœ€è¦äº’æ–¥</li>
</ul>
<h4 id="B-a-x-ä¸-b-x"><a href="#B-a-x-ä¸-b-x" class="headerlink" title="B. a=x ä¸ b=x"></a>B. <code>a=x</code> ä¸ <code>b=x</code></h4><ul>
<li>åœ¨ P2 ä¸­ï¼š<ul>
<li>Thread3: <code>a = x</code> ï¼ˆè¯» xï¼‰</li>
<li>Thread4: <code>b = x</code> ï¼ˆè¯» xï¼‰</li>
</ul>
</li>
<li>ä¸¤ä¸ªéƒ½æ˜¯<strong>è¯»æ“ä½œ</strong>ï¼Œå³ä½¿å¹¶å‘æ‰§è¡Œï¼Œä¹Ÿä¸ä¼šç ´åæ•°æ®ä¸€è‡´æ€§ï¼ˆåªè¦æ²¡æœ‰å†™å…¥ï¼‰<br>â†’ <strong>æ— ç«æ€</strong> â†’ âŒ ä¸éœ€è¦äº’æ–¥</li>
</ul>
<h4 id="C-x-1-ä¸-x-2"><a href="#C-x-1-ä¸-x-2" class="headerlink" title="C. x+=1 ä¸ x+=2"></a>C. <code>x+=1</code> ä¸ <code>x+=2</code></h4><ul>
<li>åœ¨ P1 ä¸­ï¼š<ul>
<li>Thread1: <code>x += 1</code>  </li>
<li>Thread2: <code>x += 2</code></li>
</ul>
</li>
<li><code>x += n</code> æ˜¯<strong>å¤åˆæ“ä½œ</strong>ï¼ˆè¯»å– x â†’ è®¡ç®— x+n â†’ å†™å› xï¼‰ï¼Œ<strong>éåŸå­æ“ä½œ</strong>  </li>
<li>è‹¥å¹¶å‘æ‰§è¡Œï¼Œå¯èƒ½å‘ç”Ÿï¼š<div class="code-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Thread1: è¯» x=0 â†’ è®¡ç®— 0+1=1 â†’ å†™å› x=1</span><br><span class="line">Thread2: è¯» x=0 â†’ è®¡ç®— 0+2=2 â†’ å†™å› x=2   â† è¦†ç›–äº† Thread1 çš„ç»“æœï¼</span><br></pre></td></tr></table></figure></div>
â†’ æœ€ç»ˆ x &#x3D; 2ï¼Œè€Œä¸æ˜¯æœŸæœ›çš„ 3 â†’ <strong>ç«æ€æ¡ä»¶</strong><br>âœ… <strong>éœ€è¦äº’æ–¥</strong></li>
</ul>
<h4 id="D-x-1-ä¸-x-3"><a href="#D-x-1-ä¸-x-3" class="headerlink" title="D. x+=1 ä¸ x+=3"></a>D. <code>x+=1</code> ä¸ <code>x+=3</code></h4><ul>
<li><code>x+=1</code> åœ¨ P1ï¼Œ<code>x+=3</code> åœ¨ P2  </li>
<li>P1 å’Œ P2 æ˜¯<strong>ä¸åŒè¿›ç¨‹</strong>ï¼Œå„è‡ªæœ‰ç‹¬ç«‹çš„ <code>x</code> å˜é‡ï¼ˆè¿›ç¨‹é—´å†…å­˜éš”ç¦»ï¼‰<br>â†’ <strong>ä¸å…±äº«åŒä¸€ä¸ª x</strong> â†’ æ— ç«äº‰<br>âŒ ä¸éœ€è¦äº’æ–¥</li>
</ul>
<hr>
<h3 id="âœ…-æ­£ç¡®ç­”æ¡ˆï¼šC-x-1-ä¸-x-2"><a href="#âœ…-æ­£ç¡®ç­”æ¡ˆï¼šC-x-1-ä¸-x-2" class="headerlink" title="âœ… æ­£ç¡®ç­”æ¡ˆï¼šC. x+&#x3D;1 ä¸ x+&#x3D;2"></a>âœ… æ­£ç¡®ç­”æ¡ˆï¼š<strong>C. x+&#x3D;1 ä¸ x+&#x3D;2</strong></h3><h1 id="é¢˜ç›®-6"><a href="#é¢˜ç›®-6" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>å±äºåŒä¸€è¿›ç¨‹çš„ä¸¤ä¸ªçº¿ç¨‹ thread1 å’Œ thread2 å¹¶å‘æ‰§è¡Œï¼Œå…±äº«åˆå€¼ä¸º 0 çš„å…¨å±€å˜é‡ xã€‚ thread1 å’Œ thread2 å®ç°å¯¹å…¨å±€å˜é‡ x åŠ  1 çš„æœºå™¨çº§ä»£<br>ç æè¿°å¦‚ä¸‹,åœ¨æ‰€æœ‰å¯èƒ½çš„æŒ‡ä»¤æ‰§è¡Œåºåˆ—ä¸­ï¼Œä½¿ x çš„å€¼ä¸º 2 çš„åºåˆ—ä¸ªæ•°æ˜¯______<br>ã€‚(2018)<br>A. 1 B. 2 C.3 D.4</p>
<h2 id="è§£æ-6"><a href="#è§£æ-6" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>æˆ‘ä»¬æ¥åˆ†æè¿™é“ç»å…¸çš„<strong>å¹¶å‘çº¿ç¨‹ç«æ€æ¡ä»¶</strong>é¢˜ç›®ã€‚</p>
<hr>
<h3 id="ğŸ“œ-é¢˜ç›®æè¿°ï¼š"><a href="#ğŸ“œ-é¢˜ç›®æè¿°ï¼š" class="headerlink" title="ğŸ“œ é¢˜ç›®æè¿°ï¼š"></a>ğŸ“œ é¢˜ç›®æè¿°ï¼š</h3><ul>
<li>åŒä¸€è¿›ç¨‹å†…æœ‰ä¸¤ä¸ªçº¿ç¨‹ï¼š<code>thread1</code> å’Œ <code>thread2</code>  </li>
<li>å…±äº«å…¨å±€å˜é‡ <code>x</code>ï¼Œåˆå§‹å€¼ä¸º 0  </li>
<li>æ¯ä¸ªçº¿ç¨‹æ‰§è¡Œâ€œå¯¹ x åŠ  1â€çš„æ“ä½œï¼Œç”¨æœºå™¨çº§æŒ‡ä»¤å®ç°ï¼š<ul>
<li><code>mov R, x</code> â†’ å°† x çš„å€¼è¯»å…¥å¯„å­˜å™¨  </li>
<li><code>inc R</code> â†’ å¯„å­˜å™¨å€¼åŠ  1  </li>
<li><code>mov x, R</code> â†’ å°†å¯„å­˜å™¨å€¼å†™å› x</li>
</ul>
</li>
</ul>
<p>ç›®æ ‡ï¼šåœ¨æ‰€æœ‰å¯èƒ½çš„æŒ‡ä»¤äº¤é”™åºåˆ—ä¸­ï¼Œ<strong>æœ‰å¤šå°‘ç§åºåˆ—æœ€ç»ˆä½¿ x &#x3D; 2</strong>ï¼Ÿ</p>
<hr>
<h2 id="âœ…-å…³é”®ç‚¹ï¼š"><a href="#âœ…-å…³é”®ç‚¹ï¼š" class="headerlink" title="âœ… å…³é”®ç‚¹ï¼š"></a>âœ… å…³é”®ç‚¹ï¼š</h2><p>è™½ç„¶æ¯ä¸ªçº¿ç¨‹éƒ½åœ¨åšâ€œx++â€ï¼Œä½†ç”±äºæ˜¯<strong>éåŸå­æ“ä½œ</strong>ï¼ˆä¸‰æ­¥ï¼‰ï¼Œè‹¥ä¸¤ä¸ªçº¿ç¨‹äº¤é”™æ‰§è¡Œï¼Œå¯èƒ½å¯¼è‡´<strong>ä¸¢å¤±æ›´æ–°</strong>ï¼Œæœ€ç»ˆ x å¯èƒ½ä¸º 1 æˆ– 2ã€‚</p>
<p>æˆ‘ä»¬éœ€è¦æšä¸¾æ‰€æœ‰å¯èƒ½çš„<strong>æŒ‡ä»¤äº¤é”™åºåˆ—</strong>ï¼Œå¹¶ç»Ÿè®¡å“ªäº›æœ€ç»ˆå¾—åˆ° <code>x = 2</code>ã€‚</p>
<hr>
<h2 id="ğŸ”¢-æ€»æŒ‡ä»¤æ•°ï¼š"><a href="#ğŸ”¢-æ€»æŒ‡ä»¤æ•°ï¼š" class="headerlink" title="ğŸ”¢ æ€»æŒ‡ä»¤æ•°ï¼š"></a>ğŸ”¢ æ€»æŒ‡ä»¤æ•°ï¼š</h2><ul>
<li>thread1ï¼š3 æ¡æŒ‡ä»¤ï¼ˆè®°ä¸º A1, A2, A3ï¼‰  </li>
<li>thread2ï¼š3 æ¡æŒ‡ä»¤ï¼ˆè®°ä¸º B1, B2, B3ï¼‰<br>â†’ æ€»å…± 6 æ¡æŒ‡ä»¤ï¼Œä»ä¸­é€‰ 3 ä¸ªä½ç½®ç»™ thread1ï¼Œå…¶ä½™ç»™ thread2 â†’ æ€»åºåˆ—æ•° &#x3D; $ \binom{6}{3} &#x3D; 20 $ ç§</li>
</ul>
<p>ä½†å¹¶éæ‰€æœ‰ 20 ç§éƒ½å¯¼è‡´ä¸åŒç»“æœ â€”â€” æˆ‘ä»¬åªéœ€å…³æ³¨<strong>æœ€ç»ˆ x çš„å€¼</strong>ã€‚</p>
<hr>
<h2 id="âœ…-æ­£ç¡®ç»“æœï¼šx-2-å½“ä¸”ä»…å½“-ä¸¤ä¸ªçº¿ç¨‹çš„å†™æ“ä½œæ²¡æœ‰è¦†ç›–å¯¹æ–¹çš„ç»“æœ"><a href="#âœ…-æ­£ç¡®ç»“æœï¼šx-2-å½“ä¸”ä»…å½“-ä¸¤ä¸ªçº¿ç¨‹çš„å†™æ“ä½œæ²¡æœ‰è¦†ç›–å¯¹æ–¹çš„ç»“æœ" class="headerlink" title="âœ… æ­£ç¡®ç»“æœï¼šx&#x3D;2 å½“ä¸”ä»…å½“ ä¸¤ä¸ªçº¿ç¨‹çš„å†™æ“ä½œæ²¡æœ‰è¦†ç›–å¯¹æ–¹çš„ç»“æœ"></a>âœ… æ­£ç¡®ç»“æœï¼šx&#x3D;2 å½“ä¸”ä»…å½“ <strong>ä¸¤ä¸ªçº¿ç¨‹çš„å†™æ“ä½œæ²¡æœ‰è¦†ç›–å¯¹æ–¹çš„ç»“æœ</strong></h2><p>å³ï¼š<strong>ä¸¤ä¸ªçº¿ç¨‹éƒ½æˆåŠŸå°†è‡ªå·±è®¡ç®—åçš„å€¼å†™å› xï¼Œä¸”æ²¡æœ‰è¢«å¯¹æ–¹è¦†ç›–</strong>ã€‚</p>
<p>è¿™è¦æ±‚ï¼š<strong>ä¸¤ä¸ªçº¿ç¨‹çš„â€œå†™å›â€æŒ‡ä»¤ï¼ˆA3 å’Œ B3ï¼‰å¿…é¡»å‘ç”Ÿåœ¨å¯¹æ–¹â€œè¯»å–â€ä¹‹åã€æˆ–ä¸å¹²æ‰°å½¼æ­¤</strong>ã€‚</p>
<hr>
<h3 id="ğŸ§©-æšä¸¾å…³é”®æƒ…å†µï¼š"><a href="#ğŸ§©-æšä¸¾å…³é”®æƒ…å†µï¼š" class="headerlink" title="ğŸ§© æšä¸¾å…³é”®æƒ…å†µï¼š"></a>ğŸ§© æšä¸¾å…³é”®æƒ…å†µï¼š</h3><p>æˆ‘ä»¬ç”¨ç®€å†™è¡¨ç¤ºï¼š</p>
<ul>
<li>A1: mov R1, x  </li>
<li>A2: inc R1  </li>
<li>A3: mov x, R1  </li>
<li>B1: mov R2, x  </li>
<li>B2: inc R2  </li>
<li>B3: mov x, R2</li>
</ul>
<p>æˆ‘ä»¬è¦æ‰¾çš„æ˜¯ï¼š<strong>æœ€ç»ˆ x&#x3D;2</strong> çš„åºåˆ—ã€‚</p>
<hr>
<h3 id="ğŸ¯-æƒ…å†µ-1ï¼šæ— äº¤é”™ï¼ˆå®Œå…¨ä¸²è¡Œï¼‰"><a href="#ğŸ¯-æƒ…å†µ-1ï¼šæ— äº¤é”™ï¼ˆå®Œå…¨ä¸²è¡Œï¼‰" class="headerlink" title="ğŸ¯ æƒ…å†µ 1ï¼šæ— äº¤é”™ï¼ˆå®Œå…¨ä¸²è¡Œï¼‰"></a>ğŸ¯ æƒ…å†µ 1ï¼šæ— äº¤é”™ï¼ˆå®Œå…¨ä¸²è¡Œï¼‰</h3><h4 id="1-A1â†’A2â†’A3â†’B1â†’B2â†’B3"><a href="#1-A1â†’A2â†’A3â†’B1â†’B2â†’B3" class="headerlink" title="1. A1â†’A2â†’A3â†’B1â†’B2â†’B3"></a>1. A1â†’A2â†’A3â†’B1â†’B2â†’B3</h4><ul>
<li>A è¯» 0 â†’ åŠ  1 â†’ å†™ 1  </li>
<li>B è¯» 1 â†’ åŠ  1 â†’ å†™ 2<br>â†’ x&#x3D;2 âœ…</li>
</ul>
<h4 id="2-B1â†’B2â†’B3â†’A1â†’A2â†’A3"><a href="#2-B1â†’B2â†’B3â†’A1â†’A2â†’A3" class="headerlink" title="2. B1â†’B2â†’B3â†’A1â†’A2â†’A3"></a>2. B1â†’B2â†’B3â†’A1â†’A2â†’A3</h4><ul>
<li>B è¯» 0 â†’ åŠ  1 â†’ å†™ 1  </li>
<li>A è¯» 1 â†’ åŠ  1 â†’ å†™ 2<br>â†’ x&#x3D;2 âœ…</li>
</ul>
<p>â†’ <strong>2 ç§åºåˆ—</strong></p>
<hr>
<h3 id="ğŸ¯-æƒ…å†µ-2ï¼šéƒ¨åˆ†äº¤é”™ï¼Œä½†å†™æ“ä½œæœªè¢«è¦†ç›–"><a href="#ğŸ¯-æƒ…å†µ-2ï¼šéƒ¨åˆ†äº¤é”™ï¼Œä½†å†™æ“ä½œæœªè¢«è¦†ç›–" class="headerlink" title="ğŸ¯ æƒ…å†µ 2ï¼šéƒ¨åˆ†äº¤é”™ï¼Œä½†å†™æ“ä½œæœªè¢«è¦†ç›–"></a>ğŸ¯ æƒ…å†µ 2ï¼šéƒ¨åˆ†äº¤é”™ï¼Œä½†å†™æ“ä½œæœªè¢«è¦†ç›–</h3><h4 id="3-A1â†’B1â†’A2â†’B2â†’A3â†’B3"><a href="#3-A1â†’B1â†’A2â†’B2â†’A3â†’B3" class="headerlink" title="3. A1â†’B1â†’A2â†’B2â†’A3â†’B3"></a>3. A1â†’B1â†’A2â†’B2â†’A3â†’B3</h4><ul>
<li>A è¯» 0  </li>
<li>B è¯» 0  </li>
<li>A åŠ  1 â†’ R1&#x3D;1  </li>
<li>B åŠ  1 â†’ R2&#x3D;1  </li>
<li>A å†™ 1 â†’ x&#x3D;1  </li>
<li>B å†™ 1 â†’ x&#x3D;1 âŒ â†’ æœ€ç»ˆ x&#x3D;1</li>
</ul>
<h4 id="4-A1â†’B1â†’A2â†’A3â†’B2â†’B3"><a href="#4-A1â†’B1â†’A2â†’A3â†’B2â†’B3" class="headerlink" title="4. A1â†’B1â†’A2â†’A3â†’B2â†’B3"></a>4. A1â†’B1â†’A2â†’A3â†’B2â†’B3</h4><ul>
<li>A è¯» 0  </li>
<li>B è¯» 0  </li>
<li>A åŠ  1 â†’ R1&#x3D;1  </li>
<li>A å†™ 1 â†’ x&#x3D;1  </li>
<li>B åŠ  1 â†’ R2&#x3D;1  </li>
<li>B å†™ 1 â†’ x&#x3D;1 âŒ</li>
</ul>
<h4 id="5-A1â†’B1â†’B2â†’A2â†’A3â†’B3"><a href="#5-A1â†’B1â†’B2â†’A2â†’A3â†’B3" class="headerlink" title="5. A1â†’B1â†’B2â†’A2â†’A3â†’B3"></a>5. A1â†’B1â†’B2â†’A2â†’A3â†’B3</h4><ul>
<li>A è¯» 0  </li>
<li>B è¯» 0  </li>
<li>B åŠ  1 â†’ R2&#x3D;1  </li>
<li>A åŠ  1 â†’ R1&#x3D;1  </li>
<li>A å†™ 1 â†’ x&#x3D;1  </li>
<li>B å†™ 1 â†’ x&#x3D;1 âŒ</li>
</ul>
<h4 id="6-A1â†’A2â†’B1â†’B2â†’A3â†’B3"><a href="#6-A1â†’A2â†’B1â†’B2â†’A3â†’B3" class="headerlink" title="6. A1â†’A2â†’B1â†’B2â†’A3â†’B3"></a>6. A1â†’A2â†’B1â†’B2â†’A3â†’B3</h4><ul>
<li>A è¯» 0 â†’ åŠ  1 â†’ R1&#x3D;1  </li>
<li>B è¯» 0 â†’ åŠ  1 â†’ R2&#x3D;1  </li>
<li>A å†™ 1 â†’ x&#x3D;1  </li>
<li>B å†™ 1 â†’ x&#x3D;1 âŒ</li>
</ul>
<h4 id="7-A1â†’A2â†’B1â†’A3â†’B2â†’B3"><a href="#7-A1â†’A2â†’B1â†’A3â†’B2â†’B3" class="headerlink" title="7. A1â†’A2â†’B1â†’A3â†’B2â†’B3"></a>7. A1â†’A2â†’B1â†’A3â†’B2â†’B3</h4><ul>
<li>A è¯» 0 â†’ åŠ  1 â†’ R1&#x3D;1  </li>
<li>B è¯» 0 â†’ R2&#x3D;0  </li>
<li>A å†™ 1 â†’ x&#x3D;1  </li>
<li>B åŠ  1 â†’ R2&#x3D;1  </li>
<li>B å†™ 1 â†’ x&#x3D;1 âŒ</li>
</ul>
<h4 id="8-B1â†’A1â†’B2â†’A2â†’B3â†’A3"><a href="#8-B1â†’A1â†’B2â†’A2â†’B3â†’A3" class="headerlink" title="8. B1â†’A1â†’B2â†’A2â†’B3â†’A3"></a>8. B1â†’A1â†’B2â†’A2â†’B3â†’A3</h4><ul>
<li>B è¯» 0  </li>
<li>A è¯» 0  </li>
<li>B åŠ  1 â†’ R2&#x3D;1  </li>
<li>A åŠ  1 â†’ R1&#x3D;1  </li>
<li>B å†™ 1 â†’ x&#x3D;1  </li>
<li>A å†™ 1 â†’ x&#x3D;1 âŒ</li>
</ul>
<h4 id="9-B1â†’A1â†’B2â†’B3â†’A2â†’A3"><a href="#9-B1â†’A1â†’B2â†’B3â†’A2â†’A3" class="headerlink" title="9. B1â†’A1â†’B2â†’B3â†’A2â†’A3"></a>9. B1â†’A1â†’B2â†’B3â†’A2â†’A3</h4><ul>
<li>B è¯» 0  </li>
<li>A è¯» 0  </li>
<li>B åŠ  1 â†’ R2&#x3D;1  </li>
<li>B å†™ 1 â†’ x&#x3D;1  </li>
<li>A åŠ  1 â†’ R1&#x3D;1  </li>
<li>A å†™ 1 â†’ x&#x3D;1 âŒ</li>
</ul>
<h4 id="10-B1â†’B2â†’A1â†’A2â†’B3â†’A3"><a href="#10-B1â†’B2â†’A1â†’A2â†’B3â†’A3" class="headerlink" title="10. B1â†’B2â†’A1â†’A2â†’B3â†’A3"></a>10. B1â†’B2â†’A1â†’A2â†’B3â†’A3</h4><ul>
<li>B è¯» 0 â†’ åŠ  1 â†’ R2&#x3D;1  </li>
<li>A è¯» 0 â†’ åŠ  1 â†’ R1&#x3D;1  </li>
<li>B å†™ 1 â†’ x&#x3D;1  </li>
<li>A å†™ 1 â†’ x&#x3D;1 âŒ</li>
</ul>
<hr>
<h3 id="ğŸ¯-å”¯ä¸€èƒ½ä½¿-x-2-çš„æƒ…å†µï¼š"><a href="#ğŸ¯-å”¯ä¸€èƒ½ä½¿-x-2-çš„æƒ…å†µï¼š" class="headerlink" title="ğŸ¯ å”¯ä¸€èƒ½ä½¿ x&#x3D;2 çš„æƒ…å†µï¼š"></a>ğŸ¯ å”¯ä¸€èƒ½ä½¿ x&#x3D;2 çš„æƒ…å†µï¼š</h3><p>åªæœ‰å½“<strong>ä¸€ä¸ªçº¿ç¨‹å†™å®Œåï¼Œå¦ä¸€ä¸ªçº¿ç¨‹å†è¯»å–è¯¥å€¼</strong>ï¼Œæ‰èƒ½å åŠ ã€‚</p>
<p>å³ï¼š</p>
<h4 id="âœ…-åºåˆ—-1ï¼šA1â†’A2â†’A3â†’B1â†’B2â†’B3"><a href="#âœ…-åºåˆ—-1ï¼šA1â†’A2â†’A3â†’B1â†’B2â†’B3" class="headerlink" title="âœ… åºåˆ— 1ï¼šA1â†’A2â†’A3â†’B1â†’B2â†’B3"></a>âœ… åºåˆ— 1ï¼šA1â†’A2â†’A3â†’B1â†’B2â†’B3</h4><ul>
<li>A å†™ 1 â†’ B è¯» 1 â†’ åŠ  1 â†’ å†™ 2</li>
</ul>
<h4 id="âœ…-åºåˆ—-2ï¼šB1â†’B2â†’B3â†’A1â†’A2â†’A3"><a href="#âœ…-åºåˆ—-2ï¼šB1â†’B2â†’B3â†’A1â†’A2â†’A3" class="headerlink" title="âœ… åºåˆ— 2ï¼šB1â†’B2â†’B3â†’A1â†’A2â†’A3"></a>âœ… åºåˆ— 2ï¼šB1â†’B2â†’B3â†’A1â†’A2â†’A3</h4><ul>
<li>B å†™ 1 â†’ A è¯» 1 â†’ åŠ  1 â†’ å†™ 2</li>
</ul>
<h4 id="âœ…-åºåˆ—-3ï¼šA1â†’B1â†’B2â†’B3â†’A2â†’A3"><a href="#âœ…-åºåˆ—-3ï¼šA1â†’B1â†’B2â†’B3â†’A2â†’A3" class="headerlink" title="âœ… åºåˆ— 3ï¼šA1â†’B1â†’B2â†’B3â†’A2â†’A3"></a>âœ… åºåˆ— 3ï¼šA1â†’B1â†’B2â†’B3â†’A2â†’A3</h4><ul>
<li>A è¯» 0  </li>
<li>B è¯» 0 â†’ åŠ  1 â†’ å†™ 1  </li>
<li>A åŠ  1 â†’ R1&#x3D;1  </li>
<li>A å†™ 1 â†’ x&#x3D;1 âŒ</li>
</ul>
<p>ç­‰ç­‰ â€”â€” ç­‰ç­‰ï¼æœ‰æ²¡æœ‰ç¬¬ä¸‰ç§ï¼Ÿ</p>
<p>è®©æˆ‘ä»¬æ€è€ƒï¼š</p>
<p>å¦‚æœçº¿ç¨‹1å…ˆè¯» x&#x3D;0ï¼Œç„¶åçº¿ç¨‹2å®Œæˆå…¨éƒ¨æ“ä½œï¼ˆè¯»0â†’åŠ 1â†’å†™1ï¼‰ï¼Œç„¶åçº¿ç¨‹1å†åŠ 1â†’å†™1 â†’ x&#x3D;1 âŒ</p>
<p>é™¤éçº¿ç¨‹1åœ¨å†™ä¹‹å‰ï¼Œçº¿ç¨‹2å·²ç»å†™è¿‡ï¼Œä½†çº¿ç¨‹1ä»ä¿ç•™æ—§å€¼ã€‚</p>
<p>æ‰€ä»¥å”¯ä¸€èƒ½è®© x&#x3D;2 çš„æ˜¯ï¼š</p>
<blockquote>
<p><strong>ä¸¤ä¸ªçº¿ç¨‹çš„â€œè¯»å–â€æ“ä½œå‘ç”Ÿåœ¨ä¸åŒçš„æ—¶é—´ç‚¹ï¼Œä¸”åå†™çš„çº¿ç¨‹è¯»åˆ°äº†å‰ä¸€ä¸ªçº¿ç¨‹å†™å…¥çš„å€¼ã€‚</strong></p>
</blockquote>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼š</p>
<ul>
<li>è¦ä¹ˆ A å…ˆå†™ï¼ŒB åè¯»ï¼›  </li>
<li>è¦ä¹ˆ B å…ˆå†™ï¼ŒA åè¯»ã€‚</li>
</ul>
<p>ä½†æ³¨æ„ï¼š<strong>åªè¦æœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨å¦ä¸€ä¸ªçº¿ç¨‹å†™å…¥åè¯»å–ï¼Œå°±èƒ½å¾—åˆ° 2</strong>ã€‚</p>
<hr>
<h3 id="ğŸ§ -æ­£ç¡®æ–¹æ³•ï¼šæšä¸¾æ‰€æœ‰-20-ç§åºåˆ—ï¼Œç»Ÿè®¡-x-2-çš„æ•°é‡"><a href="#ğŸ§ -æ­£ç¡®æ–¹æ³•ï¼šæšä¸¾æ‰€æœ‰-20-ç§åºåˆ—ï¼Œç»Ÿè®¡-x-2-çš„æ•°é‡" class="headerlink" title="ğŸ§  æ­£ç¡®æ–¹æ³•ï¼šæšä¸¾æ‰€æœ‰ 20 ç§åºåˆ—ï¼Œç»Ÿè®¡ x&#x3D;2 çš„æ•°é‡"></a>ğŸ§  æ­£ç¡®æ–¹æ³•ï¼šæšä¸¾æ‰€æœ‰ 20 ç§åºåˆ—ï¼Œç»Ÿè®¡ x&#x3D;2 çš„æ•°é‡</h3><p>æˆ‘ä»¬ç”¨æ›´ç³»ç»Ÿçš„æ–¹æ³•ï¼š</p>
<p>æœ€ç»ˆ x&#x3D;2 çš„å……è¦æ¡ä»¶æ˜¯ï¼š<strong>ä¸¤ä¸ªçº¿ç¨‹çš„å†™æ“ä½œéƒ½æ²¡æœ‰è¢«è¦†ç›–</strong>ï¼Œå³ï¼š</p>
<ul>
<li>ä¸¤ä¸ªçº¿ç¨‹éƒ½æˆåŠŸå°†â€œè‡ªå·±çš„ +1 ç»“æœâ€å†™å› xï¼Œä¸”æ²¡æœ‰è¢«å¯¹æ–¹è¦†ç›–ã€‚</li>
</ul>
<p>è¿™è¦æ±‚ï¼š<strong>ä¸¤ä¸ªå†™æ“ä½œï¼ˆA3 å’Œ B3ï¼‰ä¹‹é—´ï¼Œä¸èƒ½æœ‰â€œè¯»å–+å†™å…¥â€çš„å®Œæ•´åºåˆ—è¦†ç›–</strong>ã€‚</p>
<p>å®é™…ä¸Šï¼Œåªæœ‰ä¸¤ç§æƒ…å†µæ»¡è¶³ï¼š</p>
<ol>
<li>A å®Œæ•´æ‰§è¡Œå®Œæ¯•ï¼ˆA1â†’A2â†’A3ï¼‰ï¼Œç„¶å B æ‰§è¡Œï¼ˆB1â†’B2â†’B3ï¼‰  </li>
<li>B å®Œæ•´æ‰§è¡Œå®Œæ¯•ï¼ˆB1â†’B2â†’B3ï¼‰ï¼Œç„¶å A æ‰§è¡Œï¼ˆA1â†’A2â†’A3ï¼‰</li>
</ol>
<p>â†’ è¿™å°±æ˜¯æˆ‘ä»¬ä¹‹å‰è¯´çš„ 2 ç§ã€‚</p>
<p>ä½†ç­‰ç­‰ â€”â€” è¿˜æœ‰ä¸€ç§å¯èƒ½ï¼š</p>
<h4 id="âœ…-åºåˆ—-3ï¼šA1â†’A2â†’B1â†’B2â†’B3â†’A3"><a href="#âœ…-åºåˆ—-3ï¼šA1â†’A2â†’B1â†’B2â†’B3â†’A3" class="headerlink" title="âœ… åºåˆ— 3ï¼šA1â†’A2â†’B1â†’B2â†’B3â†’A3"></a>âœ… åºåˆ— 3ï¼šA1â†’A2â†’B1â†’B2â†’B3â†’A3</h4><ul>
<li>A è¯» 0 â†’ åŠ  1 â†’ R1&#x3D;1  </li>
<li>B è¯» 0 â†’ åŠ  1 â†’ R2&#x3D;1  </li>
<li>B å†™ 1 â†’ x&#x3D;1  </li>
<li>A å†™ 1 â†’ x&#x3D;1 âŒ</li>
</ul>
<p>ä¸è¡Œã€‚</p>
<h4 id="âœ…-åºåˆ—-4ï¼šA1â†’B1â†’A2â†’B2â†’B3â†’A3"><a href="#âœ…-åºåˆ—-4ï¼šA1â†’B1â†’A2â†’B2â†’B3â†’A3" class="headerlink" title="âœ… åºåˆ— 4ï¼šA1â†’B1â†’A2â†’B2â†’B3â†’A3"></a>âœ… åºåˆ— 4ï¼šA1â†’B1â†’A2â†’B2â†’B3â†’A3</h4><ul>
<li>A è¯» 0  </li>
<li>B è¯» 0  </li>
<li>A åŠ  1 â†’ R1&#x3D;1  </li>
<li>B åŠ  1 â†’ R2&#x3D;1  </li>
<li>B å†™ 1 â†’ x&#x3D;1  </li>
<li>A å†™ 1 â†’ x&#x3D;1 âŒ</li>
</ul>
<p>è¿˜æ˜¯ 1ã€‚</p>
<hr>
<h3 id="ğŸš«-æœ‰æ²¡æœ‰ç¬¬ä¸‰ç§ï¼Ÿ"><a href="#ğŸš«-æœ‰æ²¡æœ‰ç¬¬ä¸‰ç§ï¼Ÿ" class="headerlink" title="ğŸš« æœ‰æ²¡æœ‰ç¬¬ä¸‰ç§ï¼Ÿ"></a>ğŸš« æœ‰æ²¡æœ‰ç¬¬ä¸‰ç§ï¼Ÿ</h3><p>è€ƒè™‘ï¼š</p>
<h4 id="âœ…-åºåˆ—ï¼šA1â†’B1â†’B2â†’A2â†’B3â†’A3"><a href="#âœ…-åºåˆ—ï¼šA1â†’B1â†’B2â†’A2â†’B3â†’A3" class="headerlink" title="âœ… åºåˆ—ï¼šA1â†’B1â†’B2â†’A2â†’B3â†’A3"></a>âœ… åºåˆ—ï¼šA1â†’B1â†’B2â†’A2â†’B3â†’A3</h4><ul>
<li>A è¯» 0  </li>
<li>B è¯» 0  </li>
<li>B åŠ  1 â†’ R2&#x3D;1  </li>
<li>A åŠ  1 â†’ R1&#x3D;1  </li>
<li>B å†™ 1 â†’ x&#x3D;1  </li>
<li>A å†™ 1 â†’ x&#x3D;1 âŒ</li>
</ul>
<p>è¿˜æ˜¯ 1ã€‚</p>
<hr>
<h3 id="ğŸ’¡-çªç ´ç‚¹ï¼š"><a href="#ğŸ’¡-çªç ´ç‚¹ï¼š" class="headerlink" title="ğŸ’¡ çªç ´ç‚¹ï¼š"></a>ğŸ’¡ çªç ´ç‚¹ï¼š</h3><p>å…¶å®ï¼Œåªæœ‰å½“<strong>ä¸€ä¸ªçº¿ç¨‹çš„å†™æ“ä½œå‘ç”Ÿåœ¨å¦ä¸€ä¸ªçº¿ç¨‹çš„è¯»æ“ä½œä¹‹å</strong>ï¼Œå¹¶ä¸”<strong>è¯¥è¯»æ“ä½œè¯»åˆ°äº†å‰ä¸€ä¸ªçº¿ç¨‹å†™å…¥çš„å€¼</strong>ï¼Œæ‰èƒ½å åŠ ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<h4 id="âœ…-åºåˆ—ï¼šA1â†’A2â†’A3â†’B1â†’B2â†’B3-â†’-x-2"><a href="#âœ…-åºåˆ—ï¼šA1â†’A2â†’A3â†’B1â†’B2â†’B3-â†’-x-2" class="headerlink" title="âœ… åºåˆ—ï¼šA1â†’A2â†’A3â†’B1â†’B2â†’B3 â†’ x&#x3D;2"></a>âœ… åºåˆ—ï¼šA1â†’A2â†’A3â†’B1â†’B2â†’B3 â†’ x&#x3D;2</h4><h4 id="âœ…-åºåˆ—ï¼šB1â†’B2â†’B3â†’A1â†’A2â†’A3-â†’-x-2"><a href="#âœ…-åºåˆ—ï¼šB1â†’B2â†’B3â†’A1â†’A2â†’A3-â†’-x-2" class="headerlink" title="âœ… åºåˆ—ï¼šB1â†’B2â†’B3â†’A1â†’A2â†’A3 â†’ x&#x3D;2"></a>âœ… åºåˆ—ï¼šB1â†’B2â†’B3â†’A1â†’A2â†’A3 â†’ x&#x3D;2</h4><h4 id="âœ…-åºåˆ—ï¼šA1â†’B1â†’B2â†’B3â†’A2â†’A3-â†’-x-1-âŒ"><a href="#âœ…-åºåˆ—ï¼šA1â†’B1â†’B2â†’B3â†’A2â†’A3-â†’-x-1-âŒ" class="headerlink" title="âœ… åºåˆ—ï¼šA1â†’B1â†’B2â†’B3â†’A2â†’A3 â†’ x&#x3D;1 âŒ"></a>âœ… åºåˆ—ï¼šA1â†’B1â†’B2â†’B3â†’A2â†’A3 â†’ x&#x3D;1 âŒ</h4><h4 id="âœ…-åºåˆ—ï¼šB1â†’A1â†’A2â†’A3â†’B2â†’B3-â†’-x-1-âŒ"><a href="#âœ…-åºåˆ—ï¼šB1â†’A1â†’A2â†’A3â†’B2â†’B3-â†’-x-1-âŒ" class="headerlink" title="âœ… åºåˆ—ï¼šB1â†’A1â†’A2â†’A3â†’B2â†’B3 â†’ x&#x3D;1 âŒ"></a>âœ… åºåˆ—ï¼šB1â†’A1â†’A2â†’A3â†’B2â†’B3 â†’ x&#x3D;1 âŒ</h4><p>ç­‰ç­‰ã€‚</p>
<p>æˆ‘ä»¬å‘ç°ï¼š<strong>åªæœ‰å®Œå…¨ä¸²è¡Œçš„ä¸¤ç§æƒ…å†µèƒ½å¾—åˆ° x&#x3D;2</strong>ã€‚</p>
<p>ä½†ç­‰ç­‰ï¼çœ‹è¿™ä¸ªï¼š</p>
<h4 id="âœ…-åºåˆ—ï¼šA1â†’B1â†’A2â†’B2â†’A3â†’B3"><a href="#âœ…-åºåˆ—ï¼šA1â†’B1â†’A2â†’B2â†’A3â†’B3" class="headerlink" title="âœ… åºåˆ—ï¼šA1â†’B1â†’A2â†’B2â†’A3â†’B3"></a>âœ… åºåˆ—ï¼šA1â†’B1â†’A2â†’B2â†’A3â†’B3</h4><ul>
<li>A è¯» 0  </li>
<li>B è¯» 0  </li>
<li>A åŠ  1 â†’ R1&#x3D;1  </li>
<li>B åŠ  1 â†’ R2&#x3D;1  </li>
<li>A å†™ 1 â†’ x&#x3D;1  </li>
<li>B å†™ 1 â†’ x&#x3D;1 âŒ</li>
</ul>
<p>è¿˜æ˜¯ 1ã€‚</p>
<hr>
<h3 id="ğŸ“Š-å®é™…ç­”æ¡ˆï¼ˆå‚è€ƒæ ‡å‡†è§£ç­”ï¼‰ï¼š"><a href="#ğŸ“Š-å®é™…ç­”æ¡ˆï¼ˆå‚è€ƒæ ‡å‡†è§£ç­”ï¼‰ï¼š" class="headerlink" title="ğŸ“Š å®é™…ç­”æ¡ˆï¼ˆå‚è€ƒæ ‡å‡†è§£ç­”ï¼‰ï¼š"></a>ğŸ“Š å®é™…ç­”æ¡ˆï¼ˆå‚è€ƒæ ‡å‡†è§£ç­”ï¼‰ï¼š</h3><p>åœ¨æ‰€æœ‰ 20 ç§å¯èƒ½çš„æŒ‡ä»¤äº¤é”™ä¸­ï¼Œ<strong>åªæœ‰ 2 ç§åºåˆ—èƒ½å¾—åˆ° x&#x3D;2</strong>ï¼š</p>
<ol>
<li>A1â†’A2â†’A3â†’B1â†’B2â†’B3  </li>
<li>B1â†’B2â†’B3â†’A1â†’A2â†’A3</li>
</ol>
<p>å…¶ä»– 18 ç§éƒ½ä¼šå¯¼è‡´ x&#x3D;1ã€‚</p>
<hr>
<h3 id="âœ…-æ­£ç¡®ç­”æ¡ˆï¼šB-2"><a href="#âœ…-æ­£ç¡®ç­”æ¡ˆï¼šB-2" class="headerlink" title="âœ… æ­£ç¡®ç­”æ¡ˆï¼šB. 2"></a>âœ… æ­£ç¡®ç­”æ¡ˆï¼š<strong>B. 2</strong></h3><hr>
<h3 id="ğŸ¯-è€ƒç‚¹æ€»ç»“ï¼š-5"><a href="#ğŸ¯-è€ƒç‚¹æ€»ç»“ï¼š-5" class="headerlink" title="ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š"></a>ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š</h3><ul>
<li>â€œx++â€ ä¸æ˜¯åŸå­æ“ä½œ â†’ å¹¶å‘æ—¶æ˜“å‘ç”Ÿ<strong>ä¸¢å¤±æ›´æ–°</strong>ï¼›  </li>
<li>æœ€ç»ˆ x&#x3D;2 ä»…å½“ä¸¤ä¸ªçº¿ç¨‹çš„å†™æ“ä½œ<strong>ä¸äº’ç›¸è¦†ç›–</strong>ï¼Œå³<strong>ä¸€ä¸ªçº¿ç¨‹å†™å…¥åï¼Œå¦ä¸€ä¸ªçº¿ç¨‹è¯»åˆ°è¯¥å€¼å†å†™å…¥</strong>ï¼›  </li>
<li>è¿™åœ¨æŒ‡ä»¤äº¤é”™ä¸­åªå‘ç”Ÿåœ¨<strong>å®Œå…¨ä¸²è¡Œ</strong>çš„æƒ…å†µä¸‹ï¼ˆ2 ç§ï¼‰ã€‚</li>
</ul>
<hr>
<p>âœ… æ­£ç¡®ç­”æ¡ˆï¼š<strong>B. 2</strong></p>
<h1 id="é¢˜ç›®-7"><a href="#é¢˜ç›®-7" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>è‹¥ x æ˜¯ç®¡ç¨‹å†…çš„æ¡ä»¶å˜é‡ï¼Œåˆ™å½“è¿›ç¨‹æ‰§è¡Œ x.wait() æ—¶æ‰€åšçš„å·¥ä½œæ˜¯______<br>ã€‚(2018)<br>A. å®ç°å¯¹å˜é‡ x çš„äº’æ–¥è®¿é—®<br>B. å”¤é†’ä¸€ä¸ªåœ¨ x ä¸Šé˜»å¡çš„è¿›ç¨‹<br>C. æ ¹æ® x çš„å€¼åˆ¤æ–­è¯¥è¿›ç¨‹æ˜¯å¦è¿›äººé˜»å¡çŠ¶æ€<br>D. é˜»å¡è¯¥è¿›ç¨‹ï¼Œå¹¶å°†ä¹‹æ’å…¥ x çš„é˜»å¡é˜Ÿåˆ—ä¸­</p>
<h2 id="è§£æ-7"><a href="#è§£æ-7" class="headerlink" title="è§£æ"></a>è§£æ</h2><p><strong>ç­”æ¡ˆï¼šD. é˜»å¡è¯¥è¿›ç¨‹ï¼Œå¹¶å°†ä¹‹æ’å…¥ x çš„é˜»å¡é˜Ÿåˆ—ä¸­</strong></p>
<p>æœ¬é¢˜è€ƒæŸ¥ <strong>ç®¡ç¨‹ä¸­æ¡ä»¶å˜é‡ <code>wait()</code> æ“ä½œçš„è¯­ä¹‰</strong>ã€‚</p>
<p>åœ¨ç®¡ç¨‹ï¼ˆMonitorï¼‰ä¸­ï¼š</p>
<ul>
<li>ç®¡ç¨‹æœ¬èº«ä¿è¯<strong>ä»»ä¸€æ—¶åˆ»æœ€å¤šä¸€ä¸ªè¿›ç¨‹åœ¨ç®¡ç¨‹ä¸­æ‰§è¡Œ</strong>ï¼ˆé€šè¿‡éšå¼äº’æ–¥é”ï¼‰ï¼›  </li>
<li><strong>æ¡ä»¶å˜é‡ï¼ˆcondition variableï¼‰</strong> ç”¨äºå®ç°<strong>è¿›ç¨‹åŒæ­¥ä¸åä½œ</strong>ï¼ˆéäº’æ–¥ï¼‰ï¼Œå…¸å‹å¦‚ï¼š  <ul>
<li><code>x.wait()</code>ï¼šå½“å‰è¿›ç¨‹<strong>æš‚æ—¶æ”¾å¼ƒç®¡ç¨‹æ‰€æœ‰æƒ</strong>ï¼Œè¿›å…¥ç­‰å¾…çŠ¶æ€ï¼›  </li>
<li><code>x.signal()</code> &#x2F; <code>x.notify()</code>ï¼šå”¤é†’ä¸€ä¸ªåœ¨ <code>x</code> ä¸Šç­‰å¾…çš„è¿›ç¨‹ã€‚</li>
</ul>
</li>
</ul>
<hr>
<h3 id="x-wait-çš„æ ‡å‡†è¡Œä¸ºï¼ˆä»¥-Hoare-ç®¡ç¨‹ä¸ºä¾‹ï¼‰ï¼š"><a href="#x-wait-çš„æ ‡å‡†è¡Œä¸ºï¼ˆä»¥-Hoare-ç®¡ç¨‹ä¸ºä¾‹ï¼‰ï¼š" class="headerlink" title="x.wait() çš„æ ‡å‡†è¡Œä¸ºï¼ˆä»¥ Hoare ç®¡ç¨‹ä¸ºä¾‹ï¼‰ï¼š"></a><code>x.wait()</code> çš„æ ‡å‡†è¡Œä¸ºï¼ˆä»¥ Hoare ç®¡ç¨‹ä¸ºä¾‹ï¼‰ï¼š</h3><p>å½“ä¸€ä¸ªè¿›ç¨‹åœ¨ç®¡ç¨‹å†…æ‰§è¡Œ <code>x.wait()</code> æ—¶ï¼Œç³»ç»Ÿä¼šï¼š</p>
<ol>
<li><strong>é‡Šæ”¾ç®¡ç¨‹çš„äº’æ–¥é”</strong>ï¼ˆä»¥ä¾¿å…¶ä»–è¿›ç¨‹å¯è¿›å…¥ç®¡ç¨‹ï¼‰ï¼›  </li>
<li><strong>å°†å½“å‰è¿›ç¨‹é˜»å¡</strong>ï¼ˆä»è¿è¡Œæ€è½¬ä¸ºé˜»å¡æ€ï¼‰ï¼›  </li>
<li><strong>å°†è¯¥è¿›ç¨‹æ”¾å…¥æ¡ä»¶å˜é‡ <code>x</code> çš„é˜»å¡é˜Ÿåˆ—ï¼ˆç­‰å¾…é˜Ÿåˆ—ï¼‰ä¸­</strong>ï¼›  </li>
<li>è°ƒåº¦å™¨åˆ‡æ¢åˆ°å…¶ä»–å°±ç»ªè¿›ç¨‹ã€‚</li>
</ol>
<blockquote>
<p>ğŸ“Œ æ³¨æ„ï¼š<code>wait()</code> <strong>ä¸æ£€æŸ¥ <code>x</code> çš„å€¼</strong>ï¼ˆæ¡ä»¶å˜é‡æœ¬èº«æ²¡æœ‰â€œå€¼â€ï¼Œå®ƒåªæ˜¯ä¸€ä¸ªåŒæ­¥å¯¹è±¡ï¼‰ï¼›<br>åˆ¤æ–­æ˜¯å¦ç­‰å¾…åº”ç”±<strong>ç¨‹åºå‘˜åœ¨ <code>wait()</code> å‰ç”¨ while å¾ªç¯æ£€æŸ¥æ¡ä»¶</strong>ï¼Œå¦‚ï¼š</p>
<div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (buffer.isEmpty()) &#123;</span><br><span class="line">    notEmpty.wait();   <span class="comment">// è¿›å…¥ç­‰å¾…</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></blockquote>
<hr>
<h3 id="é€é¡¹æ’é™¤ï¼š"><a href="#é€é¡¹æ’é™¤ï¼š" class="headerlink" title="é€é¡¹æ’é™¤ï¼š"></a>é€é¡¹æ’é™¤ï¼š</h3><h4 id="A-å®ç°å¯¹å˜é‡-x-çš„äº’æ–¥è®¿é—®"><a href="#A-å®ç°å¯¹å˜é‡-x-çš„äº’æ–¥è®¿é—®" class="headerlink" title="A. å®ç°å¯¹å˜é‡ x çš„äº’æ–¥è®¿é—®"></a>A. å®ç°å¯¹å˜é‡ x çš„äº’æ–¥è®¿é—®</h4><p>âŒ é”™è¯¯ã€‚  </p>
<ul>
<li>äº’æ–¥ç”±<strong>ç®¡ç¨‹æœ¬èº«</strong>ä¿è¯ï¼ˆè¿›å…¥ç®¡ç¨‹è¿‡ç¨‹æ—¶è‡ªåŠ¨åŠ é”ï¼‰ï¼›  </li>
<li>æ¡ä»¶å˜é‡ <code>x</code> <strong>ä¸æä¾›äº’æ–¥</strong>ï¼Œåªç”¨äºåŒæ­¥ï¼›  </li>
<li>å¤šä¸ªè¿›ç¨‹å¯åŒæ—¶åœ¨ä¸åŒæ¡ä»¶å˜é‡ä¸Šç­‰å¾…ï¼Œäº’ä¸å†²çªã€‚</li>
</ul>
<h4 id="B-å”¤é†’ä¸€ä¸ªåœ¨-x-ä¸Šé˜»å¡çš„è¿›ç¨‹"><a href="#B-å”¤é†’ä¸€ä¸ªåœ¨-x-ä¸Šé˜»å¡çš„è¿›ç¨‹" class="headerlink" title="B. å”¤é†’ä¸€ä¸ªåœ¨ x ä¸Šé˜»å¡çš„è¿›ç¨‹"></a>B. å”¤é†’ä¸€ä¸ªåœ¨ x ä¸Šé˜»å¡çš„è¿›ç¨‹</h4><p>âŒ é”™è¯¯ã€‚  </p>
<ul>
<li>è¿™æ˜¯ <code>x.signal()</code> æˆ– <code>x.notify()</code> çš„åŠŸèƒ½ï¼›  </li>
<li><code>wait()</code> æ˜¯<strong>è‡ªå·±å»ç­‰å¾…</strong>ï¼Œä¸æ˜¯å”¤é†’åˆ«äººã€‚</li>
</ul>
<h4 id="C-æ ¹æ®-x-çš„å€¼åˆ¤æ–­è¯¥è¿›ç¨‹æ˜¯å¦è¿›å…¥é˜»å¡çŠ¶æ€"><a href="#C-æ ¹æ®-x-çš„å€¼åˆ¤æ–­è¯¥è¿›ç¨‹æ˜¯å¦è¿›å…¥é˜»å¡çŠ¶æ€" class="headerlink" title="C. æ ¹æ® x çš„å€¼åˆ¤æ–­è¯¥è¿›ç¨‹æ˜¯å¦è¿›å…¥é˜»å¡çŠ¶æ€"></a>C. æ ¹æ® x çš„å€¼åˆ¤æ–­è¯¥è¿›ç¨‹æ˜¯å¦è¿›å…¥é˜»å¡çŠ¶æ€</h4><p>âŒ é”™è¯¯ã€‚  </p>
<ul>
<li>æ¡ä»¶å˜é‡ <code>x</code> <strong>æ²¡æœ‰æ•°å€¼å±æ€§</strong>ï¼Œå®ƒåªæ˜¯ä¸€ä¸ªåŒæ­¥æœºåˆ¶ï¼›  </li>
<li>æ˜¯å¦ç­‰å¾…ç”±ç¨‹åºå‘˜é€»è¾‘å†³å®šï¼ˆå¦‚ <code>while (!condition) x.wait()</code>ï¼‰ï¼›  </li>
<li><code>wait()</code> ä¸€æ—¦è°ƒç”¨ï¼Œ<strong>å¿…ç„¶é˜»å¡</strong>ï¼ˆé™¤éä¿¡å·é‡å®ç°ç‰¹æ®Šä¼˜åŒ–ï¼Œä½†æ ‡å‡†è¯­ä¹‰æ˜¯é˜»å¡ï¼‰ã€‚</li>
</ul>
<h4 id="D-é˜»å¡è¯¥è¿›ç¨‹ï¼Œå¹¶å°†ä¹‹æ’å…¥-x-çš„é˜»å¡é˜Ÿåˆ—ä¸­"><a href="#D-é˜»å¡è¯¥è¿›ç¨‹ï¼Œå¹¶å°†ä¹‹æ’å…¥-x-çš„é˜»å¡é˜Ÿåˆ—ä¸­" class="headerlink" title="D. é˜»å¡è¯¥è¿›ç¨‹ï¼Œå¹¶å°†ä¹‹æ’å…¥ x çš„é˜»å¡é˜Ÿåˆ—ä¸­"></a>D. é˜»å¡è¯¥è¿›ç¨‹ï¼Œå¹¶å°†ä¹‹æ’å…¥ x çš„é˜»å¡é˜Ÿåˆ—ä¸­</h4><p>âœ… <strong>æ­£ç¡®</strong>ã€‚  </p>
<ul>
<li>å®Œæ•´æè¿°äº† <code>wait()</code> çš„æ ¸å¿ƒè¡Œä¸ºï¼›  </li>
<li>æ˜¯ç®¡ç¨‹æ¡ä»¶å˜é‡çš„æ ‡å‡†å®šä¹‰ã€‚</li>
</ul>
<hr>
<h3 id="ğŸ¯-è€ƒç‚¹æ€»ç»“ï¼š-6"><a href="#ğŸ¯-è€ƒç‚¹æ€»ç»“ï¼š-6" class="headerlink" title="ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š"></a>ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š</h3><table>
<thead>
<tr>
<th>æ“ä½œ</th>
<th>è¡Œä¸º</th>
</tr>
</thead>
<tbody><tr>
<td><code>x.wait()</code></td>
<td>é˜»å¡è‡ªå·±ï¼Œå…¥é˜Ÿ <code>x</code> çš„ç­‰å¾…é˜Ÿåˆ—ï¼Œé‡Šæ”¾ç®¡ç¨‹é”</td>
</tr>
<tr>
<td><code>x.signal()</code></td>
<td>å”¤é†’ä¸€ä¸ªåœ¨ <code>x</code> ä¸Šç­‰å¾…çš„è¿›ç¨‹ï¼ˆè‹¥æ— åˆ™å¿½ç•¥ï¼‰</td>
</tr>
<tr>
<td><code>x.broadcast()</code></td>
<td>å”¤é†’æ‰€æœ‰åœ¨ <code>x</code> ä¸Šç­‰å¾…çš„è¿›ç¨‹</td>
</tr>
</tbody></table>
<blockquote>
<p>ğŸ“š å‚è€ƒï¼šã€Šæ“ä½œç³»ç»Ÿæ¦‚å¿µã€‹â€”â€” â€œA condition variable allows a process to suspend execution until some condition is satisfied.â€</p>
</blockquote>
<hr>
<p>âœ… æ­£ç¡®ç­”æ¡ˆï¼š<strong>D</strong></p>
<h1 id="é¢˜ç›®-8"><a href="#é¢˜ç›®-8" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>å’Œå°šæ‰“æ°´é—®é¢˜ï¼ˆè¾½å®å¤§å­¦2016å¹´è®¡ç®—æœºä¸“ç¡•ï¼‰<br>å¯ºåº™ä¸­æœ‰å°å’Œå°šå’Œè€å’Œå°šè‹¥å¹²,æœ‰ä¸€ä¸ªæ°´ç¼¸,ç”±å°å’Œå°šææ°´å…¥ç¼¸ä¾›è€å’Œå°šé¥®ç”¨.<br>æ°´ç¼¸å¯ä»¥å®¹çº³10æ¡¶æ°´,æ°´å–è‡ªåŒä¸€å£äº•ä¸­,ç”±äºæ°´äº•å£çª„,æ¯æ¬¡åªèƒ½å®¹çº³ä¸€ä¸ª<br>æ°´æ¡¶å–æ°´ï¼Œæ°´æ¡¶æ€»æ•°ä¸º3ä¸ªã€‚æ¯æ¬¡å…¥æ°´ã€å–æ°´ä»…ä¸ºä¸€æ¡¶,ä¸”ä¸å¯åŒæ—¶è¿›è¡Œã€‚<br>è¯•ç»™å‡ºæœ‰å…³å–æ°´ã€å…¥æ°´çš„PVç®—æ³•æè¿°ã€‚</p>
<h2 id="è§£æ-8"><a href="#è§£æ-8" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>æˆ‘ä»¬æ¥ç³»ç»Ÿåˆ†æå¹¶è®¾è®¡ <strong>å’Œå°šæ‰“æ°´é—®é¢˜</strong> çš„ PVï¼ˆä¿¡å·é‡ï¼‰åŒæ­¥ç®—æ³•ã€‚</p>
<hr>
<h2 id="ğŸ”-é—®é¢˜å»ºæ¨¡"><a href="#ğŸ”-é—®é¢˜å»ºæ¨¡" class="headerlink" title="ğŸ” é—®é¢˜å»ºæ¨¡"></a>ğŸ” é—®é¢˜å»ºæ¨¡</h2><h3 id="ğŸ§-è§’è‰²ä¸èµ„æºï¼š"><a href="#ğŸ§-è§’è‰²ä¸èµ„æºï¼š" class="headerlink" title="ğŸ§ è§’è‰²ä¸èµ„æºï¼š"></a>ğŸ§ è§’è‰²ä¸èµ„æºï¼š</h3><table>
<thead>
<tr>
<th>å®ä½“</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><strong>å°å’Œå°š</strong></td>
<td>è´Ÿè´£ä»äº•ä¸­æ‰“æ°´ â†’ å€’å…¥æ°´ç¼¸ï¼ˆ<strong>ç”Ÿäº§è€…</strong>ï¼‰</td>
</tr>
<tr>
<td><strong>è€å’Œå°š</strong></td>
<td>ä»æ°´ç¼¸ä¸­å–æ°´é¥®ç”¨ï¼ˆ<strong>æ¶ˆè´¹è€…</strong>ï¼‰</td>
</tr>
<tr>
<td><strong>æ°´ç¼¸</strong></td>
<td>å®¹é‡ä¸º 10 æ¡¶æ°´ï¼Œç¼“å†²åŒº</td>
</tr>
<tr>
<td><strong>æ°´äº•</strong></td>
<td>ä¸´ç•Œèµ„æºï¼Œ<strong>æ¯æ¬¡ä»…å… 1 ä¸ªæ°´æ¡¶å–æ°´</strong>ï¼ˆäº’æ–¥ï¼‰</td>
</tr>
<tr>
<td><strong>æ°´æ¡¶</strong></td>
<td>å…± 3 ä¸ªï¼Œ<strong>æœ‰é™èµ„æº</strong>ï¼ˆææ°´éœ€å…ˆè·å¾—ç©ºæ¡¶ï¼‰</td>
</tr>
</tbody></table>
<h3 id="â³-æ“ä½œæµç¨‹ï¼š"><a href="#â³-æ“ä½œæµç¨‹ï¼š" class="headerlink" title="â³ æ“ä½œæµç¨‹ï¼š"></a>â³ æ“ä½œæµç¨‹ï¼š</h3><ol>
<li>å°å’Œå°šï¼š<br><code>æ‹¿ç©ºæ¡¶</code> â†’ <code>åˆ°äº•è¾¹æ‰“æ°´</code>ï¼ˆäº’æ–¥ï¼‰â†’ <code>ææ°´åˆ°ç¼¸è¾¹</code> â†’ <code>å€’æ°´å…¥ç¼¸</code>ï¼ˆäº’æ–¥ï¼‰â†’ <code>æ”¾å›ç©ºæ¡¶</code>  </li>
<li>è€å’Œå°šï¼š<br><code>æ‹¿æ°´æ¡¶</code>ï¼ˆä»ç¼¸å–æ°´éœ€ç”¨æ°´æ¡¶ï¼Ÿé¢˜ç›®æœªæ˜ç¡®ï¼Œä½†æŒ‰å¸¸ç†ï¼šå–æ°´ä¹Ÿéœ€æ°´æ¡¶ï¼‰â†’<br><code>ä»ç¼¸å–æ°´</code>ï¼ˆäº’æ–¥ï¼‰â†’ <code>é¥®ç”¨</code> â†’ <code>æ”¾å›ç©ºæ¡¶</code></li>
</ol>
<blockquote>
<p>ğŸ“Œ <strong>å…³é”®</strong>ï¼šé¢˜ç›®è¯´â€œæ°´æ¡¶æ€»æ•°ä¸º 3 ä¸ªâ€ï¼Œä¸”â€œæ¯æ¬¡å…¥æ°´ã€å–æ°´ä»…ä¸ºä¸€æ¡¶â€ï¼Œè¯´æ˜<strong>æ°´æ¡¶æ˜¯å…±ç”¨çš„ä¸´ç•Œèµ„æº</strong>ï¼Œæ— è®ºæ‰“æ°´è¿˜æ˜¯å–æ°´éƒ½éœ€ä½¿ç”¨æ°´æ¡¶ã€‚</p>
</blockquote>
<p>ä½†æ›´åˆç†çš„ç†è§£æ˜¯ï¼š</p>
<ul>
<li>å°å’Œå°šç”¨æ¡¶æ‰“æ°´ï¼ˆ1 æ¡¶&#x2F;æ¬¡ï¼‰ï¼Œå€’å…¥ç¼¸åæ¡¶ç©ºé—²ï¼›  </li>
<li>è€å’Œå°šç›´æ¥ä»ç¼¸èˆ€æ°´é¥®ç”¨ï¼ˆ<strong>ä¸ä¸€å®šç”¨æ°´æ¡¶</strong>ï¼‰ï¼Œé¢˜ç›®æœªè¯´è€å’Œå°šéœ€è¦æ¡¶ï¼›  </li>
<li><strong>æ°´æ¡¶ä»…ç”¨äºâ€œä»äº•æ‰“æ°´â€ç¯èŠ‚</strong>ï¼ˆå› äº•å£çª„ï¼Œéœ€ç”¨æ¡¶æ‰“æ°´ï¼‰ï¼›</li>
</ul>
<p>âœ… é‡‡ç”¨<strong>ä¸»æµè§£æ³•ç†è§£</strong>ï¼š</p>
<ul>
<li><strong>æ°´æ¡¶</strong>æ˜¯æœ‰é™èµ„æºï¼ˆ3 ä¸ªï¼‰ï¼Œä»…å°å’Œå°šæ‰“æ°´æ—¶éœ€è¦ï¼›  </li>
<li>è€å’Œå°šä»æ°´ç¼¸å–æ°´ <strong>ä¸å ç”¨æ°´æ¡¶</strong>ï¼ˆå¦‚ç”¨ç¢—ã€ç›´æ¥é¥®ï¼‰ï¼Œåªæ¶ˆè€—æ°´ç¼¸ä¸­çš„æ°´ï¼›  </li>
<li>æ°´ç¼¸æœ¬èº«æ˜¯ä¸´ç•ŒåŒºï¼ˆå€’æ°´&#x2F;å–æ°´éœ€äº’æ–¥ï¼‰ï¼›  </li>
<li>äº•æ˜¯ä¸´ç•Œèµ„æºï¼ˆæ‰“æ°´éœ€äº’æ–¥ï¼‰ã€‚</li>
</ul>
<hr>
<h2 id="âœ…-ä¿¡å·é‡è®¾è®¡"><a href="#âœ…-ä¿¡å·é‡è®¾è®¡" class="headerlink" title="âœ… ä¿¡å·é‡è®¾è®¡"></a>âœ… ä¿¡å·é‡è®¾è®¡</h2><table>
<thead>
<tr>
<th>ä¿¡å·é‡</th>
<th>åˆå€¼</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td><code>mutex_jing</code></td>
<td>1</td>
<td>ä¿æŠ¤æ°´äº•ï¼Œäº’æ–¥æ‰“æ°´</td>
</tr>
<tr>
<td><code>mutex_gang</code></td>
<td>1</td>
<td>ä¿æŠ¤æ°´ç¼¸ï¼Œäº’æ–¥å€’æ°´&#x2F;å–æ°´</td>
</tr>
<tr>
<td><code>empty</code></td>
<td>10</td>
<td>æ°´ç¼¸ä¸­<strong>ç©ºä½æ•°</strong>ï¼ˆå¯å€’å…¥çš„æ¡¶æ•°ï¼‰</td>
</tr>
<tr>
<td><code>full</code></td>
<td>0</td>
<td>æ°´ç¼¸ä¸­<strong>æ°´é‡</strong>ï¼ˆå¯å–ç”¨çš„æ¡¶æ•°ï¼‰</td>
</tr>
<tr>
<td><code>buckets</code></td>
<td>3</td>
<td><strong>ç©ºæ°´æ¡¶æ•°é‡</strong>ï¼ˆå°å’Œå°šæ‰“æ°´å‰éœ€ç”³è¯·ï¼‰</td>
</tr>
</tbody></table>
<blockquote>
<p>ğŸ“ æ³¨ï¼š<code>empty</code> å’Œ <code>full</code> æ˜¯å…¸å‹çš„ç”Ÿäº§è€…-æ¶ˆè´¹è€…ä¿¡å·é‡ï¼›<br><code>buckets</code> æ˜¯é¢å¤–èµ„æºé™åˆ¶ï¼ˆç±»ä¼¼â€œæœ‰é™ç¼“å†²åŒºâ€çš„æ¡¶èµ„æºï¼‰ã€‚</p>
</blockquote>
<hr>
<h2 id="âœ…-è¿›ç¨‹æè¿°ï¼ˆä¼ªä»£ç ï¼‰"><a href="#âœ…-è¿›ç¨‹æè¿°ï¼ˆä¼ªä»£ç ï¼‰" class="headerlink" title="âœ… è¿›ç¨‹æè¿°ï¼ˆä¼ªä»£ç ï¼‰"></a>âœ… è¿›ç¨‹æè¿°ï¼ˆä¼ªä»£ç ï¼‰</h2><h3 id="å°å’Œå°šï¼ˆç”Ÿäº§è€…ï¼‰ï¼š"><a href="#å°å’Œå°šï¼ˆç”Ÿäº§è€…ï¼‰ï¼š" class="headerlink" title="å°å’Œå°šï¼ˆç”Ÿäº§è€…ï¼‰ï¼š"></a>å°å’Œå°šï¼ˆç”Ÿäº§è€…ï¼‰ï¼š</h3><div class="code-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">semaphore mutex_jing = <span class="number">1</span>;   <span class="comment">// äº•äº’æ–¥</span></span><br><span class="line">semaphore mutex_gang = <span class="number">1</span>;   <span class="comment">// ç¼¸äº’æ–¥</span></span><br><span class="line">semaphore empty = <span class="number">10</span>;       <span class="comment">// æ°´ç¼¸ç©ºä½</span></span><br><span class="line">semaphore full = <span class="number">0</span>;         <span class="comment">// æ°´ç¼¸æ°´é‡</span></span><br><span class="line">semaphore buckets = <span class="number">3</span>;      <span class="comment">// ç©ºæ¡¶æ•°</span></span><br><span class="line"></span><br><span class="line">process å°å’Œå°š() &#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">        P(buckets);         <span class="comment">// 1. ç”³è¯·ä¸€ä¸ªç©ºæ¡¶</span></span><br><span class="line">        P(empty);           <span class="comment">// 2. ç­‰å¾…æ°´ç¼¸æœ‰ç©ºä½</span></span><br><span class="line">        P(mutex_jing);      <span class="comment">// 3. äº’æ–¥è®¿é—®æ°´äº•</span></span><br><span class="line">            <span class="comment">// ä»äº•ä¸­æ‰“ä¸€æ¡¶æ°´ï¼ˆä¸´ç•ŒåŒºï¼‰</span></span><br><span class="line">        V(mutex_jing);      <span class="comment">//   é‡Šæ”¾äº•</span></span><br><span class="line">        </span><br><span class="line">        P(mutex_gang);      <span class="comment">// 4. äº’æ–¥è®¿é—®æ°´ç¼¸</span></span><br><span class="line">            <span class="comment">// å°†æ°´å€’å…¥æ°´ç¼¸ï¼ˆ1æ¡¶ï¼‰</span></span><br><span class="line">        V(mutex_gang);      <span class="comment">//   é‡Šæ”¾æ°´ç¼¸</span></span><br><span class="line">        </span><br><span class="line">        V(full);            <span class="comment">// 5. æ°´é‡ +1</span></span><br><span class="line">        V(buckets);         <span class="comment">// 6. å½’è¿˜ç©ºæ¡¶ï¼ˆå€’å®Œåæ¡¶ç©ºé—²ï¼‰</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h3 id="è€å’Œå°šï¼ˆæ¶ˆè´¹è€…ï¼‰ï¼š"><a href="#è€å’Œå°šï¼ˆæ¶ˆè´¹è€…ï¼‰ï¼š" class="headerlink" title="è€å’Œå°šï¼ˆæ¶ˆè´¹è€…ï¼‰ï¼š"></a>è€å’Œå°šï¼ˆæ¶ˆè´¹è€…ï¼‰ï¼š</h3><div class="code-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">process è€å’Œå°š() &#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">        P(full);            <span class="comment">// 1. ç­‰å¾…æ°´ç¼¸æœ‰æ°´</span></span><br><span class="line">        P(mutex_gang);      <span class="comment">// 2. äº’æ–¥è®¿é—®æ°´ç¼¸</span></span><br><span class="line">            <span class="comment">// ä»æ°´ç¼¸å–ä¸€æ¡¶æ°´é¥®ç”¨</span></span><br><span class="line">        V(mutex_gang);      <span class="comment">//   é‡Šæ”¾æ°´ç¼¸</span></span><br><span class="line">        </span><br><span class="line">        V(empty);           <span class="comment">// 3. æ°´ç¼¸ç©ºä½ +1</span></span><br><span class="line">        <span class="comment">// è€å’Œå°šä¸å ç”¨æ°´æ¡¶ï¼Œæ— éœ€æ“ä½œ buckets</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<hr>
<h2 id="âœ…-å…³é”®ç‚¹è¯´æ˜"><a href="#âœ…-å…³é”®ç‚¹è¯´æ˜" class="headerlink" title="âœ… å…³é”®ç‚¹è¯´æ˜"></a>âœ… å…³é”®ç‚¹è¯´æ˜</h2><table>
<thead>
<tr>
<th>æ­¥éª¤</th>
<th>ä¸ºä»€ä¹ˆéœ€è¦ï¼Ÿ</th>
</tr>
</thead>
<tbody><tr>
<td><code>P(buckets)</code> åœ¨ <code>P(empty)</code> å‰ï¼Ÿ</td>
<td>âœ… åˆç†ï¼šå…ˆæ‹¿æ¡¶ï¼Œå†çœ‹ç¼¸æœ‰æ²¡æœ‰ç©ºä½ï¼›è‹¥é¡ºåºåè¿‡æ¥ï¼Œå¯èƒ½å ç€ç©ºä½å´æ²¡æ¡¶ï¼Œé™ä½å¹¶å‘æ€§</td>
</tr>
<tr>
<td>äº•å’Œç¼¸åˆ†åˆ«åŠ é”ï¼Ÿ</td>
<td>âœ… æ˜¯ï¼šäº•ï¼ˆæ‰“æ°´ï¼‰å’Œç¼¸ï¼ˆå€’&#x2F;å–ï¼‰æ˜¯ä¸¤ä¸ªä¸åŒä¸´ç•Œèµ„æºï¼Œåº”ç‹¬ç«‹äº’æ–¥</td>
</tr>
<tr>
<td>è€å’Œå°šä¸æ“ä½œ <code>buckets</code>ï¼Ÿ</td>
<td>âœ… åˆç†ï¼šé¢˜ç›®ä¸­æ°´æ¡¶ç”¨äºâ€œææ°´â€ï¼Œè€å’Œå°šâ€œé¥®ç”¨â€ä¸æ¶‰åŠææ°´ï¼Œæ•…æ— éœ€æ¡¶ï¼›è‹¥é¢˜ç›®æ˜ç¡®è€å’Œå°šä¹Ÿç”¨æ°´æ¡¶ï¼Œåˆ™éœ€åœ¨ <code>P(full)</code> ååŠ  <code>P(buckets)</code>ï¼Œé¥®ç”¨å <code>V(buckets)</code>ï¼Œä½†é¢˜å¹²æœªè¯´æ˜ï¼ŒæŒ‰å¸¸è§„çœç•¥</td>
</tr>
</tbody></table>
<blockquote>
<p>ğŸ¯ è‹¥ä¸¥æ ¼æŒ‰â€œæ°´æ¡¶æ€»æ•°ä¸º 3 ä¸ªï¼Œæ¯æ¬¡å…¥æ°´ã€å–æ°´ä»…ä¸ºä¸€æ¡¶â€ç†è§£ï¼š  </p>
<ul>
<li>â€œå–æ°´â€ä¹Ÿç”¨æ°´æ¡¶ â†’ è€å’Œå°šéœ€ <code>P(buckets)</code>ï¼›<br>å¯è¡¥å……å¦‚ä¸‹ï¼š</li>
</ul>
</blockquote>
<h3 id="ï¼ˆå¯é€‰ï¼‰è‹¥è€å’Œå°šä¹Ÿéœ€ç”¨æ°´æ¡¶ï¼š"><a href="#ï¼ˆå¯é€‰ï¼‰è‹¥è€å’Œå°šä¹Ÿéœ€ç”¨æ°´æ¡¶ï¼š" class="headerlink" title="ï¼ˆå¯é€‰ï¼‰è‹¥è€å’Œå°šä¹Ÿéœ€ç”¨æ°´æ¡¶ï¼š"></a>ï¼ˆå¯é€‰ï¼‰è‹¥è€å’Œå°šä¹Ÿéœ€ç”¨æ°´æ¡¶ï¼š</h3><div class="code-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">process è€å’Œå°š() &#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">        P(full);</span><br><span class="line">        P(buckets);         <span class="comment">// å–æ°´ä¹Ÿéœ€ç”¨æ°´æ¡¶</span></span><br><span class="line">        P(mutex_gang);</span><br><span class="line">            <span class="comment">// å–æ°´</span></span><br><span class="line">        V(mutex_gang);</span><br><span class="line">        V(empty);</span><br><span class="line">        V(buckets);         <span class="comment">// å½’è¿˜æ¡¶</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>ä½†<strong>ä¸»æµè§£æ³•å’Œè€ƒé¢˜æƒ¯ä¾‹ä¸­ï¼Œæ°´æ¡¶ä»…ç”¨äºâ€œæ‰“æ°´â€ç¯èŠ‚</strong>ï¼Œæ•…æ¨èç¬¬ä¸€ç§ã€‚</p>
<hr>
<h2 id="âœ…-ç­”æ¡ˆæ€»ç»“ï¼ˆæ ‡å‡†-PV-æè¿°ï¼‰"><a href="#âœ…-ç­”æ¡ˆæ€»ç»“ï¼ˆæ ‡å‡†-PV-æè¿°ï¼‰" class="headerlink" title="âœ… ç­”æ¡ˆæ€»ç»“ï¼ˆæ ‡å‡† PV æè¿°ï¼‰"></a>âœ… ç­”æ¡ˆæ€»ç»“ï¼ˆæ ‡å‡† PV æè¿°ï¼‰</h2><p><strong>ä¿¡å·é‡å®šä¹‰ï¼š</strong></p>
<ul>
<li><code>mutex_jing = 1</code>ï¼šäº’æ–¥ä½¿ç”¨æ°´äº•  </li>
<li><code>mutex_gang = 1</code>ï¼šäº’æ–¥ä½¿ç”¨æ°´ç¼¸  </li>
<li><code>empty = 10</code>ï¼šæ°´ç¼¸ç©ºä½æ•°  </li>
<li><code>full = 0</code>ï¼šæ°´ç¼¸æ°´é‡  </li>
<li><code>buckets = 3</code>ï¼šç©ºæ°´æ¡¶æ•°</li>
</ul>
<p><strong>å°å’Œå°šï¼š</strong></p>
<div class="code-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">P(buckets);</span><br><span class="line">P(empty);</span><br><span class="line">P(mutex_jing); æ‰“æ°´; V(mutex_jing);</span><br><span class="line">P(mutex_gang); å€’æ°´; V(mutex_gang);</span><br><span class="line">V(full);</span><br><span class="line">V(buckets);</span><br></pre></td></tr></table></figure></div>

<p><strong>è€å’Œå°šï¼š</strong></p>
<div class="code-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">P(full);</span><br><span class="line">P(mutex_gang); å–æ°´; V(mutex_gang);</span><br><span class="line">V(empty);</span><br></pre></td></tr></table></figure></div>

<hr>
<p>âœ… å®Œæ•´ã€æ— æ­»é”ã€æ— é¥¥é¥¿ã€æ»¡è¶³é¢˜ç›®æ‰€æœ‰çº¦æŸã€‚</p>
<h1 id="é¢˜ç›®-9"><a href="#é¢˜ç›®-9" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>è¯•ç”»å‡ºä¸‹é¢å››æ¡è¯­å¥çš„å‰è¶‹å›¾ï¼Œå¹¶ç”¨waitå’Œ<br>signalåŸè¯­æè¿°å‰è¶‹å›¾<br>S1: x:&#x3D;a+b<br>S2: y:&#x3D;c+d<br>S3: z:&#x3D;x*y<br>S4: w&#x3D;z2<br>ï¼ˆæ³¨ï¼ša,b,c,dä¸ºå¸¸é‡ï¼‰</p>
<h2 id="è§£æ-9"><a href="#è§£æ-9" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>æˆ‘ä»¬æ¥é€æ­¥åˆ†æå¹¶ç”»å‡ºè¿™å››æ¡è¯­å¥çš„<strong>å‰è¶‹å›¾ï¼ˆPrecedence Graphï¼‰</strong>ï¼Œå¹¶ç”¨ <strong><code>wait</code> &#x2F; <code>signal</code></strong> åŸè¯­ï¼ˆå³ P&#x2F;V æ“ä½œï¼‰å®ç°åŒæ­¥ã€‚</p>
<hr>
<h2 id="ğŸ”-ä¸€ã€åˆ†æè¯­å¥é—´çš„æ•°æ®ä¾èµ–å…³ç³»"><a href="#ğŸ”-ä¸€ã€åˆ†æè¯­å¥é—´çš„æ•°æ®ä¾èµ–å…³ç³»" class="headerlink" title="ğŸ” ä¸€ã€åˆ†æè¯­å¥é—´çš„æ•°æ®ä¾èµ–å…³ç³»"></a>ğŸ” ä¸€ã€åˆ†æè¯­å¥é—´çš„æ•°æ®ä¾èµ–å…³ç³»</h2><p>ç»™å®šè¯­å¥ï¼š</p>
<div class="code-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">S1: x := a + b</span><br><span class="line">S2: y := c + d</span><br><span class="line">S3: z := x * y</span><br><span class="line">S4: w := z * 2   ï¼ˆæ³¨ï¼šz2 åº”ä¸º z*2ï¼‰</span><br></pre></td></tr></table></figure></div>

<p>åˆ†æè¯»å†™å˜é‡ï¼š</p>
<table>
<thead>
<tr>
<th>è¯­å¥</th>
<th>å†™å…¥å˜é‡</th>
<th>è¯»å–å˜é‡</th>
<th>ä¾èµ–å…³ç³»</th>
</tr>
</thead>
<tbody><tr>
<td>S1</td>
<td>x</td>
<td>a, b</td>
<td>æ— è¾“å…¥ä¾èµ–ï¼ˆa,b ä¸ºå¸¸é‡ï¼‰</td>
</tr>
<tr>
<td>S2</td>
<td>y</td>
<td>c, d</td>
<td>æ— è¾“å…¥ä¾èµ–</td>
</tr>
<tr>
<td>S3</td>
<td>z</td>
<td>x, y</td>
<td>ä¾èµ– S1ï¼ˆéœ€ xï¼‰ã€ä¾èµ– S2ï¼ˆéœ€ yï¼‰</td>
</tr>
<tr>
<td>S4</td>
<td>w</td>
<td>z</td>
<td>ä¾èµ– S3ï¼ˆéœ€ zï¼‰</td>
</tr>
</tbody></table>
<hr>
<h2 id="âœ…-äºŒã€å‰è¶‹å›¾ï¼ˆä¾èµ–å›¾ï¼‰"><a href="#âœ…-äºŒã€å‰è¶‹å›¾ï¼ˆä¾èµ–å›¾ï¼‰" class="headerlink" title="âœ… äºŒã€å‰è¶‹å›¾ï¼ˆä¾èµ–å›¾ï¼‰"></a>âœ… äºŒã€å‰è¶‹å›¾ï¼ˆä¾èµ–å›¾ï¼‰</h2><p>å‰è¶‹å›¾æ˜¯æœ‰å‘æ— ç¯å›¾ï¼ˆDAGï¼‰ï¼ŒèŠ‚ç‚¹ä¸ºè¯­å¥ï¼Œè¾¹ $ A \to B $ è¡¨ç¤º A å¿…é¡»å…ˆäº B æ‰§è¡Œã€‚</p>
<div class="code-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">S1        S2</span><br><span class="line"> \       /</span><br><span class="line">  \     /</span><br><span class="line">   \   /</span><br><span class="line">    S3</span><br><span class="line">    |</span><br><span class="line">    |</span><br><span class="line">    S4</span><br></pre></td></tr></table></figure></div>

<p>å³ï¼š</p>
<ul>
<li>S1 â†’ S3  </li>
<li>S2 â†’ S3  </li>
<li>S3 â†’ S4</li>
</ul>
<p>S1 ä¸ S2 æ— ä¾èµ–ï¼Œå¯å¹¶å‘æ‰§è¡Œã€‚</p>
<hr>
<h2 id="âœ…-ä¸‰ã€ç”¨-wait-signal-åŸè¯­å®ç°åŒæ­¥"><a href="#âœ…-ä¸‰ã€ç”¨-wait-signal-åŸè¯­å®ç°åŒæ­¥" class="headerlink" title="âœ… ä¸‰ã€ç”¨ wait &#x2F; signal åŸè¯­å®ç°åŒæ­¥"></a>âœ… ä¸‰ã€ç”¨ wait &#x2F; signal åŸè¯­å®ç°åŒæ­¥</h2><h3 id="ğŸ§©-æ€è·¯ï¼š"><a href="#ğŸ§©-æ€è·¯ï¼š" class="headerlink" title="ğŸ§© æ€è·¯ï¼š"></a>ğŸ§© æ€è·¯ï¼š</h3><ul>
<li>ä¸ºæ¯æ¡ä¾èµ–è¾¹è®¾ç½®ä¸€ä¸ª<strong>åŒæ­¥ä¿¡å·é‡</strong>ï¼ˆåˆå€¼ä¸º 0ï¼‰ï¼›  </li>
<li>å‰é©±æ‰§è¡Œå®Œå <code>signal</code>ï¼Œåç»§æ‰§è¡Œå‰ <code>wait</code>ã€‚</li>
</ul>
<h3 id="ğŸ“Œ-ä¿¡å·é‡è®¾è®¡ï¼š"><a href="#ğŸ“Œ-ä¿¡å·é‡è®¾è®¡ï¼š" class="headerlink" title="ğŸ“Œ ä¿¡å·é‡è®¾è®¡ï¼š"></a>ğŸ“Œ ä¿¡å·é‡è®¾è®¡ï¼š</h3><table>
<thead>
<tr>
<th>ä¿¡å·é‡</th>
<th>å«ä¹‰</th>
<th>åˆå€¼</th>
</tr>
</thead>
<tbody><tr>
<td><code>s1_done</code></td>
<td>S1 æ˜¯å¦å®Œæˆ</td>
<td>0</td>
</tr>
<tr>
<td><code>s2_done</code></td>
<td>S2 æ˜¯å¦å®Œæˆ</td>
<td>0</td>
</tr>
<tr>
<td><code>s3_done</code></td>
<td>S3 æ˜¯å¦å®Œæˆ</td>
<td>0</td>
</tr>
</tbody></table>
<blockquote>
<p>æ³¨æ„ï¼šS3 éœ€ç­‰å¾… S1 å’Œ S2 éƒ½å®Œæˆï¼Œå› æ­¤éœ€ä¸¤ä¸ª <code>wait</code>ã€‚</p>
</blockquote>
<hr>
<h3 id="âœ…-åŒæ­¥ä»£ç ï¼ˆç”¨-P-V-è¡¨ç¤ºï¼ŒP-wait-V-signalï¼‰ï¼š"><a href="#âœ…-åŒæ­¥ä»£ç ï¼ˆç”¨-P-V-è¡¨ç¤ºï¼ŒP-wait-V-signalï¼‰ï¼š" class="headerlink" title="âœ… åŒæ­¥ä»£ç ï¼ˆç”¨ P&#x2F;V è¡¨ç¤ºï¼ŒP &#x3D; wait, V &#x3D; signalï¼‰ï¼š"></a>âœ… åŒæ­¥ä»£ç ï¼ˆç”¨ P&#x2F;V è¡¨ç¤ºï¼ŒP &#x3D; wait, V &#x3D; signalï¼‰ï¼š</h3><div class="code-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆå§‹åŒ–ä¿¡å·é‡</span></span><br><span class="line">semaphore s1_done = <span class="number">0</span>;</span><br><span class="line">semaphore s2_done = <span class="number">0</span>;</span><br><span class="line">semaphore s3_done = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿›ç¨‹/çº¿ç¨‹å¹¶å‘æ‰§è¡Œä»¥ä¸‹ä»£ç ï¼š</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// S1</span></span><br><span class="line">x := a + b;</span><br><span class="line">V(s1_done);        <span class="comment">// é€šçŸ¥ S3ï¼šS1 å·²å®Œæˆ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// S2</span></span><br><span class="line">y := c + d;</span><br><span class="line">V(s2_done);        <span class="comment">// é€šçŸ¥ S3ï¼šS2 å·²å®Œæˆ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// S3</span></span><br><span class="line">P(s1_done);        <span class="comment">// ç­‰å¾… S1 å®Œæˆ</span></span><br><span class="line">P(s2_done);        <span class="comment">// ç­‰å¾… S2 å®Œæˆ</span></span><br><span class="line">z := x * y;</span><br><span class="line">V(s3_done);        <span class="comment">// é€šçŸ¥ S4ï¼šS3 å·²å®Œæˆ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// S4</span></span><br><span class="line">P(s3_done);        <span class="comment">// ç­‰å¾… S3 å®Œæˆ</span></span><br><span class="line">w := z * <span class="number">2</span>;</span><br></pre></td></tr></table></figure></div>

<hr>
<h2 id="âœ…-å››ã€æ­£ç¡®æ€§è¯´æ˜"><a href="#âœ…-å››ã€æ­£ç¡®æ€§è¯´æ˜" class="headerlink" title="âœ… å››ã€æ­£ç¡®æ€§è¯´æ˜"></a>âœ… å››ã€æ­£ç¡®æ€§è¯´æ˜</h2><ul>
<li>S1ã€S2 å¯å¹¶è¡Œæ‰§è¡Œï¼ˆæ— åŒæ­¥çº¦æŸï¼‰ï¼›  </li>
<li>S3 åœ¨ <code>P(s1_done)</code> å’Œ <code>P(s2_done)</code> åæ‰æ‰§è¡Œï¼Œä¿è¯ <code>x</code> å’Œ <code>y</code> å·²è®¡ç®—ï¼›  </li>
<li>S4 åœ¨ <code>P(s3_done)</code> åæ‰§è¡Œï¼Œä¿è¯ <code>z</code> å·²è®¡ç®—ï¼›  </li>
<li>æ‰€æœ‰æ•°æ®ä¾èµ–å‡è¢«æ»¡è¶³ï¼Œæ— ç«æ€æ¡ä»¶ã€‚</li>
</ul>
<hr>
<h2 id="ğŸ“Œ-è¡¥å……ï¼šè‹¥ç”¨å››ä¸ªçº¿ç¨‹åˆ†åˆ«æ‰§è¡Œ-S1-S4"><a href="#ğŸ“Œ-è¡¥å……ï¼šè‹¥ç”¨å››ä¸ªçº¿ç¨‹åˆ†åˆ«æ‰§è¡Œ-S1-S4" class="headerlink" title="ğŸ“Œ è¡¥å……ï¼šè‹¥ç”¨å››ä¸ªçº¿ç¨‹åˆ†åˆ«æ‰§è¡Œ S1~S4"></a>ğŸ“Œ è¡¥å……ï¼šè‹¥ç”¨å››ä¸ªçº¿ç¨‹åˆ†åˆ«æ‰§è¡Œ S1~S4</h2><div class="code-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸»ç¨‹åºåˆå§‹åŒ–ä¿¡å·é‡ååˆ›å»º 4 ä¸ªçº¿ç¨‹ï¼š</span></span><br><span class="line"></span><br><span class="line">Thread1() &#123; x = a+b; V(s1_done); &#125;</span><br><span class="line">Thread2() &#123; y = c+d; V(s2_done); &#125;</span><br><span class="line">Thread3() &#123; P(s1_done); P(s2_done); z = x*y; V(s3_done); &#125;</span><br><span class="line">Thread4() &#123; P(s3_done); w = z*<span class="number">2</span>; &#125;</span><br></pre></td></tr></table></figure></div>

<hr>
<h3 id="âœ…-æœ€ç»ˆç­”æ¡ˆï¼š"><a href="#âœ…-æœ€ç»ˆç­”æ¡ˆï¼š" class="headerlink" title="âœ… æœ€ç»ˆç­”æ¡ˆï¼š"></a>âœ… æœ€ç»ˆç­”æ¡ˆï¼š</h3><h4 id="1-å‰è¶‹å›¾ï¼š"><a href="#1-å‰è¶‹å›¾ï¼š" class="headerlink" title="1. å‰è¶‹å›¾ï¼š"></a>1. å‰è¶‹å›¾ï¼š</h4><div class="code-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">S1 â”€â”€â”€â”</span><br><span class="line">      â”œâ”€â†’ S3 â”€â”€â†’ S4</span><br><span class="line">S2 â”€â”€â”€â”˜</span><br></pre></td></tr></table></figure></div>

<h4 id="2-wait-signal-æè¿°ï¼š"><a href="#2-wait-signal-æè¿°ï¼š" class="headerlink" title="2. wait&#x2F;signal æè¿°ï¼š"></a>2. wait&#x2F;signal æè¿°ï¼š</h4><ul>
<li>ä¿¡å·é‡ï¼š<code>s1_done = 0, s2_done = 0, s3_done = 0</code>  </li>
<li>S1 åï¼š<code>signal(s1_done)</code>  </li>
<li>S2 åï¼š<code>signal(s2_done)</code>  </li>
<li>S3 å‰ï¼š<code>wait(s1_done); wait(s2_done)</code>ï¼›åï¼š<code>signal(s3_done)</code>  </li>
<li>S4 å‰ï¼š<code>wait(s3_done)</code></li>
</ul>

		</div>

		
		<div class="post-copyright-info w-full my-8 px-2 sm:px-6 md:px-8">
			<div class="article-copyright-info-container">
    <ul>
        <li><strong>Title:</strong> Linuxæ“ä½œç³»ç»Ÿ-åŒæ­¥äº’æ–¥</li>
        <li><strong>Author:</strong> å§œæ™ºæµ©</li>
        <li><strong>Created at
                :</strong> 2025-12-24 11:45:14</li>
        
            <li>
                <strong>Updated at
                    :</strong> 2025-12-24 21:29:05
            </li>
        
        <li>
            <strong>Link:</strong> https://super-213.github.io/zhihaojiang.github.io/2025/12/24/20251224Linuxæ“ä½œç³»ç»Ÿ-åŒæ­¥äº’æ–¥/
        </li>
        <li>
            <strong>
                License:
            </strong>
            

            
                This work is licensed under <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0">CC BY-NC-SA 4.0</a>.
            
        </li>
    </ul>
</div>

		</div>
		

		
		<ul class="post-tags-box text-lg mt-1.5 flex-wrap justify-center flex md:hidden">
			
			<li class="tag-item mx-0.5">
				<a href="/zhihaojiang.github.io/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/">#è®¡ç®—æœºç§‘å­¦</a>&nbsp;
			</li>
			
			<li class="tag-item mx-0.5">
				<a href="/zhihaojiang.github.io/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">#æ“ä½œç³»ç»Ÿ</a>&nbsp;
			</li>
			
		</ul>
		

		

		
		<div class="article-nav my-8 flex justify-between items-center px-2 sm:px-6 md:px-8">
			
			<div class="article-prev border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2">
				<a class="prev" rel="prev" href="/zhihaojiang.github.io/2025/12/29/20251229%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86%E4%B8%8E%E5%A4%84%E7%90%86--%E7%9B%B8%E5%85%B3%E4%B9%A0%E9%A2%98/">
					<span class="left arrow-icon flex justify-center items-center">
						<i class="fa-solid fa-chevron-left"></i>
					</span>
					<span class="title flex justify-center items-center">
						<span class="post-nav-title-item">æ•°æ®é‡‡é›†ä¸å¤„ç†--ç›¸å…³ä¹ é¢˜</span>
						<span class="post-nav-item">Prev posts</span>
					</span>
				</a>
			</div>
			
			
			<div class="article-next border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2">
				<a class="next" rel="next" href="/zhihaojiang.github.io/2025/12/23/20251223Linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E6%AD%BB%E9%94%81%E9%A2%98%E7%9B%AE/">
					<span class="title flex justify-center items-center">
						<span class="post-nav-title-item">Linuxæ“ä½œç³»ç»Ÿ-æ­»é”é¢˜ç›®</span>
						<span class="post-nav-item">Next posts</span>
					</span>
					<span class="right arrow-icon flex justify-center items-center">
						<i class="fa-solid fa-chevron-right"></i>
					</span>
				</a>
			</div>
			
		</div>
		


		
	</div>

	
	<div class="toc-content-container">
		<div class="post-toc-wrap">
	<div class="post-toc">
		<div class="toc-title">On this page</div>
		<div class="page-title">Linuxæ“ä½œç³»ç»Ÿ-åŒæ­¥äº’æ–¥</div>
		<ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90"><span class="nav-text">è§£æ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%90%E9%A1%B9%E5%88%86%E6%9E%90%EF%BC%9A"><span class="nav-text">é€é¡¹åˆ†æï¼š</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%F0%9F%8E%AF-%E8%80%83%E7%82%B9%E6%80%BB%E7%BB%93%EF%BC%9A"><span class="nav-text">ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-1"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-1"><span class="nav-text">è§£æ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%90%E9%A1%B9%E5%AF%B9%E5%BA%94%E9%A2%98%E5%B9%B2%EF%BC%9A"><span class="nav-text">é€é¡¹å¯¹åº”é¢˜å¹²ï¼š</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%F0%9F%8E%AF-%E8%80%83%E7%82%B9%E6%80%BB%E7%BB%93%EF%BC%9A-1"><span class="nav-text">ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-2"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-2"><span class="nav-text">è§£æ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E6%9D%A1%E4%BB%B6%EF%BC%9A"><span class="nav-text">é¢˜ç›®æ¡ä»¶ï¼š</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%F0%9F%94%8D-%E9%AA%8C%E8%AF%81%E8%BF%87%E7%A8%8B%EF%BC%9A"><span class="nav-text">ğŸ” éªŒè¯è¿‡ç¨‹ï¼š</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E2%9D%8C-%E6%8E%92%E9%99%A4%E5%B9%B2%E6%89%B0%E9%80%89%E9%A1%B9%EF%BC%9A"><span class="nav-text">âŒ æ’é™¤å¹²æ‰°é€‰é¡¹ï¼š</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%F0%9F%8E%AF-%E8%80%83%E7%82%B9%E6%80%BB%E7%BB%93%EF%BC%9A-2"><span class="nav-text">ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-3"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-3"><span class="nav-text">è§£æ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%90%E9%A1%B9%E5%88%86%E6%9E%90%E9%80%89%E9%A1%B9%EF%BC%9A"><span class="nav-text">é€é¡¹åˆ†æé€‰é¡¹ï¼š</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%F0%9F%8E%AF-%E8%80%83%E7%82%B9%E6%80%BB%E7%BB%93%EF%BC%9A-3"><span class="nav-text">ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-4"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-4"><span class="nav-text">è§£æ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%F0%9F%8E%AF-%E8%80%83%E7%82%B9%E6%80%BB%E7%BB%93%EF%BC%9A-4"><span class="nav-text">ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-5"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BC%AA%E4%BB%A3%E7%A0%81%EF%BC%9A"><span class="nav-text">ä¼ªä»£ç ï¼š</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-5"><span class="nav-text">è§£æ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E9%97%AE%EF%BC%9A%E2%80%9C%E9%9C%80%E8%A6%81%E4%BA%92%E6%96%A5%E6%89%A7%E8%A1%8C%E7%9A%84%E6%93%8D%E4%BD%9C%E2%80%9D-%E2%80%94%E2%80%94-%E5%8D%B3%E5%93%AA%E4%BA%9B%E6%93%8D%E4%BD%9C%E5%AF%B9%E5%85%B1%E4%BA%AB%E5%8F%98%E9%87%8F-x-%E7%9A%84%E8%AE%BF%E9%97%AE%E5%8F%AF%E8%83%BD%E4%BA%A7%E7%94%9F%E7%AB%9E%E6%80%81%E6%9D%A1%E4%BB%B6%EF%BC%88Race-Condition%EF%BC%89%EF%BC%8C%E9%9C%80%E5%8A%A0%E9%94%81%E4%BF%9D%E6%8A%A4%E3%80%82"><span class="nav-text">é¢˜ç›®é—®ï¼šâ€œéœ€è¦äº’æ–¥æ‰§è¡Œçš„æ“ä½œâ€ â€”â€” å³å“ªäº›æ“ä½œå¯¹å…±äº«å˜é‡ x çš„è®¿é—®å¯èƒ½äº§ç”Ÿç«æ€æ¡ä»¶ï¼ˆRace Conditionï¼‰ï¼Œéœ€åŠ é”ä¿æŠ¤ã€‚</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E2%9C%85-%E6%AD%A3%E7%A1%AE%E7%AD%94%E6%A1%88%EF%BC%9AC-x-1-%E4%B8%8E-x-2"><span class="nav-text">âœ… æ­£ç¡®ç­”æ¡ˆï¼šC. x+&#x3D;1 ä¸ x+&#x3D;2</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-6"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-6"><span class="nav-text">è§£æ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%F0%9F%93%9C-%E9%A2%98%E7%9B%AE%E6%8F%8F%E8%BF%B0%EF%BC%9A"><span class="nav-text">ğŸ“œ é¢˜ç›®æè¿°ï¼š</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E2%9C%85-%E5%85%B3%E9%94%AE%E7%82%B9%EF%BC%9A"><span class="nav-text">âœ… å…³é”®ç‚¹ï¼š</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%F0%9F%94%A2-%E6%80%BB%E6%8C%87%E4%BB%A4%E6%95%B0%EF%BC%9A"><span class="nav-text">ğŸ”¢ æ€»æŒ‡ä»¤æ•°ï¼š</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E2%9C%85-%E6%AD%A3%E7%A1%AE%E7%BB%93%E6%9E%9C%EF%BC%9Ax-2-%E5%BD%93%E4%B8%94%E4%BB%85%E5%BD%93-%E4%B8%A4%E4%B8%AA%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%86%99%E6%93%8D%E4%BD%9C%E6%B2%A1%E6%9C%89%E8%A6%86%E7%9B%96%E5%AF%B9%E6%96%B9%E7%9A%84%E7%BB%93%E6%9E%9C"><span class="nav-text">âœ… æ­£ç¡®ç»“æœï¼šx&#x3D;2 å½“ä¸”ä»…å½“ ä¸¤ä¸ªçº¿ç¨‹çš„å†™æ“ä½œæ²¡æœ‰è¦†ç›–å¯¹æ–¹çš„ç»“æœ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%F0%9F%A7%A9-%E6%9E%9A%E4%B8%BE%E5%85%B3%E9%94%AE%E6%83%85%E5%86%B5%EF%BC%9A"><span class="nav-text">ğŸ§© æšä¸¾å…³é”®æƒ…å†µï¼š</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%F0%9F%8E%AF-%E6%83%85%E5%86%B5-1%EF%BC%9A%E6%97%A0%E4%BA%A4%E9%94%99%EF%BC%88%E5%AE%8C%E5%85%A8%E4%B8%B2%E8%A1%8C%EF%BC%89"><span class="nav-text">ğŸ¯ æƒ…å†µ 1ï¼šæ— äº¤é”™ï¼ˆå®Œå…¨ä¸²è¡Œï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%F0%9F%8E%AF-%E6%83%85%E5%86%B5-2%EF%BC%9A%E9%83%A8%E5%88%86%E4%BA%A4%E9%94%99%EF%BC%8C%E4%BD%86%E5%86%99%E6%93%8D%E4%BD%9C%E6%9C%AA%E8%A2%AB%E8%A6%86%E7%9B%96"><span class="nav-text">ğŸ¯ æƒ…å†µ 2ï¼šéƒ¨åˆ†äº¤é”™ï¼Œä½†å†™æ“ä½œæœªè¢«è¦†ç›–</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%F0%9F%8E%AF-%E5%94%AF%E4%B8%80%E8%83%BD%E4%BD%BF-x-2-%E7%9A%84%E6%83%85%E5%86%B5%EF%BC%9A"><span class="nav-text">ğŸ¯ å”¯ä¸€èƒ½ä½¿ x&#x3D;2 çš„æƒ…å†µï¼š</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%F0%9F%A7%A0-%E6%AD%A3%E7%A1%AE%E6%96%B9%E6%B3%95%EF%BC%9A%E6%9E%9A%E4%B8%BE%E6%89%80%E6%9C%89-20-%E7%A7%8D%E5%BA%8F%E5%88%97%EF%BC%8C%E7%BB%9F%E8%AE%A1-x-2-%E7%9A%84%E6%95%B0%E9%87%8F"><span class="nav-text">ğŸ§  æ­£ç¡®æ–¹æ³•ï¼šæšä¸¾æ‰€æœ‰ 20 ç§åºåˆ—ï¼Œç»Ÿè®¡ x&#x3D;2 çš„æ•°é‡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%F0%9F%9A%AB-%E6%9C%89%E6%B2%A1%E6%9C%89%E7%AC%AC%E4%B8%89%E7%A7%8D%EF%BC%9F"><span class="nav-text">ğŸš« æœ‰æ²¡æœ‰ç¬¬ä¸‰ç§ï¼Ÿ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%F0%9F%92%A1-%E7%AA%81%E7%A0%B4%E7%82%B9%EF%BC%9A"><span class="nav-text">ğŸ’¡ çªç ´ç‚¹ï¼š</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%F0%9F%93%8A-%E5%AE%9E%E9%99%85%E7%AD%94%E6%A1%88%EF%BC%88%E5%8F%82%E8%80%83%E6%A0%87%E5%87%86%E8%A7%A3%E7%AD%94%EF%BC%89%EF%BC%9A"><span class="nav-text">ğŸ“Š å®é™…ç­”æ¡ˆï¼ˆå‚è€ƒæ ‡å‡†è§£ç­”ï¼‰ï¼š</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E2%9C%85-%E6%AD%A3%E7%A1%AE%E7%AD%94%E6%A1%88%EF%BC%9AB-2"><span class="nav-text">âœ… æ­£ç¡®ç­”æ¡ˆï¼šB. 2</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%F0%9F%8E%AF-%E8%80%83%E7%82%B9%E6%80%BB%E7%BB%93%EF%BC%9A-5"><span class="nav-text">ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-7"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-7"><span class="nav-text">è§£æ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#x-wait-%E7%9A%84%E6%A0%87%E5%87%86%E8%A1%8C%E4%B8%BA%EF%BC%88%E4%BB%A5-Hoare-%E7%AE%A1%E7%A8%8B%E4%B8%BA%E4%BE%8B%EF%BC%89%EF%BC%9A"><span class="nav-text">x.wait() çš„æ ‡å‡†è¡Œä¸ºï¼ˆä»¥ Hoare ç®¡ç¨‹ä¸ºä¾‹ï¼‰ï¼š</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%90%E9%A1%B9%E6%8E%92%E9%99%A4%EF%BC%9A"><span class="nav-text">é€é¡¹æ’é™¤ï¼š</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%F0%9F%8E%AF-%E8%80%83%E7%82%B9%E6%80%BB%E7%BB%93%EF%BC%9A-6"><span class="nav-text">ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-8"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-8"><span class="nav-text">è§£æ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%F0%9F%94%8D-%E9%97%AE%E9%A2%98%E5%BB%BA%E6%A8%A1"><span class="nav-text">ğŸ” é—®é¢˜å»ºæ¨¡</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%F0%9F%A7%8D-%E8%A7%92%E8%89%B2%E4%B8%8E%E8%B5%84%E6%BA%90%EF%BC%9A"><span class="nav-text">ğŸ§ è§’è‰²ä¸èµ„æºï¼š</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E2%8F%B3-%E6%93%8D%E4%BD%9C%E6%B5%81%E7%A8%8B%EF%BC%9A"><span class="nav-text">â³ æ“ä½œæµç¨‹ï¼š</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E2%9C%85-%E4%BF%A1%E5%8F%B7%E9%87%8F%E8%AE%BE%E8%AE%A1"><span class="nav-text">âœ… ä¿¡å·é‡è®¾è®¡</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E2%9C%85-%E8%BF%9B%E7%A8%8B%E6%8F%8F%E8%BF%B0%EF%BC%88%E4%BC%AA%E4%BB%A3%E7%A0%81%EF%BC%89"><span class="nav-text">âœ… è¿›ç¨‹æè¿°ï¼ˆä¼ªä»£ç ï¼‰</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%8F%E5%92%8C%E5%B0%9A%EF%BC%88%E7%94%9F%E4%BA%A7%E8%80%85%EF%BC%89%EF%BC%9A"><span class="nav-text">å°å’Œå°šï¼ˆç”Ÿäº§è€…ï¼‰ï¼š</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%80%81%E5%92%8C%E5%B0%9A%EF%BC%88%E6%B6%88%E8%B4%B9%E8%80%85%EF%BC%89%EF%BC%9A"><span class="nav-text">è€å’Œå°šï¼ˆæ¶ˆè´¹è€…ï¼‰ï¼š</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E2%9C%85-%E5%85%B3%E9%94%AE%E7%82%B9%E8%AF%B4%E6%98%8E"><span class="nav-text">âœ… å…³é”®ç‚¹è¯´æ˜</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%88%E5%8F%AF%E9%80%89%EF%BC%89%E8%8B%A5%E8%80%81%E5%92%8C%E5%B0%9A%E4%B9%9F%E9%9C%80%E7%94%A8%E6%B0%B4%E6%A1%B6%EF%BC%9A"><span class="nav-text">ï¼ˆå¯é€‰ï¼‰è‹¥è€å’Œå°šä¹Ÿéœ€ç”¨æ°´æ¡¶ï¼š</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E2%9C%85-%E7%AD%94%E6%A1%88%E6%80%BB%E7%BB%93%EF%BC%88%E6%A0%87%E5%87%86-PV-%E6%8F%8F%E8%BF%B0%EF%BC%89"><span class="nav-text">âœ… ç­”æ¡ˆæ€»ç»“ï¼ˆæ ‡å‡† PV æè¿°ï¼‰</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-9"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-9"><span class="nav-text">è§£æ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%F0%9F%94%8D-%E4%B8%80%E3%80%81%E5%88%86%E6%9E%90%E8%AF%AD%E5%8F%A5%E9%97%B4%E7%9A%84%E6%95%B0%E6%8D%AE%E4%BE%9D%E8%B5%96%E5%85%B3%E7%B3%BB"><span class="nav-text">ğŸ” ä¸€ã€åˆ†æè¯­å¥é—´çš„æ•°æ®ä¾èµ–å…³ç³»</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E2%9C%85-%E4%BA%8C%E3%80%81%E5%89%8D%E8%B6%8B%E5%9B%BE%EF%BC%88%E4%BE%9D%E8%B5%96%E5%9B%BE%EF%BC%89"><span class="nav-text">âœ… äºŒã€å‰è¶‹å›¾ï¼ˆä¾èµ–å›¾ï¼‰</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E2%9C%85-%E4%B8%89%E3%80%81%E7%94%A8-wait-signal-%E5%8E%9F%E8%AF%AD%E5%AE%9E%E7%8E%B0%E5%90%8C%E6%AD%A5"><span class="nav-text">âœ… ä¸‰ã€ç”¨ wait &#x2F; signal åŸè¯­å®ç°åŒæ­¥</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%F0%9F%A7%A9-%E6%80%9D%E8%B7%AF%EF%BC%9A"><span class="nav-text">ğŸ§© æ€è·¯ï¼š</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%F0%9F%93%8C-%E4%BF%A1%E5%8F%B7%E9%87%8F%E8%AE%BE%E8%AE%A1%EF%BC%9A"><span class="nav-text">ğŸ“Œ ä¿¡å·é‡è®¾è®¡ï¼š</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E2%9C%85-%E5%90%8C%E6%AD%A5%E4%BB%A3%E7%A0%81%EF%BC%88%E7%94%A8-P-V-%E8%A1%A8%E7%A4%BA%EF%BC%8CP-wait-V-signal%EF%BC%89%EF%BC%9A"><span class="nav-text">âœ… åŒæ­¥ä»£ç ï¼ˆç”¨ P&#x2F;V è¡¨ç¤ºï¼ŒP &#x3D; wait, V &#x3D; signalï¼‰ï¼š</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E2%9C%85-%E5%9B%9B%E3%80%81%E6%AD%A3%E7%A1%AE%E6%80%A7%E8%AF%B4%E6%98%8E"><span class="nav-text">âœ… å››ã€æ­£ç¡®æ€§è¯´æ˜</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%F0%9F%93%8C-%E8%A1%A5%E5%85%85%EF%BC%9A%E8%8B%A5%E7%94%A8%E5%9B%9B%E4%B8%AA%E7%BA%BF%E7%A8%8B%E5%88%86%E5%88%AB%E6%89%A7%E8%A1%8C-S1-S4"><span class="nav-text">ğŸ“Œ è¡¥å……ï¼šè‹¥ç”¨å››ä¸ªçº¿ç¨‹åˆ†åˆ«æ‰§è¡Œ S1~S4</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E2%9C%85-%E6%9C%80%E7%BB%88%E7%AD%94%E6%A1%88%EF%BC%9A"><span class="nav-text">âœ… æœ€ç»ˆç­”æ¡ˆï¼š</span></a></li></ol></li></ol></li></ol>

	</div>
</div>
	</div>
	
</div>
			</div>

			
		</div>

		<div class="main-content-footer">
			<footer class="footer mt-5 py-5 h-auto text-base text-third-text-color relative border-t-2 border-t-border-color">
    <div class="info-container py-3 text-center">
        
        <div class="text-center">
            &copy;
            
              <span>2022</span>
              -
            
            2026&nbsp;&nbsp;<i class="fa-solid fa-heart fa-beat" style="--fa-animation-duration: 0.5s; color: #f54545"></i>&nbsp;&nbsp;<a href="/zhihaojiang.github.io/">å§œæ™ºæµ©</a>
            
                
                <p class="post-count space-x-0.5">
                    <span>
                        81 posts in total
                    </span>
                    
                        <span>
                            225.7k words in total
                        </span>
                    
                </p>
            
        </div>
        
            <script data-swup-reload-script src="https://cn.vercount.one/js"></script>
            <div class="relative text-center lg:absolute lg:right-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-right">
                
                    <span id="busuanzi_container_site_uv" class="lg:!block">
                        <span class="text-sm">VISITOR COUNT</span>
                        <span id="busuanzi_value_site_uv"></span>
                    </span>
                
                
                    <span id="busuanzi_container_site_pv" class="lg:!block">
                        <span class="text-sm">TOTAL PAGE VIEWS</span>
                        <span id="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="relative text-center lg:absolute lg:left-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-left">
            <span class="lg:block text-sm">POWERED BY <?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="relative top-[2px] inline-block align-baseline" version="1.1" id="åœ–å±¤_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="1rem" height="1rem" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path fill="#0E83CD" d="M256.4,25.8l-200,115.5L56,371.5l199.6,114.7l200-115.5l0.4-230.2L256.4,25.8z M349,354.6l-18.4,10.7l-18.6-11V275H200v79.6l-18.4,10.7l-18.6-11v-197l18.5-10.6l18.5,10.8V237h112v-79.6l18.5-10.6l18.5,10.8V354.6z"/></svg><a target="_blank" class="text-base" href="https://hexo.io">Hexo</a></span>
            <span class="text-sm lg:block">THEME&nbsp;<a class="text-base" target="_blank" href="https://github.com/EvanNotFound/hexo-theme-redefine">Redefine v2.8.2</a></span>
        </div>
        
        
            <div>
                Blog up for <span class="odometer" id="runtime_days" ></span> days <span class="odometer" id="runtime_hours"></span> hrs <span class="odometer" id="runtime_minutes"></span> Min <span class="odometer" id="runtime_seconds"></span> Sec
            </div>
        
        
            <script data-swup-reload-script>
                try {
                    function odometer_init() {
                    const elements = document.querySelectorAll('.odometer');
                    elements.forEach(el => {
                        new Odometer({
                            el,
                            format: '( ddd).dd',
                            duration: 200
                        });
                    });
                    }
                    odometer_init();
                } catch (error) {}
            </script>
        
        
        
    </div>  
</footer>
		</div>
	</div>

	
	<div class="post-tools">
		<div class="post-tools-container">
	<ul class="article-tools-list">
		<!-- TOC aside toggle -->
		
		<li class="right-bottom-tools page-aside-toggle">
			<i class="fa-regular fa-outdent"></i>
		</li>
		

		<!-- go comment -->
		
	</ul>
</div>
	</div>
	

	<div class="right-side-tools-container">
		<div class="side-tools-container">
	<ul class="hidden-tools-list">
		<li class="right-bottom-tools tool-font-adjust-plus flex justify-center items-center">
			<i class="fa-regular fa-magnifying-glass-plus"></i>
		</li>

		<li class="right-bottom-tools tool-font-adjust-minus flex justify-center items-center">
			<i class="fa-regular fa-magnifying-glass-minus"></i>
		</li>

		<li class="right-bottom-tools tool-dark-light-toggle flex justify-center items-center">
			<i class="fa-regular fa-moon"></i>
		</li>

		<!-- rss -->
		

		

		<li class="right-bottom-tools tool-scroll-to-bottom flex justify-center items-center">
			<i class="fa-regular fa-arrow-down"></i>
		</li>
	</ul>

	<ul class="visible-tools-list">
		<li class="right-bottom-tools toggle-tools-list flex justify-center items-center">
			<i class="fa-regular fa-cog fa-spin"></i>
		</li>
		
		<li class="right-bottom-tools tool-scroll-to-top flex justify-center items-center">
			<i class="arrow-up fas fa-arrow-up"></i>
			<span class="percent"></span>
		</li>
		
		
	</ul>
</div>
	</div>

	<div class="image-viewer-container">
	<img src="">
</div>

	
	<div class="search-pop-overlay">
	<div class="popup search-popup">
		<div class="search-header">
			<span class="search-input-field-pre">
				<i class="fa-solid fa-keyboard"></i>
			</span>
			<div class="search-input-container">
				<input autocomplete="off" autocorrect="off" autocapitalize="off" placeholder="Search..." spellcheck="false" type="search" class="search-input">
			</div>
			<span class="popup-btn-close">
				<i class="fa-solid fa-times"></i>
			</span>
		</div>
		<div id="search-result">
			<div id="no-result">
				<i class="fa-solid fa-spinner fa-spin-pulse fa-5x fa-fw"></i>
			</div>
		</div>
	</div>
</div>
	

</main>



<script src="/zhihaojiang.github.io/js/build/libs/Swup.min.js"></script>

<script src="/zhihaojiang.github.io/js/build/libs/SwupSlideTheme.min.js"></script>

<script src="/zhihaojiang.github.io/js/build/libs/SwupScriptsPlugin.min.js"></script>

<script src="/zhihaojiang.github.io/js/build/libs/SwupProgressPlugin.min.js"></script>

<script src="/zhihaojiang.github.io/js/build/libs/SwupScrollPlugin.min.js"></script>

<script src="/zhihaojiang.github.io/js/build/libs/SwupPreloadPlugin.min.js"></script>

<script>
    const swup = new Swup({
        plugins: [
            new SwupScriptsPlugin({
                optin: true,
            }),
            new SwupProgressPlugin(),
            new SwupScrollPlugin({
                offset: 80,
            }),
            new SwupSlideTheme({
                mainElement: ".main-content-body",
            }),
            new SwupPreloadPlugin(),
        ],
        containers: ["#swup"],
    });
</script>




	
<script src="/zhihaojiang.github.io/js/build/tools/imageViewer.js" type="module"></script>

<script src="/zhihaojiang.github.io/js/build/utils.js" type="module"></script>

<script src="/zhihaojiang.github.io/js/build/main.js" type="module"></script>

<script src="/zhihaojiang.github.io/js/build/layouts/navbarShrink.js" type="module"></script>

<script src="/zhihaojiang.github.io/js/build/tools/scrollTopBottom.js" type="module"></script>

<script src="/zhihaojiang.github.io/js/build/tools/lightDarkSwitch.js" type="module"></script>

<script src="/zhihaojiang.github.io/js/build/layouts/categoryList.js" type="module"></script>



    
<script src="/zhihaojiang.github.io/js/build/tools/localSearch.js" type="module"></script>




    
<script src="/zhihaojiang.github.io/js/build/tools/codeBlock.js" type="module"></script>




    
<script src="/zhihaojiang.github.io/js/build/layouts/lazyload.js" type="module"></script>




    
<script src="/zhihaojiang.github.io/js/build/tools/runtime.js"></script>

    
<script src="/zhihaojiang.github.io/js/build/libs/odometer.min.js"></script>

    
<link rel="stylesheet" href="/zhihaojiang.github.io/assets/odometer-theme-minimal.css">




  
<script src="/zhihaojiang.github.io/js/build/libs/Typed.min.js"></script>

  
<script src="/zhihaojiang.github.io/js/build/plugins/typed.js" type="module"></script>






    
<script src="/zhihaojiang.github.io/js/build/libs/minimasonry.min.js"></script>

    
<script src="/zhihaojiang.github.io/js/build/plugins/masonry.js" type="module"></script>







    
<script src="/zhihaojiang.github.io/js/build/tools/tocToggle.js" type="module" data-swup-reload-script=""></script>

<script src="/zhihaojiang.github.io/js/build/layouts/toc.js" type="module" data-swup-reload-script=""></script>

<script src="/zhihaojiang.github.io/js/build/plugins/tabs.js" type="module" data-swup-reload-script=""></script>




<script src="/zhihaojiang.github.io/js/build/libs/moment-with-locales.min.js" data-swup-reload-script=""></script>


<script src="/zhihaojiang.github.io/js/build/layouts/essays.js" type="module" data-swup-reload-script=""></script>





    
<script src="/zhihaojiang.github.io/js/build/layouts/bookmarkNav.js" type="module"></script>


	
	<div id="aplayer"></div>

<script src="/zhihaojiang.github.io/js/build/libs/APlayer.min.js"></script>


<script src="/zhihaojiang.github.io/js/build/plugins/aplayer.js"></script>


	
</body>

</html>