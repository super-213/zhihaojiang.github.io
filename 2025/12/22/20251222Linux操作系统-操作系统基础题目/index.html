<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="Hexo Theme Redefine">
    
    <meta name="author" content="å§œæ™ºæµ©">
    <!-- preconnect -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    
    <!--- Seo Part-->
    
    <link rel="canonical" href="https://super-213.github.io/zhihaojiang.github.io/2025/12/22/20251222linuxæ“ä½œç³»ç»Ÿ-æ“ä½œç³»ç»ŸåŸºç¡€é¢˜ç›®/"/>
    <meta name="robots" content="index,follow">
    <meta name="googlebot" content="index,follow">
    <meta name="revisit-after" content="1 days">
    
    
    
        
        <meta name="description" content="Hexo Theme Redefine, Redefine Your Hexo Journey.">
<meta property="og:type" content="article">
<meta property="og:title" content="Linuxæ“ä½œç³»ç»Ÿ-æ“ä½œç³»ç»ŸåŸºç¡€é¢˜ç›®">
<meta property="og:url" content="https://super-213.github.io/zhihaojiang.github.io/2025/12/22/20251222Linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80%E9%A2%98%E7%9B%AE/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="Hexo Theme Redefine, Redefine Your Hexo Journey.">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://super-213.github.io/images/redefine-og.webp">
<meta property="article:published_time" content="2025-12-22T03:45:14.000Z">
<meta property="article:modified_time" content="2025-12-23T01:16:44.400Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="è®¡ç®—æœºç§‘å­¦">
<meta property="article:tag" content="æ“ä½œç³»ç»Ÿ">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://super-213.github.io/images/redefine-og.webp">
    
    
    <!--- Icon Part-->
    <link rel="icon" type="image/png" href="/zhihaojiang.github.io/images/redefine-favicon.svg" sizes="192x192">
    <link rel="apple-touch-icon" sizes="180x180" href="/zhihaojiang.github.io/images/redefine-favicon.svg">
    <meta name="theme-color" content="#A31F34">
    <link rel="shortcut icon" href="/zhihaojiang.github.io/images/redefine-favicon.svg">
    <!--- Page Info-->
    
    <title>
        
            Linuxæ“ä½œç³»ç»Ÿ-æ“ä½œç³»ç»ŸåŸºç¡€é¢˜ç›® | æ™ºæµ©çš„Blog
        
    </title>

    
<link rel="stylesheet" href="/zhihaojiang.github.io/fonts/Chillax/chillax.css">


    <!--- Inject Part-->
    

    <!-- è¿™é‡Œæ˜¯ Live2D ä»£ç  -->
    <script src="https://fastly.jsdelivr.net/npm/live2d-widgets@0/autoload.js"></script>

    
<link rel="stylesheet" href="/zhihaojiang.github.io/css/style.css">


    
        
<link rel="stylesheet" href="/zhihaojiang.github.io/css/build/tailwind.css">

    

    
<link rel="stylesheet" href="/zhihaojiang.github.io/fonts/GeistMono/geist-mono.css">

    
<link rel="stylesheet" href="/zhihaojiang.github.io/fonts/Geist/geist.css">

    <!--- Font Part-->
    
    
    
    
    
    
        
<script src="/zhihaojiang.github.io/js/build/libs/anime.min.js"></script>

    

    <script id="hexo-configurations">
    window.config = {"hostname":"super-213.github.io","root":"/zhihaojiang.github.io/","language":"en","path":"search.xml"};
    window.theme = {"articles":{"style":{"font_size":"16px","line_height":1.5,"image_border_radius":"14px","image_alignment":"center","image_caption":false,"link_icon":true,"delete_mask":false,"title_alignment":"left","headings_top_spacing":{"h1":"3.2rem","h2":"2.4rem","h3":"1.9rem","h4":"1.6rem","h5":"1.4rem","h6":"1.3rem"}},"word_count":{"enable":true,"count":true,"min2read":true},"author_label":{"enable":true,"auto":true,"list":["Lv3","Lv6","Lv9"]},"code_block":{"copy":true,"style":"mac","highlight_theme":{"light":"github","dark":"vs2015"},"font":{"enable":false,"family":null,"url":null}},"toc":{"enable":true,"max_depth":3,"number":false,"expand":true,"init_open":true},"copyright":{"enable":true,"default":"cc_by_nc_sa"},"lazyload":true,"pangu_js":false,"recommendation":{"enable":false,"title":"æ¨èé˜…è¯»","limit":3,"mobile_limit":2,"placeholder":"/images/wallhaven-wqery6-light.webp","skip_dirs":[]}},"colors":{"primary":"#A31F34","secondary":null,"default_mode":"light"},"global":{"fonts":{"chinese":{"enable":false,"family":null,"url":null},"english":{"enable":false,"family":null,"url":null},"title":{"enable":false,"family":null,"url":null}},"content_max_width":"1000px","sidebar_width":"210px","hover":{"shadow":true,"scale":true},"scroll_progress":{"bar":false,"percentage":true},"website_counter":{"url":"https://cn.vercount.one/js","enable":true,"site_pv":true,"site_uv":true,"post_pv":true},"single_page":true,"preloader":{"enable":true,"custom_message":null},"open_graph":{"enable":true,"image":"/images/redefine-og.webp","description":"Hexo Theme Redefine, Redefine Your Hexo Journey."},"google_analytics":{"enable":false,"id":null}},"home_banner":{"enable":true,"style":"fixed","image":{"light":"/images/defaults/bear.PNG","dark":"/images/defaults/bear.PNG"},"title":"Enjoy Every Moment","subtitle":{"text":["Have A nice Day"],"hitokoto":{"enable":false,"show_author":false,"api":"https://v1.hitokoto.cn"},"typing_speed":100,"backing_speed":80,"starting_delay":500,"backing_delay":1500,"loop":true,"smart_backspace":true},"text_color":{"light":"#fff","dark":"#d1d1b6"},"text_style":{"title_size":"2.8rem","subtitle_size":"1.5rem","line_height":1.2},"custom_font":{"enable":false,"family":null,"url":null},"social_links":{"enable":true,"style":"default","links":{"github":"https://github.com/super-213","instagram":null,"zhihu":null,"twitter":null,"email":"jiangzhihaojzh@126.com"},"qrs":{"weixin":null}}},"plugins":{"feed":{"enable":false},"aplayer":{"enable":true,"type":"fixed","audios":[{"name":"Something Just Like This","artist":"Coldplay","url":"https://evan.beee.top/music/Something%20Just%20Like%20This%20-%20The%20Chainsmokers%E3%80%81Coldplay.mp3","cover":"https://evan.beee.top/music/covers/Something_Just_Like_This.png"},{"name":"Bird","artist":"Imagine Dragons","url":"/zhihaojiang.github.io/music/mus_url/birds.mp3","cover":"/zhihaojiang.github.io/music/cover/original.png","lrc":"/zhihaojiang.github.io/music/lrc/birds.lrc"},{"name":"Natural","artist":"Imagine Dragons","url":"/zhihaojiang.github.io/music/mus_url/Natural.mp3","cover":"/zhihaojiang.github.io/music/cover/original.png","lrc":"/zhihaojiang.github.io/music/lrc/Natural.lrc"},{"name":"çˆ±ä¸«çˆ±ä¸«","artist":"BY2","url":"/zhihaojiang.github.io/music/mus_url/çˆ±ä¸«çˆ±ä¸«.mp3","cover":"/zhihaojiang.github.io/music/cover/16æœªæˆå¹´.jpeg","lrc":"/zhihaojiang.github.io/music/lrc/çˆ±ä¸«çˆ±ä¸«.lrc"}]},"mermaid":{"enable":false,"version":"11.4.1"},"mathjax":{"tags":"none","single_dollars":true,"cjk_width":0.9,"normal_width":0.6,"append_css":true,"every_page":true}},"version":"2.8.2","navbar":{"auto_hide":false,"color":{"left":"#f78736","right":"#367df7","transparency":35},"width":{"home":"1200px","pages":"1000px"},"links":{"Home":{"path":"/","icon":"fa-regular fa-house"},"Photo":{"icon":"fa-solid fa-image","path":"/masonry/"},"Archives":{"path":"/archives","icon":"fa-regular fa-archive"},"About":{"icon":"fa-regular fa-user","submenus":{"Me":"/about","Portfolio":"/portfolio/","Github":"https://github.com/super-213"}}},"search":{"enable":true,"preload":true}},"page_templates":{"friends_column":2,"tags_style":"blur"},"home":{"sidebar":{"enable":true,"position":"left","first_item":"menu","announcement":null,"show_on_mobile":true,"links":{"Archives":{"path":"/archives","icon":"fa-regular fa-archive"},"Photo":{"icon":"fa-solid fa-image","path":"/masonry/"},"Bookmarks":{"icon":"fa-solid fa-bookmark","path":"/bookmarks/"},"shuoshuo":{"icon":"fa-solid fa-bookmark","path":"/essays/"},"Tags":{"icon":"fa-solid fa-tags","path":"/tags/"},"Categories":{"icon":"fa-solid fa-folder","path":"/categories/"}}},"article_date_format":"auto","excerpt_length":200,"categories":{"enable":true,"limit":3},"tags":{"enable":true,"limit":3}},"footerStart":"2022/8/17 11:45:14"};
    window.lang_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
    window.data = {"masonry":true};
  </script>
    
    <!--- Fontawesome Part-->
    
<link rel="stylesheet" href="/zhihaojiang.github.io/fontawesome/fontawesome.min.css">

    
<link rel="stylesheet" href="/zhihaojiang.github.io/fontawesome/brands.min.css">

    
<link rel="stylesheet" href="/zhihaojiang.github.io/fontawesome/solid.min.css">

    
<link rel="stylesheet" href="/zhihaojiang.github.io/fontawesome/regular.min.css">

    
    
    
    
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head>



<body>
	<div class="progress-bar-container">
	

	
	<span class="pjax-progress-bar"></span>
	<!--        <span class="swup-progress-icon">-->
	<!--            <i class="fa-solid fa-circle-notch fa-spin"></i>-->
	<!--        </span>-->
	
</div>

<style>
    :root {
        --preloader-background-color: #fff;
        --preloader-text-color: #000;
    }

    @media (prefers-color-scheme: dark) {
        :root {
            --preloader-background-color: #202124;
            --preloader-text-color: #fff;
        }
    }

    @media (prefers-color-scheme: light) {
        :root {
            --preloader-background-color: #fff;
            --preloader-text-color: #000;
        }
    }

    @media (max-width: 600px) {
        .ml13 {
            font-size: 2.6rem !important; /* Adjust this value as needed */
        }
    }

    .preloader {
        display: flex;
        flex-direction: column;
        gap: 1rem; /* Tailwind 'gap-4' is 1rem */
        align-items: center;
        justify-content: center;
        position: fixed;
        padding: 12px;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        width: 100vw;
        height: 100vh; /* 'h-screen' is 100% of the viewport height */
        background-color: var(--preloader-background-color);
        z-index: 1100; /* 'z-[1100]' sets the z-index */
        transition: opacity 0.2s ease-in-out;
    }

    .ml13 {
        font-size: 3.2rem;
        /* text-transform: uppercase; */
        color: var(--preloader-text-color);
        letter-spacing: -1px;
        font-weight: 500;
        font-family: 'Chillax-Variable', sans-serif;
        text-align: center;
    }

    .ml13 .word {
        display: inline-flex;
        flex-wrap: wrap;
        white-space: nowrap;
    }

    .ml13 .letter {
        display: inline-block;
        line-height: 1em;
    }
</style>

<div class="preloader">
    <h2 class="ml13">
        æ™ºæµ©çš„Blog
    </h2>
    <script>
        var textWrapper = document.querySelector('.ml13');
        // Split text into words
        var words = textWrapper.textContent.trim().split(' ');

        // Clear the existing content
        textWrapper.innerHTML = '';

        // Wrap each word and its letters in spans
        words.forEach(function(word) {
            var wordSpan = document.createElement('span');
            wordSpan.classList.add('word');
            wordSpan.innerHTML = word.replace(/\S/g, "<span class='letter'>$&</span>");
            textWrapper.appendChild(wordSpan);
            textWrapper.appendChild(document.createTextNode(' ')); // Add space between words
        });

        var animation = anime.timeline({ loop: true })
            .add({
                targets: '.ml13 .letter',
                translateY: [20, 0],
                translateZ: 0,
                opacity: [0, 1],
                filter: ['blur(5px)', 'blur(0px)'],
                easing: "easeOutExpo",
                duration: 1200,
                delay: (el, i) => 300 + 20 * i,
            })
            .add({
                targets: '.ml13 .letter',
                translateY: [0, -20],
                opacity: [1, 0],
                filter: ['blur(0px)', 'blur(5px)'],
                easing: "easeInExpo",
                duration: 1000,
                delay: (el, i) => 15 * i,
                complete: function() {
                    hidePreloader();
                }
            }, '-=700');


        let themeStatus = JSON.parse(localStorage.getItem('REDEFINE-THEME-STATUS'))?.isDark;

        // If the theme status is not found in local storage, check the preferred color scheme
        if (themeStatus === undefined || themeStatus === null) {
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                themeStatus = 'dark';
            } else {
                themeStatus = 'light';
            }
        }

        // Now you can use the themeStatus variable in your code
        if (themeStatus) {
            document.documentElement.style.setProperty('--preloader-background-color', '#202124');
            document.documentElement.style.setProperty('--preloader-text-color', '#fff');
        } else {
            document.documentElement.style.setProperty('--preloader-background-color', '#fff');
            document.documentElement.style.setProperty('--preloader-text-color', '#000');
        }

        window.addEventListener('load', function () {
            setTimeout(hidePreloader, 5000); // Call hidePreloader after 5000 milliseconds if not already called by animation
        });

        function hidePreloader() {
            var preloader = document.querySelector('.preloader');
            preloader.style.opacity = '0';
            setTimeout(function () {
                preloader.style.display = 'none';
            }, 200);
        }
    </script>
</div>

<main class="page-container" id="swup">

	

	<div class="main-content-container flex flex-col justify-between min-h-dvh">
		<div class="main-content-header">
			<header class="navbar-container px-6 md:px-12">
    <div class="navbar-content transition-navbar ">
        <div class="left">
            
            <a class="logo-title" href="/zhihaojiang.github.io/">
                
                æ™ºæµ©çš„Blog
                
            </a>
        </div>

        <div class="right">
            <!-- PC -->
            <div class="desktop">
                <ul class="navbar-list">
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/zhihaojiang.github.io/"
                                        >
                                    <i class="fa-regular fa-house fa-fw"></i>
                                    HOME
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/zhihaojiang.github.io/masonry/"
                                        >
                                    <i class="fa-solid fa-image fa-fw"></i>
                                    PHOTO
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/zhihaojiang.github.io/archives"
                                        >
                                    <i class="fa-regular fa-archive fa-fw"></i>
                                    ARCHIVES
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class="has-dropdown"
                                   href="#"
                                        onClick=&#34;return false;&#34;>
                                    <i class="fa-regular fa-user fa-fw"></i>
                                    ABOUT
                                    <i class="fa-solid fa-chevron-down fa-fw"></i>
                                </a>

                                <!-- Submenu -->
                                
                                    <ul class="sub-menu">
                                        
                                            <li>
                                                <a href="/zhihaojiang.github.io/about">
                                                    ME
                                                </a>
                                            </li>
                                        
                                            <li>
                                                <a href="/zhihaojiang.github.io/portfolio/">
                                                    PORTFOLIO
                                                </a>
                                            </li>
                                        
                                            <li>
                                                <a target="_blank" rel="noopener" href="https://github.com/super-213">
                                                    GITHUB
                                                </a>
                                            </li>
                                        
                                    </ul>
                                
                            </li>
                    
                    
                        <li class="navbar-item search search-popup-trigger">
                            <i class="fa-solid fa-magnifying-glass"></i>
                        </li>
                    
                </ul>
            </div>
            <!-- Mobile -->
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fa-solid fa-magnifying-glass"></i>
                    </div>
                
                <div class="icon-item navbar-bar">
                    <div class="navbar-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile sheet -->
    <div class="navbar-drawer h-dvh w-full absolute top-0 left-0 bg-background-color flex flex-col justify-between">
        <ul class="drawer-navbar-list flex flex-col px-4 justify-center items-start">
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/zhihaojiang.github.io/"
                        >
                            <span>
                                HOME
                            </span>
                            
                                <i class="fa-regular fa-house fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/zhihaojiang.github.io/masonry/"
                        >
                            <span>
                                PHOTO
                            </span>
                            
                                <i class="fa-solid fa-image fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/zhihaojiang.github.io/archives"
                        >
                            <span>
                                ARCHIVES
                            </span>
                            
                                <i class="fa-regular fa-archive fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item-sub text-base my-1.5 flex flex-col w-full">
                        
                        <div class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary cursor-pointer text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                             navbar-data-toggle="submenu-About"
                        >
                            <span>
                                ABOUT
                            </span>
                            
                                <i class="fa-solid fa-chevron-right fa-sm fa-fw transition-all"></i>
                            
                        </div>
                        

                        
                            <div class="flex-col items-start px-2 py-2 hidden" data-target="submenu-About">
                                
                                    <div class="drawer-navbar-item text-base flex flex-col justify-center items-start hover:underline active:underline hover:underline-offset-1 rounded-3xl">
                                        <a class=" text-third-text-color text-xl"
                                           href="/zhihaojiang.github.io/about">ME</a>
                                    </div>
                                
                                    <div class="drawer-navbar-item text-base flex flex-col justify-center items-start hover:underline active:underline hover:underline-offset-1 rounded-3xl">
                                        <a class=" text-third-text-color text-xl"
                                           href="/zhihaojiang.github.io/portfolio/">PORTFOLIO</a>
                                    </div>
                                
                                    <div class="drawer-navbar-item text-base flex flex-col justify-center items-start hover:underline active:underline hover:underline-offset-1 rounded-3xl">
                                        <a class=" text-third-text-color text-xl"
                                           target="_blank" rel="noopener" href="https://github.com/super-213">GITHUB</a>
                                    </div>
                                
                            </div>
                        
                    </li>
            

            
            
                
                    
                    
                    
                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full active"
                           href="/zhihaojiang.github.io/bookmarks/"
                        >
                            <span>Bookmarks</span>
                            <i class="fa-solid fa-bookmark fa-sm fa-fw"></i>
                        </a>
                    </li>
                
                    
                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full active"
                           href="/zhihaojiang.github.io/essays/"
                        >
                            <span>Shuoshuo</span>
                            <i class="fa-solid fa-bookmark fa-sm fa-fw"></i>
                        </a>
                    </li>
                
                    
                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full active"
                           href="/zhihaojiang.github.io/tags/"
                        >
                            <span>Tags</span>
                            <i class="fa-solid fa-tags fa-sm fa-fw"></i>
                        </a>
                    </li>
                
                    
                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full active"
                           href="/zhihaojiang.github.io/categories/"
                        >
                            <span>Categories</span>
                            <i class="fa-solid fa-folder fa-sm fa-fw"></i>
                        </a>
                    </li>
                
            
        </ul>

        <div class="statistics flex justify-around my-2.5">
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/zhihaojiang.github.io/tags">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">24</div>
        <div class="label text-third-text-color text-sm">Tags</div>
    </a>
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/zhihaojiang.github.io/categories">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">6</div>
        <div class="label text-third-text-color text-sm">Categories</div>
    </a>
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/zhihaojiang.github.io/archives">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">83</div>
        <div class="label text-third-text-color text-sm">Posts</div>
    </a>
</div>
    </div>

    <div class="window-mask"></div>

</header>


		</div>

		<div class="main-content-body transition-fade-up">
			

			<div class="main-content">
				<div class="post-page-container flex relative justify-between box-border w-full h-full">
	<div class="article-content-container">

		<div class="article-title relative w-full">
			
			<div class="w-full flex items-center pt-6 justify-start">
				<h1 class="article-title-regular text-second-text-color tracking-tight text-4xl md:text-6xl font-semibold px-2 sm:px-6 md:px-8 py-3">Linuxæ“ä½œç³»ç»Ÿ-æ“ä½œç³»ç»ŸåŸºç¡€é¢˜ç›®</h1>
			</div>
			
		</div>

		
		<div class="article-header flex flex-row gap-2 items-center px-2 sm:px-6 md:px-8">
			<div class="avatar w-[46px] h-[46px] flex-shrink-0 rounded-medium border border-border-color p-[1px]">
				<img src="/zhihaojiang.github.io/images/defaults/IMG_3744.JPG">
			</div>
			<div class="info flex flex-col justify-between">
				<div class="author flex items-center">
					<span class="name text-default-text-color text-lg font-semibold">å§œæ™ºæµ©</span>
					
					<span class="author-label ml-1.5 text-xs px-2 py-0.5 rounded-small text-third-text-color border border-shadow-color-1">Lv5</span>
					
				</div>
				<div class="meta-info">
					<div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fa-regular fa-pen-fancy"></i>&nbsp;
        <span class="desktop">2025-12-22 11:45:14</span>
        <span class="mobile">2025-12-22 11:45:14</span>
        <span class="hover-info">Created</span>
    </span>
    
        <span class="article-date article-meta-item">
            <i class="fa-regular fa-wrench"></i>&nbsp;
            <span class="desktop">2025-12-23 09:16:44</span>
            <span class="mobile">2025-12-23 09:16:44</span>
            <span class="hover-info">Updated</span>
        </span>
    

    
        <span class="article-categories article-meta-item">
            <i class="fa-regular fa-folders"></i>&nbsp;
            <ul>
                
                
                    
                        
                        <li>
                            <a href="/zhihaojiang.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">å­¦ä¹ ç¬”è®°</a>&nbsp;
                        </li>
                    
                    
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fa-regular fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/zhihaojiang.github.io/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/">è®¡ç®—æœºç§‘å­¦</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/zhihaojiang.github.io/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">æ“ä½œç³»ç»Ÿ</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
        <span class="article-wordcount article-meta-item">
            <i class="fa-regular fa-typewriter"></i>&nbsp;<span>25.6k Words</span>
        </span>
    
    
        <span class="article-min2read article-meta-item">
            <i class="fa-regular fa-clock"></i>&nbsp;<span>94 Mins</span>
        </span>
    
    
        <span class="article-pv article-meta-item">
            <i class="fa-regular fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

				</div>
			</div>
		</div>
		

		


		<div class="article-content markdown-body px-2 sm:px-6 md:px-8 pb-8">
			<h1 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>ä»¥ä¸‹æœ‰å…³æ“ä½œç³»ç»Ÿçš„å™è¿°ä¸­ï¼Œå“ªä¸€ä¸ªæ˜¯ä¸æ­£ç¡®çš„ï¼Ÿ<br>A. æ“ä½œç³»ç»Ÿç®¡ç†ç³»ç»Ÿä¸­çš„å„ç§èµ„æº<br>B. æ“ä½œç³»ç»Ÿä¸ºç”¨æˆ·æä¾›çš„è‰¯å¥½çš„ç•Œé¢<br>C. æ“ä½œç³»ç»Ÿå°±æ˜¯èµ„æºçš„ç®¡ç†è€…å’Œä»²è£è€…<br>D. æ“ä½œç³»ç»Ÿæ˜¯è®¡ç®—æœºç³»ç»Ÿä¸­çš„ä¸€ä¸ªåº”ç”¨è½¯ä»¶</p>
<h2 id="è§£æ"><a href="#è§£æ" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>ç­”æ¡ˆï¼šD. æ“ä½œç³»ç»Ÿæ˜¯è®¡ç®—æœºç³»ç»Ÿä¸­çš„ä¸€ä¸ªåº”ç”¨è½¯ä»¶</p>
<p>é€é¡¹åˆ†æï¼š</p>
<p>A. æ“ä½œç³»ç»Ÿç®¡ç†ç³»ç»Ÿä¸­çš„å„ç§èµ„æº<br>âœ… æ­£ç¡®ã€‚<br>æ“ä½œç³»ç»Ÿçš„æ ¸å¿ƒåŠŸèƒ½ä¹‹ä¸€å°±æ˜¯èµ„æºç®¡ç†ï¼ŒåŒ…æ‹¬ï¼š</p>
<p>å¤„ç†å™¨ï¼ˆCPU è°ƒåº¦ï¼‰<br>å†…å­˜ï¼ˆåˆ†é…ã€è™šæ‹Ÿå†…å­˜ï¼‰<br>å¤–è®¾ï¼ˆI&#x2F;O ç®¡ç†ã€è®¾å¤‡é©±åŠ¨ï¼‰<br>æ–‡ä»¶ä¸å­˜å‚¨ï¼ˆæ–‡ä»¶ç³»ç»Ÿï¼‰<br>â†’ æ˜¯æ“ä½œç³»ç»Ÿçš„åŸºæœ¬èŒè´£ã€‚<br>B. æ“ä½œç³»ç»Ÿä¸ºç”¨æˆ·æä¾›è‰¯å¥½çš„ç•Œé¢<br>âœ… æ­£ç¡®ã€‚<br>æ— è®ºæ˜¯å‘½ä»¤è¡Œç•Œé¢ï¼ˆCLIï¼Œå¦‚ bashï¼‰è¿˜æ˜¯å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼ˆGUIï¼Œå¦‚ GNOMEã€KDEï¼‰ï¼Œéƒ½æ˜¯æ“ä½œç³»ç»Ÿæä¾›çš„äººæœºäº¤äº’æ¥å£ï¼Œå±äºå…¶æœåŠ¡åŠŸèƒ½ä¹‹ä¸€ã€‚</p>
<p>C. æ“ä½œç³»ç»Ÿå°±æ˜¯èµ„æºçš„ç®¡ç†è€…å’Œä»²è£è€…<br>âœ… æ­£ç¡®ã€‚<br>â€œç®¡ç†è€…â€æŒ‡åˆ†é…èµ„æºï¼Œâ€œä»²è£è€…â€æŒ‡åœ¨å¤šä¸ªè¿›ç¨‹&#x2F;ç”¨æˆ·ç«äº‰èµ„æºæ—¶è¿›è¡Œåè°ƒï¼ˆå¦‚é¿å…æ­»é”ã€å…¬å¹³è°ƒåº¦ï¼‰ï¼Œè¿™æ˜¯å¯¹æ“ä½œç³»ç»Ÿè§’è‰²çš„ç»å…¸å®šä¹‰ï¼ˆå‚è§ Dijkstraã€Tanenbaum ç­‰æ•™æï¼‰ã€‚</p>
<p>D. æ“ä½œç³»ç»Ÿæ˜¯è®¡ç®—æœºç³»ç»Ÿä¸­çš„ä¸€ä¸ªåº”ç”¨è½¯ä»¶<br>âŒ é”™è¯¯â€”â€”è¿™æ˜¯æœ¬é¢˜çš„ç­”æ¡ˆã€‚</p>
<p>æ“ä½œç³»ç»Ÿå±äºç³»ç»Ÿè½¯ä»¶ï¼ˆsystem softwareï¼‰ï¼Œæ˜¯æœ€åº•å±‚ã€æœ€åŸºç¡€çš„è½¯ä»¶å±‚ï¼Œç›´æ¥è¿è¡Œåœ¨ç¡¬ä»¶ä¹‹ä¸Šï¼ˆæˆ– hypervisor ä¹‹ä¸Šï¼‰ã€‚<br>åº”ç”¨è½¯ä»¶ï¼ˆå¦‚æµè§ˆå™¨ã€æ–‡æœ¬ç¼–è¾‘å™¨ã€æ¸¸æˆï¼‰æ˜¯è¿è¡Œåœ¨æ“ä½œç³»ç»Ÿä¹‹ä¸Šçš„ï¼Œä¾èµ– OS æä¾›çš„æœåŠ¡ï¼ˆå¦‚ open, malloc, forkï¼‰ã€‚<br>è‹¥ OS æ˜¯â€œåº”ç”¨è½¯ä»¶â€ï¼Œåˆ™å®ƒæ— æ³•ç®¡ç†ç¡¬ä»¶æˆ–ä¸ºå…¶ä»–è½¯ä»¶æä¾›è¿è¡Œç¯å¢ƒï¼Œé€»è¾‘çŸ›ç›¾ã€‚<br>ğŸ“Œ ç±»æ¯”ï¼š<br>ç¡¬ä»¶ â†’ æ“ä½œç³»ç»Ÿï¼ˆåœ°åŸº + å»ºç­‘æ¡†æ¶ï¼‰ â†’ ç³»ç»Ÿå·¥å…·ï¼ˆæ°´ç”µç®¡é“ï¼‰ â†’ åº”ç”¨è½¯ä»¶ï¼ˆæˆ¿é—´é‡Œçš„å®¶å…·ç”µå™¨ï¼‰<br>æ˜¾ç„¶ï¼Œåœ°åŸºä¸æ˜¯å®¶å…·ã€‚</p>
<p>ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š<br>æœ¬é¢˜è€ƒå¯Ÿ æ“ä½œç³»ç»Ÿçš„æœ¬è´¨å±æ€§ä¸åˆ†ç±»ï¼Œé‡ç‚¹åœ¨äºï¼š</p>
<p>åŒºåˆ† ç³»ç»Ÿè½¯ä»¶ vs åº”ç”¨è½¯ä»¶<br>æŒæ¡æ“ä½œç³»ç»Ÿçš„æ ¸å¿ƒè§’è‰²ï¼šèµ„æºç®¡ç†è€…ã€æœåŠ¡æä¾›è€…ã€ç¡¬ä»¶æŠ½è±¡å±‚<br>ç†è§£æ“ä½œç³»ç»Ÿåœ¨è½¯ä»¶å±‚æ¬¡ä¸­çš„åº•å±‚åœ°ä½<br>å¸¸è§å¹²æ‰°é¡¹é™·é˜±ï¼šå°†â€œç”¨æˆ·å¯è§â€ï¼ˆå¦‚æ¡Œé¢ç¯å¢ƒï¼‰è¯¯è§£ä¸ºâ€œåº”ç”¨è½¯ä»¶â€ï¼Œä½† GUI æœ¬èº«ä»æ˜¯ OS çš„ä¸€éƒ¨åˆ†ï¼ˆæˆ–ç´§å¯†é›†æˆç»„ä»¶ï¼‰ã€‚</p>
<h1 id="é¢˜ç›®-1"><a href="#é¢˜ç›®-1" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>åˆ†æ—¶æ“ä½œç³»ç»Ÿçš„ä¸»è¦ç‰¹ç‚¹æ˜¯ ã€‚<br>A. ä¸ªäººç‹¬å æœºå™¨èµ„æº B. è‡ªåŠ¨æ§åˆ¶ä½œä¸šè¿è¡Œ<br>C. é«˜å¯é æ€§å’Œå®‰å…¨æ€§ D. å¤šä¸ªç”¨æˆ·å…±äº«è®¡ç®—æœºèµ„æº</p>
<h2 id="è§£æ-1"><a href="#è§£æ-1" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>ç­”æ¡ˆï¼šD. å¤šä¸ªç”¨æˆ·å…±äº«è®¡ç®—æœºèµ„æº</p>
<p>âœ… è§£æï¼š<br>åˆ†æ—¶æ“ä½œç³»ç»Ÿï¼ˆTime-Sharing Operating Systemï¼‰çš„æ ¸å¿ƒæ€æƒ³ï¼š<br>é€šè¿‡ æ—¶é—´ç‰‡è½®è½¬ï¼ˆtime-slicingï¼‰ï¼Œä½¿å¤šä¸ªç”¨æˆ·ï¼ˆæˆ–ç»ˆç«¯ï¼‰åŒæ—¶äº¤äº’å¼åœ°ä½¿ç”¨åŒä¸€å°è®¡ç®—æœºï¼Œæ¯ä¸ªç”¨æˆ·æ„Ÿè§‰è‡ªå·±â€œç‹¬å â€æœºå™¨ï¼Œå®åˆ™ CPU æ—¶é—´è¢«å¿«é€Ÿè½®æµåˆ†é…ã€‚</p>
<p>âœ”ï¸ å…³é”®ç‰¹å¾åŒ…æ‹¬ï¼š</p>
<p>å¤šç”¨æˆ·ï¼ˆMulti-userï¼‰ï¼šå¤šä¸ªç”¨æˆ·é€šè¿‡ç»ˆç«¯å¹¶å‘ç™»å½•ä½¿ç”¨ç³»ç»Ÿï¼ˆå¦‚æ—©æœŸçš„ UNIXã€ç°ä»£ Linux çš„å¤šç»ˆç«¯ç™»å½•ï¼‰<br>äº¤äº’æ€§ï¼ˆInteractiveï¼‰ï¼šç”¨æˆ·å¯å®æ—¶è¾“å…¥å‘½ä»¤å¹¶è·å¾—å“åº”<br>ç‹¬ç«‹æ€§ï¼ˆIndependenceï¼‰ï¼šå„ç”¨æˆ·ä»»åŠ¡å½¼æ­¤éš”ç¦»ï¼Œäº’ä¸å¹²æ‰°<br>åŠæ—¶æ€§ï¼ˆTimelinessï¼‰ï¼šå“åº”æ—¶é—´è¾ƒçŸ­ï¼ˆé€šå¸¸åœ¨ç§’çº§å†…ï¼‰ï¼Œæ»¡è¶³äº¤äº’éœ€æ±‚<br>â†’ æ‰€æœ‰è¿™äº›éƒ½å»ºç«‹åœ¨ â€œå¤šä¸ªç”¨æˆ·å…±äº«è®¡ç®—æœºèµ„æºï¼ˆCPUã€å†…å­˜ã€I&#x2F;O ç­‰ï¼‰â€ çš„åŸºç¡€ä¸Šã€‚</p>
<p>âŒ å…¶ä»–é€‰é¡¹åˆ†æï¼š<br>A. ä¸ªäººç‹¬å æœºå™¨èµ„æº<br>â†’ æè¿°çš„æ˜¯å•é“æ‰¹å¤„ç†ç³»ç»Ÿæˆ–ä¸“ç”¨ç³»ç»Ÿï¼Œä¸åˆ†æ—¶ç³»ç»Ÿâ€œå…±äº«â€æœ¬è´¨ç›¸æ‚–ã€‚<br>âœ–ï¸ é”™è¯¯</p>
<p>B. è‡ªåŠ¨æ§åˆ¶ä½œä¸šè¿è¡Œ<br>â†’ æè¿°çš„æ˜¯æ‰¹å¤„ç†ç³»ç»Ÿï¼ˆå¦‚æ—©æœŸ IBM OS&#x2F;360 çš„ JCL ä½œä¸šæµï¼‰ï¼Œç”¨æˆ·æäº¤ä½œä¸šåä¸å¹²é¢„ï¼Œç”±ç³»ç»Ÿè‡ªåŠ¨è°ƒåº¦æ‰§è¡Œã€‚åˆ†æ—¶ç³»ç»Ÿå¼ºè°ƒäº¤äº’ï¼Œè€Œéâ€œè‡ªåŠ¨æ‰¹å¤„ç†â€ã€‚<br>âœ–ï¸ é”™è¯¯</p>
<p>C. é«˜å¯é æ€§å’Œå®‰å…¨æ€§<br>â†’ è¿™æ˜¯å®æ—¶æ“ä½œç³»ç»Ÿï¼ˆRTOSï¼‰ï¼ˆå°¤å…¶ç¡¬å®æ—¶ï¼‰æˆ–åˆ†å¸ƒå¼&#x2F;å®‰å…¨æ“ä½œç³»ç»Ÿçš„çªå‡ºè¦æ±‚ï¼Œä¸æ˜¯åˆ†æ—¶ç³»ç»Ÿçš„å®šä¹‰æ€§ç‰¹å¾ã€‚<br>è™½ç„¶ç°ä»£åˆ†æ—¶ç³»ç»Ÿï¼ˆå¦‚ Linuxï¼‰ä¹Ÿè¿½æ±‚é«˜å¯é ä¸å®‰å…¨ï¼Œä½†å®ƒä»¬å¹¶éåˆ†æ—¶æ¦‚å¿µçš„â€œä¸»è¦ç‰¹ç‚¹â€ã€‚<br>âœ–ï¸ éæ ¸å¿ƒç‰¹å¾ï¼Œä¸é€‰</p>
<p>ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š<br>æœ¬é¢˜è€ƒå¯Ÿ ä¸åŒç±»å‹æ“ä½œç³»ç»Ÿï¼ˆæ‰¹å¤„ç†ã€åˆ†æ—¶ã€å®æ—¶ï¼‰çš„æ ¸å¿ƒç‰¹å¾è¾¨æã€‚</p>
<p>ç³»ç»Ÿç±»å‹<br>æ ¸å¿ƒç›®æ ‡<br>ä¸»è¦ç‰¹ç‚¹<br>æ‰¹å¤„ç†ç³»ç»Ÿ<br>æé«˜èµ„æºåˆ©ç”¨ç‡<br>è‡ªåŠ¨åŒ–ã€è„±æœºã€éäº¤äº’<br>åˆ†æ—¶ç³»ç»Ÿ<br>æé«˜äº¤äº’æ€§ä¸å“åº”æ€§<br>å¤šç”¨æˆ·ã€å…±äº«èµ„æºã€æ—¶é—´ç‰‡è½®è½¬<br>å®æ—¶ç³»ç»Ÿ<br>æ»¡è¶³æˆªæ­¢æ—¶é—´<br>å¯é¢„æµ‹æ€§ã€é«˜å¯é æ€§ã€ä½å»¶è¿Ÿ<br>ğŸ‘‰ è®°ä½å…³é”®è¯ï¼š<br>åˆ†æ—¶ &#x3D; å¤šç”¨æˆ· + å…±äº« + äº¤äº’ + æ—¶é—´ç‰‡</p>
<h1 id="é¢˜ç›®-2"><a href="#é¢˜ç›®-2" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>ç”¨æˆ·ä¸æ“ä½œç³»ç»Ÿæ‰“äº¤é“çš„æ‰‹æ®µç§°ä¸º ã€‚<br>A. å‘½ä»¤è¾“å…¥ B. å¹¿ä¹‰æŒ‡ä»¤ C. é€šä¿¡ D. ç”¨æˆ·æ¥å£</p>
<h2 id="è§£æ-2"><a href="#è§£æ-2" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>ç­”æ¡ˆï¼šD. ç”¨æˆ·æ¥å£</p>
<p>âœ… è§£æï¼š<br>é¢˜ç›®é—®çš„æ˜¯ï¼šç”¨æˆ·ä¸æ“ä½œç³»ç»Ÿæ‰“äº¤é“çš„æ‰‹æ®µçš„ç»Ÿç§°ã€‚</p>
<p>âœ”ï¸ D. ç”¨æˆ·æ¥å£ï¼ˆUser Interface, UIï¼‰<br>è¿™æ˜¯æ ‡å‡†æœ¯è¯­ï¼ŒæŒ‡æ“ä½œç³»ç»Ÿæä¾›ç»™ç”¨æˆ·ä¸å…¶äº¤äº’çš„æ‰€æœ‰æ–¹å¼çš„æ€»ç§°ï¼ŒåŒ…æ‹¬ï¼š</p>
<p>å‘½ä»¤è¡Œæ¥å£ï¼ˆCLIï¼‰ï¼šå¦‚ bashã€zshï¼Œç”¨æˆ·è¾“å…¥å‘½ä»¤ï¼ˆå¦‚ ls, cdï¼‰<br>å›¾å½¢ç”¨æˆ·æ¥å£ï¼ˆGUIï¼‰ï¼šå¦‚ GNOMEã€KDEã€Windows æ¡Œé¢ï¼Œé€šè¿‡çª—å£ã€å›¾æ ‡ã€èœå•æ“ä½œ<br>ç¨‹åºæ¥å£ï¼ˆAPIï¼‰ï¼šåº”ç”¨ç¨‹åºé€šè¿‡ç³»ç»Ÿè°ƒç”¨ï¼ˆå¦‚ open(), fork()ï¼‰ä¸ OS äº¤äº’ï¼ˆå¹¿ä¹‰ä¸Šï¼Œç¨‹åºå‘˜ä¹Ÿæ˜¯â€œç”¨æˆ·â€ï¼‰<br>ä½œä¸šæ§åˆ¶è¯­è¨€ï¼ˆJCLï¼‰ï¼šåœ¨æ‰¹å¤„ç†ç³»ç»Ÿä¸­æäº¤ä½œä¸šè„šæœ¬<br>å› æ­¤ï¼Œâ€œç”¨æˆ·æ¥å£â€æ˜¯æœ€å‡†ç¡®ã€æœ€å…¨é¢çš„æœ¯è¯­ã€‚</p>
<p>âŒ å…¶ä»–é€‰é¡¹åˆ†æï¼š<br>A. å‘½ä»¤è¾“å…¥<br>â†’ ä»…æè¿° CLI ä¸­çš„ä¸€ç§æ“ä½œè¡Œä¸ºï¼Œç‰‡é¢ã€‚ä¸èƒ½æ¶µç›– GUIï¼ˆå¦‚ç‚¹å‡»å›¾æ ‡ï¼‰ã€API è°ƒç”¨ç­‰ã€‚<br>âœ–ï¸ èŒƒå›´è¿‡çª„</p>
<p>B. å¹¿ä¹‰æŒ‡ä»¤<br>â†’ éæ ‡å‡†æœ¯è¯­ã€‚æŸäº›æ•™æå¯èƒ½ç”¨â€œå¹¿ä¹‰æŒ‡ä»¤â€æŒ‡ä»£â€œç³»ç»Ÿè°ƒç”¨ + è®¿ç®¡æŒ‡ä»¤â€ï¼Œä½†ä¸ç”¨äºæè¿°ç”¨æˆ·äº¤äº’æ‰‹æ®µçš„æ•´ä½“æ¦‚å¿µï¼›ä¸”æ™®é€šç”¨æˆ·ä¸æ¥è§¦â€œæŒ‡ä»¤â€è¿™ä¸€åº•å±‚æ¦‚å¿µã€‚<br>âœ–ï¸ æœ¯è¯­ä¸è§„èŒƒï¼Œæ˜“æ··æ·†</p>
<p>C. é€šä¿¡<br>â†’ å¤ªå®½æ³›ã€‚è¿›ç¨‹é—´é€šä¿¡ï¼ˆIPCï¼‰ã€ç½‘ç»œé€šä¿¡éƒ½å«â€œé€šä¿¡â€ï¼Œä½†é¢˜ç›®ç‰¹æŒ‡ç”¨æˆ· â†” æ“ä½œç³»ç»Ÿçš„äº¤äº’æ‰‹æ®µã€‚<br>âœ–ï¸ ä¸ç²¾ç¡®</p>
<p>ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š<br>æœ¬é¢˜è€ƒå¯Ÿ æ“ä½œç³»ç»ŸåŸºæœ¬æ¦‚å¿µä¸­çš„â€œç”¨æˆ·æ¥å£â€å®šä¹‰ï¼Œå±äºåŸºç¡€è¯†è®°ç±»é¢˜ç›®ã€‚</p>
<p>ğŸ“Œ å…³é”®è®°å¿†ç‚¹ï¼š</p>
<p>æ“ä½œç³»ç»Ÿä¸ºç”¨æˆ·æä¾›çš„äº¤äº’æœºåˆ¶ç»Ÿç§°ä¸º ç”¨æˆ·æ¥å£ï¼ˆUser Interfaceï¼‰ï¼Œæ˜¯äººæœºäº¤äº’çš„æ¡¥æ¢ã€‚</p>
<p>ç°ä»£æ“ä½œç³»ç»Ÿé€šå¸¸æä¾›å¤šç§ç”¨æˆ·æ¥å£ä»¥é€‚åº”ä¸åŒç”¨æˆ·éœ€æ±‚ï¼š</p>
<p>ç»ˆç«¯ç”¨æˆ· â†’ GUI &#x2F; CLI<br>ç¨‹åºå‘˜ â†’ APIï¼ˆç³»ç»Ÿè°ƒç”¨æ¥å£ï¼‰<br>ç³»ç»Ÿç®¡ç†å‘˜ â†’ CLI + é…ç½®å·¥å…·</p>
<h1 id="é¢˜ç›®-3"><a href="#é¢˜ç›®-3" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>ä»ç”¨æˆ·çš„è§‚ç‚¹çœ‹ï¼Œæ“ä½œç³»ç»Ÿæ˜¯ ã€‚<br>A. ç”¨æˆ·ä¸è®¡ç®—æœºä¹‹é—´çš„æ¥å£ B. æ§åˆ¶å’Œç®¡ç†è®¡ç®—æœºèµ„æºçš„è½¯ä»¶<br>C. åˆç†åœ°ç»„ç»‡è®¡ç®—æœºå·¥ä½œæµç¨‹çš„è½¯ä»¶ D. ç”±è‹¥å¹²å±‚æ¬¡çš„ç¨‹åºæŒ‰ä¸€å®šçš„ç»“æ„ç»„æˆçš„æœ‰æœºä½“</p>
<h2 id="è§£æ-3"><a href="#è§£æ-3" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>ç­”æ¡ˆï¼šA. ç”¨æˆ·ä¸è®¡ç®—æœºä¹‹é—´çš„æ¥å£</p>
<p>âœ… è§£æï¼š<br>é¢˜å¹²å…³é”®è¯ï¼šâ€œä»ç”¨æˆ·çš„è§‚ç‚¹çœ‹â€<br>â†’ å¼ºè°ƒç”¨æˆ·è§†è§’ï¼ˆuserâ€™s perspectiveï¼‰ï¼Œè€Œéè®¾è®¡è€…ã€å¼€å‘è€…æˆ–ç³»ç»Ÿå†…éƒ¨è§†è§’ã€‚</p>
<p>âœ”ï¸ A. ç”¨æˆ·ä¸è®¡ç®—æœºä¹‹é—´çš„æ¥å£<br>âœ… å®Œå…¨åŒ¹é…ç”¨æˆ·è§†è§’ã€‚<br>å¯¹æ™®é€šç”¨æˆ·è€Œè¨€ï¼Œæ“ä½œç³»ç»Ÿå°±æ˜¯ä»–ä»¬æ“ä½œè®¡ç®—æœºçš„â€œçª—å£â€ï¼š</p>
<p>é€šè¿‡æ¡Œé¢ã€å›¾æ ‡ã€ç»ˆç«¯ã€åº”ç”¨ç¨‹åºç­‰ä¸è®¡ç®—æœºäº¤äº’<br>ä¸éœ€è¦ï¼ˆä¹Ÿä¸å…³å¿ƒï¼‰åº•å±‚å¦‚ä½•è°ƒåº¦è¿›ç¨‹ã€ç®¡ç†å†…å­˜<br>æ“ä½œç³»ç»Ÿå±è”½äº†ç¡¬ä»¶å¤æ‚æ€§ï¼Œæä¾›æŠ½è±¡ã€æ˜“ç”¨çš„äº¤äº’ç•Œé¢<br>è¿™æ˜¯æ“ä½œç³»ç»Ÿæœ€ç›´è§‚ã€æœ€æœ¬è´¨çš„å¯¹å¤–è§’è‰²ã€‚ç»å…¸æ•™æå®šä¹‰å¦‚ï¼š</p>
<p>â€œAn OS is an extended machine â€” it provides users with an abstract, simplified, and convenient interface to the hardware.â€<br>â€”â€” Andrew S. Tanenbaum, Modern Operating Systems</p>
<p>âŒ å…¶ä»–é€‰é¡¹åˆ†æï¼ˆè™½æ­£ç¡®ï¼Œä½†ä¸ç¬¦åˆâ€œç”¨æˆ·è§‚ç‚¹â€ï¼‰ï¼š<br>B. æ§åˆ¶å’Œç®¡ç†è®¡ç®—æœºèµ„æºçš„è½¯ä»¶<br>â†’ æè¿°çš„æ˜¯ç³»ç»Ÿè®¾è®¡è€…&#x2F;å†…æ ¸å¼€å‘è€…è§†è§’ï¼Œå¼ºè°ƒ OS çš„å†…éƒ¨åŠŸèƒ½ï¼ˆèµ„æºç®¡ç†ï¼‰ã€‚ç”¨æˆ·é€šå¸¸ä¸æ„ŸçŸ¥è¿™ä¸€ç‚¹ã€‚<br>âœ–ï¸ å±äºâ€œç³»ç»Ÿè§‚ç‚¹â€ï¼Œéâ€œç”¨æˆ·è§‚ç‚¹â€</p>
<p>C. åˆç†åœ°ç»„ç»‡è®¡ç®—æœºå·¥ä½œæµç¨‹çš„è½¯ä»¶<br>â†’ åå‘æ‰¹å¤„ç†&#x2F;ä½œä¸šè°ƒåº¦è§†è§’ï¼Œæ›´é€‚ç”¨äºæ—©æœŸç³»ç»Ÿæˆ–åå°æœåŠ¡è®¾è®¡è€…çš„ç†è§£ã€‚æ™®é€šç”¨æˆ·ä¸å…³å¿ƒâ€œå·¥ä½œæµç¨‹å¦‚ä½•ç»„ç»‡â€ã€‚<br>âœ–ï¸ éç”¨æˆ·ä¸­å¿ƒè§†è§’</p>
<p>D. ç”±è‹¥å¹²å±‚æ¬¡çš„ç¨‹åºæŒ‰ä¸€å®šçš„ç»“æ„ç»„æˆçš„æœ‰æœºä½“<br>â†’ æè¿°çš„æ˜¯ OS çš„ä½“ç³»ç»“æ„ï¼ˆå¦‚å¾®å†…æ ¸ã€å®å†…æ ¸ã€æ¨¡å—åŒ–è®¾è®¡ï¼‰ï¼Œå±äºå®ç°å±‚é¢çš„æŠ½è±¡ï¼Œæ˜¯ç¨‹åºå‘˜æˆ–ç ”ç©¶è€…å…³æ³¨çš„å†…å®¹ã€‚<br>âœ–ï¸ æŠ€æœ¯å®ç°è§†è§’ï¼Œéç”¨æˆ·ä½“éªŒè§†è§’</p>
<p>ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š<br>æœ¬é¢˜è€ƒå¯Ÿ æ“ä½œç³»ç»Ÿåœ¨ä¸åŒè§†è§’ä¸‹çš„å®šä¹‰å·®å¼‚ï¼Œé‡ç‚¹åœ¨äºåŒºåˆ†ï¼š</p>
<p>è§†è§’<br>å…¸å‹å®šä¹‰<br>ç”¨æˆ·è§†è§’<br>ç”¨æˆ·ä¸è®¡ç®—æœºä¹‹é—´çš„æ¥å£ï¼ˆå¼ºè°ƒæ˜“ç”¨æ€§ã€æŠ½è±¡æ€§ï¼‰âœ…<br>ç³»ç»Ÿè§†è§’<br>èµ„æºç®¡ç†è€…ã€ä»²è£è€…<br>å¼€å‘è€…è§†è§’<br>å±‚æ¬¡åŒ–&#x2F;æ¨¡å—åŒ–çš„è½¯ä»¶ç³»ç»Ÿ<br>ç†è®ºè§†è§’<br>è™šæ‹Ÿæœºï¼ˆVirtual Machineï¼‰<br>ğŸ‘‰ è®°ä½ï¼š</p>
<p>ç”¨æˆ·çœ‹åˆ°çš„æ˜¯ â€œç•Œé¢â€ â†’ Interface<br>å†…æ ¸çœ‹åˆ°çš„æ˜¯ â€œè°ƒåº¦ä¸èµ„æºâ€ â†’ Manager</p>
<h1 id="é¢˜ç›®-4"><a href="#é¢˜ç›®-4" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>6.æ“ä½œç³»ç»Ÿæä¾›ç»™ç¨‹åºå‘˜çš„æ¥å£æ˜¯ ã€‚<br>Aï¼è¿›ç¨‹ Bï¼ç³»ç»Ÿè°ƒç”¨ Cï¼åº“å‡½æ•° Dï¼Bå’ŒC</p>
<h2 id="è§£æ-4"><a href="#è§£æ-4" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>ç­”æ¡ˆï¼šBï¼ç³»ç»Ÿè°ƒç”¨</p>
<p>âœ… æ­£ç¡®ç­”æ¡ˆè¯¦è§£ï¼š<br>é¢˜å¹²å…³é”®è¯ï¼šâ€œæ“ä½œç³»ç»Ÿæä¾›ç»™ç¨‹åºå‘˜çš„æ¥å£â€<br>â†’ æ³¨æ„æ˜¯ æ“ä½œç³»ç»Ÿç›´æ¥æä¾› çš„æ¥å£ï¼Œè€Œéç¬¬ä¸‰æ–¹æˆ–å°è£…å±‚ã€‚</p>
<p>âœ”ï¸ B. ç³»ç»Ÿè°ƒç”¨ï¼ˆSystem Callï¼‰<br>âœ… æ­£ç¡®ã€‚</p>
<p>ç³»ç»Ÿè°ƒç”¨æ˜¯æ“ä½œç³»ç»Ÿå†…æ ¸æš´éœ²ç»™ç”¨æˆ·ç©ºé—´ç¨‹åºçš„å”¯ä¸€æ­£å¼æ¥å£ï¼Œæ˜¯ç¨‹åºå‘˜ï¼ˆå°¤å…¶æ˜¯ç³»ç»Ÿç¨‹åºå‘˜ã€åº”ç”¨å¼€å‘è€…ï¼‰è¯·æ±‚å†…æ ¸æœåŠ¡çš„å”¯ä¸€åˆæ³•é€šé“ã€‚<br>å…¸å‹ä¾‹å­ï¼š<br>æ–‡ä»¶æ“ä½œï¼šopen(), read(), write(), close()<br>è¿›ç¨‹æ§åˆ¶ï¼šfork(), exec(), exit()<br>å†…å­˜ç®¡ç†ï¼šbrk(), mmap()<br>è®¾å¤‡ I&#x2F;Oï¼šioctl()<br>å®ç°æœºåˆ¶ï¼šé€šè¿‡è½¯ä¸­æ–­ï¼ˆå¦‚ int 0x80ï¼‰ã€syscall&#x2F;sysenter æŒ‡ä»¤ç­‰é™·å…¥å†…æ ¸æ€ï¼Œåˆ‡æ¢åˆ°å†…æ ¸æ‰§è¡Œã€‚<br>ğŸ“Œ æ ‡å‡†å®šä¹‰ï¼š<br>â€œSystem calls provide the interface between a process and the operating system.â€<br>â€”â€” Silberschatz, Operating System Concepts</p>
<p>âŒ å…¶ä»–é€‰é¡¹è¾¨æï¼š<br>A. è¿›ç¨‹<br>â†’ è¿›ç¨‹æ˜¯æ“ä½œç³»ç»Ÿç®¡ç†çš„å®ä½“&#x2F;æŠ½è±¡æ¦‚å¿µï¼Œä¸æ˜¯â€œæ¥å£â€ã€‚ç¨‹åºå‘˜é€šè¿‡ç³»ç»Ÿè°ƒç”¨æ¥åˆ›å»º&#x2F;æ§åˆ¶è¿›ç¨‹ï¼ˆå¦‚ fork()ï¼‰ï¼Œä½†â€œè¿›ç¨‹â€æœ¬èº«ä¸æ˜¯æ¥å£ã€‚<br>âœ–ï¸ æ¦‚å¿µæ··æ·†</p>
<p>C. åº“å‡½æ•°<br>â†’ åº“å‡½æ•°ï¼ˆå¦‚ glibc ä¸­çš„ printf(), malloc()ï¼‰æ˜¯ç”¨æˆ·ç©ºé—´çš„å°è£…ï¼Œä¸æ˜¯æ“ä½œç³»ç»Ÿç›´æ¥æä¾›çš„ã€‚</p>
<p>å¾ˆå¤šåº“å‡½æ•°å†…éƒ¨å°è£…äº†ç³»ç»Ÿè°ƒç”¨ï¼ˆå¦‚ printf() â†’ write()ï¼‰ï¼Œä½†ä¹Ÿæœ‰äº›çº¯ç”¨æˆ·æ€è®¡ç®—ï¼ˆå¦‚ sin(), strlen()ï¼‰ã€‚<br>OS å¹¶ä¸â€œæä¾›â€åº“å‡½æ•°â€”â€”å®ƒä»¬ç”±æ ‡å‡†åº“å®ç°è€…ï¼ˆå¦‚ glibcï¼‰æä¾›ï¼Œè¿è¡Œåœ¨ç”¨æˆ·æ€ã€‚<br>âœ–ï¸ å±äºä¸­é—´å±‚ï¼Œé OS åŸç”Ÿæ¥å£<br>D. Bå’ŒC<br>â†’ è™½ç„¶ç¨‹åºå‘˜æ—¥å¸¸ä½¿ç”¨åº“å‡½æ•°ï¼Œä½†é¢˜ç›®æ˜ç¡®é—®çš„æ˜¯ â€œæ“ä½œç³»ç»Ÿæä¾›â€ çš„æ¥å£ã€‚<br>åªæœ‰ç³»ç»Ÿè°ƒç”¨æ˜¯ OS å†…æ ¸ç›´æ¥æš´éœ²çš„æ¥å£ï¼›åº“å‡½æ•°æ˜¯æ„å»ºåœ¨ç³»ç»Ÿè°ƒç”¨ä¹‹ä¸Šçš„å·¥å…·ï¼Œä¸å±äº OS æœ¬èº«ã€‚<br>âœ–ï¸ æ··æ·†äº†â€œOS æ¥å£â€ä¸â€œç¼–ç¨‹æ¥å£â€</p>
<p>ğŸ’¡ ç±»æ¯”ï¼š<br>æ“ä½œç³»ç»Ÿæ˜¯â€œæ”¿åºœâ€ï¼Œç³»ç»Ÿè°ƒç”¨æ˜¯â€œæ³•å¾‹è§„å®šçš„åŠäº‹çª—å£â€ï¼ˆå¦‚æˆ·ç±ç§‘ã€ç¨åŠ¡å±€ï¼‰ï¼›<br>åº“å‡½æ•°æ˜¯â€œä»£åŠå…¬å¸â€â€”â€”å®ƒå¸®ä½ è·‘è…¿ï¼ˆè°ƒç”¨çª—å£ï¼‰ï¼Œä½†ä¸æ˜¯æ”¿åºœæœ¬èº«è®¾ç«‹çš„çª—å£ã€‚</p>
<h1 id="é¢˜ç›®-5"><a href="#é¢˜ç›®-5" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>å¼•å…¥å¤šé“ç¨‹åºæŠ€æœ¯çš„å‰ææ¡ä»¶ä¹‹ä¸€æ˜¯ç³»ç»Ÿå…·æœ‰ï¼ˆ ï¼‰ã€‚<br>A. åˆ†æ—¶åŠŸèƒ½ B. ä¸­æ–­ C. å¤šCPUæŠ€æœ¯ D. SPOOLingæŠ€æœ¯</p>
<h2 id="è§£æ-5"><a href="#è§£æ-5" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>ç­”æ¡ˆï¼šB. ä¸­æ–­</p>
<p>âœ… æ­£ç¡®ç­”æ¡ˆè¯¦è§£ï¼š<br>é¢˜å¹²å…³é”®ï¼šâ€œå¼•å…¥å¤šé“ç¨‹åºæŠ€æœ¯çš„å‰ææ¡ä»¶ä¹‹ä¸€â€<br>æˆ‘ä»¬è¦æ‰¾çš„æ˜¯â€”â€”æ²¡æœ‰å®ƒï¼Œå¤šé“ç¨‹åºå°±æ ¹æœ¬æ— æ³•å®ç°çš„åº•å±‚æœºåˆ¶ã€‚</p>
<p>âœ”ï¸ B. ä¸­æ–­ï¼ˆInterruptï¼‰<br>âœ… æ­£ç¡®ï¼Œæ˜¯æ ¸å¿ƒå‰æã€‚</p>
<p>ä¸ºä»€ä¹ˆï¼Ÿ<br>å¤šé“ç¨‹åºè®¾è®¡ï¼ˆMultiprogrammingï¼‰çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š</p>
<p>åœ¨å†…å­˜ä¸­åŒæ—¶å­˜æ”¾å¤šä¸ªä½œä¸šï¼Œå½“ä¸€ä¸ªä½œä¸šå›  I&#x2F;O è¯·æ±‚ã€ç­‰å¾…äº‹ä»¶ç­‰åŸå› æš‚åœæ‰§è¡Œæ—¶ï¼ŒCPU ç«‹å³åˆ‡æ¢åˆ°å¦ä¸€ä¸ªå°±ç»ªä½œä¸šæ‰§è¡Œï¼Œä»è€Œæé«˜ CPU åˆ©ç”¨ç‡ã€‚</p>
<p>è€Œå®ç°è¿™ç§â€œæš‚åœå½“å‰è¿›ç¨‹ â†’ åˆ‡æ¢åˆ°å¦ä¸€è¿›ç¨‹â€çš„å…³é”®æœºåˆ¶ï¼Œå°±æ˜¯ ä¸­æ–­</p>
<p>âŒ å…¶ä»–é€‰é¡¹åˆ†æï¼š<br>A. åˆ†æ—¶åŠŸèƒ½<br>â†’ åˆ†æ—¶æ˜¯å¤šé“ç¨‹åºçš„è¿›ä¸€æ­¥å‘å±•ï¼ˆåŠ ä¸Šæ—¶é—´ç‰‡è½®è½¬ + å¤šç”¨æˆ·äº¤äº’ï¼‰ï¼Œä¸æ˜¯å‰æï¼Œè€Œæ˜¯ç»“æœã€‚<br>å¤šé“ç¨‹åºæœ€æ—©å‡ºç°åœ¨æ‰¹å¤„ç†ç³»ç»Ÿä¸­ï¼ˆå¦‚ IBM OS&#x2F;360ï¼‰ï¼Œæ—©äºåˆ†æ—¶ç³»ç»Ÿï¼ˆå¦‚ CTSSã€UNIXï¼‰ã€‚<br>âœ–ï¸ é€»è¾‘å€’ç½®</p>
<p>C. å¤šCPUæŠ€æœ¯<br>â†’ å¤šé“ç¨‹åºåœ¨å• CPU ä¸Šå³å¯å®ç°ï¼ˆé€šè¿‡è¿›ç¨‹åˆ‡æ¢æ¨¡æ‹Ÿå¹¶å‘ï¼‰ã€‚å¤š CPU æ˜¯å¹¶è¡Œï¼ˆparallelismï¼‰ çš„å‰æï¼Œè€Œéå¹¶å‘ï¼ˆconcurrencyï¼‰ çš„å‰æã€‚<br>âœ–ï¸ éå¿…è¦ï¼›å¤šé“ç¨‹åºè¯ç”Ÿäºå•æ ¸æ—¶ä»£</p>
<p>D. SPOOLingæŠ€æœ¯<br>â†’ SPOOLingï¼ˆSimultaneous Peripheral Operations On-Lineï¼‰æ˜¯ä¸ºè§£å†³ I&#x2F;O ç“¶é¢ˆè€Œæå‡ºçš„å‡è„±æœºæŠ€æœ¯ï¼Œå…¸å‹ç”¨äºæ‰¹å¤„ç†ç³»ç»Ÿæå‡ååé‡ï¼Œä½†å®ƒæœ¬èº«ä¾èµ–äºå¤šé“ç¨‹åºï¼ˆéœ€æœ‰è¿›ç¨‹å¹¶å‘æ‰§è¡Œè¾“å…¥&#x2F;è®¡ç®—&#x2F;è¾“å‡ºï¼‰ã€‚<br>ğŸ‘‰ å®é™…ä¸Šï¼Œå¤šé“ç¨‹åºæ˜¯ SPOOLing çš„å‰æï¼Œè€Œéç›¸åã€‚<br>âœ–ï¸ å› æœé¢ å€’</p>
<p>ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š<br>æœ¬é¢˜è€ƒå¯Ÿ å¤šé“ç¨‹åºè®¾è®¡çš„å®ç°åŸºç¡€ï¼Œé‡ç‚¹åœ¨äºç†è§£ï¼š</p>
<p>å¤šé“ç¨‹åºçš„æ ¸å¿ƒæ˜¯ CPU ä¸ I&#x2F;O çš„å¹¶è¡Œé‡å <br>å®ç°â€œå¹¶è¡Œé‡å â€çš„å…³é”®æŠ€æœ¯æ”¯æ’‘æ˜¯ ä¸­æ–­æœºåˆ¶<br>ä¸­æ–­ä½¿æ“ä½œç³»ç»Ÿèƒ½å¼‚æ­¥å“åº”äº‹ä»¶ï¼Œä»è€Œå®ç°è¿›ç¨‹è°ƒåº¦ä¸åˆ‡æ¢<br>ğŸ”‘ å…³é”®è®°å¿†é“¾ï¼š<br>ä¸­æ–­ â†’ å¼‚å¸¸&#x2F;äº‹ä»¶æ„ŸçŸ¥ â†’ å†…æ ¸ä»‹å…¥ â†’ è¿›ç¨‹çŠ¶æ€æ”¹å˜ â†’ è°ƒåº¦åˆ‡æ¢ â†’ å¤šé“å¹¶å‘</p>
<h1 id="é¢˜ç›®-6"><a href="#é¢˜ç›®-6" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>æ‰§è¡Œç³»ç»Ÿè°ƒç”¨çš„è¿‡ç¨‹åŒ…æ‹¬å¦‚ä¸‹ä¸»è¦æ“ä½œæ­£ç¡®çš„æ‰§è¡Œé¡ºåºæ˜¯ï¼ˆ ï¼‰ã€‚(2017)<br>â‘ è¿”å›ç”¨æˆ·æ€ â‘¡æ‰§è¡Œé™·å…¥(trap)æŒ‡ä»¤ â‘¢ä¼ é€’ç³»ç»Ÿè°ƒç”¨å‚æ•° â‘£æ‰§è¡Œç›¸åº”çš„æœåŠ¡ç¨‹åº<br>A.â‘¡â†’â‘¢â†’â‘ â†’â‘£ B.â‘¡â†’â‘£â†’â‘¢â†’â‘ <br>C.â‘¢â†’â‘¡â†’â‘£â†’â‘  D.â‘¢â†’â‘£â†’â‘¡â†’â‘ </p>
<h2 id="è§£æ-6"><a href="#è§£æ-6" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>ç­”æ¡ˆï¼šC. â‘¢â†’â‘¡â†’â‘£â†’â‘ </p>
<p>âœ… æ­£ç¡®é¡ºåºè§£æï¼š<br>æ‰§è¡Œç³»ç»Ÿè°ƒç”¨ï¼ˆsystem callï¼‰æ˜¯ä¸€ä¸ªç”¨æˆ·æ€ â†’ å†…æ ¸æ€ â†’ ç”¨æˆ·æ€çš„å®Œæ•´è¿‡ç¨‹ã€‚æˆ‘ä»¬æŒ‰å®é™…æ‰§è¡Œæ—¶åºé€æ­¥åˆ†æï¼š</p>
<p>â‘¢ ä¼ é€’ç³»ç»Ÿè°ƒç”¨å‚æ•°<br>â¡ï¸ æœ€å…ˆå‘ç”Ÿï¼ˆç”¨æˆ·æ€ï¼‰</p>
<p>ç”¨æˆ·ç¨‹åºï¼ˆå¦‚ C ç¨‹åºï¼‰å…ˆå°†ç³»ç»Ÿè°ƒç”¨æ‰€éœ€çš„å‚æ•°ï¼ˆå¦‚æ–‡ä»¶æè¿°ç¬¦ã€ç¼“å†²åŒºæŒ‡é’ˆã€é•¿åº¦ç­‰ï¼‰å‡†å¤‡å¥½ï¼Œé€šå¸¸é€šè¿‡ï¼š<br>å¯„å­˜å™¨ï¼ˆå¦‚ x86-64ï¼šrdi, rsi, rdx, r10, r8, r9ï¼‰<br>æˆ–æ ˆï¼ˆè€æ—§ ABIï¼‰<br>ä¾‹å¦‚ï¼šread(fd, buf, count) â†’ å…ˆæŠŠ fd, buf, count æ”¾å…¥çº¦å®šä½ç½®<br>âœ… è¿™æ˜¯ç³»ç»Ÿè°ƒç”¨å‘èµ·å‰çš„å‡†å¤‡åŠ¨ä½œï¼Œå¿…é¡»åœ¨é™·å…¥å‰å®Œæˆã€‚<br>â‘¡ æ‰§è¡Œé™·å…¥ï¼ˆtrapï¼‰æŒ‡ä»¤<br>â¡ï¸ ç¬¬äºŒæ­¥ï¼ˆç”¨æˆ·æ€ â†’ å†…æ ¸æ€åˆ‡æ¢ç‚¹ï¼‰</p>
<p>ç”¨æˆ·ç¨‹åºæ‰§è¡Œä¸€æ¡ç‰¹æ®ŠæŒ‡ä»¤è§¦å‘é™·å…¥å†…æ ¸ï¼Œå¦‚ï¼š<br>int 0x80ï¼ˆä¼ ç»Ÿ x86ï¼‰<br>syscallï¼ˆx86-64 å¿«é€Ÿè·¯å¾„ï¼‰<br>svc #0ï¼ˆARMï¼‰<br>CPU è‡ªåŠ¨ï¼š<br>åˆ‡æ¢åˆ°å†…æ ¸æ€ï¼ˆCPL&#x3D;0ï¼‰<br>ä¿å­˜ç”¨æˆ·æ€ä¸Šä¸‹æ–‡ï¼ˆå¦‚ RIP, RSP, RFLAGSï¼‰<br>è·³è½¬åˆ°å†…æ ¸çš„ç³»ç»Ÿè°ƒç”¨å…¥å£ï¼ˆå¦‚ entry_SYSCALL_64ï¼‰<br>â‘£ æ‰§è¡Œç›¸åº”çš„æœåŠ¡ç¨‹åº<br>â¡ï¸ ç¬¬ä¸‰æ­¥ï¼ˆå†…æ ¸æ€ï¼‰</p>
<p>å†…æ ¸æ ¹æ®ç³»ç»Ÿè°ƒç”¨å·ï¼ˆå¦‚ __NR_read &#x3D; 0ï¼‰æŸ¥è¡¨ï¼ˆsys_call_tableï¼‰ï¼Œè°ƒç”¨å¯¹åº”çš„æœåŠ¡ä¾‹ç¨‹ï¼ˆå¦‚ sys_readï¼‰<br>åœ¨å†…æ ¸æ€å®Œæˆå®é™…å·¥ä½œï¼šæƒé™æ£€æŸ¥ã€è®¾å¤‡é©±åŠ¨è°ƒç”¨ã€æ•°æ®æ‹·è´ç­‰<br>â‘  è¿”å›ç”¨æˆ·æ€<br>â¡ï¸ æœ€åä¸€æ­¥ï¼ˆå†…æ ¸æ€ â†’ ç”¨æˆ·æ€ï¼‰</p>
<p>å†…æ ¸æ‰§è¡Œ iret &#x2F; sysret ç­‰æŒ‡ä»¤ï¼Œæ¢å¤ç”¨æˆ·æ€å¯„å­˜å™¨å’Œæ ˆ<br>CPU åˆ‡å›ç”¨æˆ·æ€ï¼Œç»§ç»­æ‰§è¡Œ syscall ä¹‹åçš„æŒ‡ä»¤ï¼ˆå¦‚æ£€æŸ¥è¿”å›å€¼ï¼‰</p>
<h1 id="é¢˜ç›®-7"><a href="#é¢˜ç›®-7" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>ä¸å•é“ç¨‹åºç³»ç»Ÿç›¸æ¯”ï¼Œå¤šé“ç¨‹åºç³»ç»Ÿçš„ä¼˜ç‚¹æ˜¯ï¼ˆ ï¼‰ã€‚(2017)<br>â… .CPUåˆ©ç”¨ç‡é«˜ â…¡.ç³»ç»Ÿå¼€é”€å° â…¢.ç³»ç»Ÿååé‡å¤§ â…£.I&#x2F;Oè®¾å¤‡åˆ©ç”¨ç‡é«˜<br>A.ä»…â… ã€â…¢ B.ä»…â… ã€â…£ C.ä»…â…¡ã€â…¢ D.ä»…â… ã€â…¢ã€â…£</p>
<h2 id="è§£æ-7"><a href="#è§£æ-7" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>ç­”æ¡ˆï¼šD. ä»…â… ã€â…¢ã€â…£</p>
<p>âœ… æ­£ç¡®é€‰é¡¹è§£æï¼š<br>æˆ‘ä»¬é€é¡¹åˆ†æå¤šé“ç¨‹åºç³»ç»Ÿï¼ˆMultiprogramming Systemï¼‰ç›¸å¯¹äºå•é“ç¨‹åºç³»ç»Ÿï¼ˆSingle-program Systemï¼‰çš„ä¼˜åŠ¿ï¼š</p>
<p>âœ… â… . CPUåˆ©ç”¨ç‡é«˜<br>âœ”ï¸ æ­£ç¡®ã€‚</p>
<p>å•é“ç³»ç»Ÿï¼šè¿›ç¨‹ä¸€æ—¦å‘èµ· I&#x2F;Oï¼ˆå¦‚ç£ç›˜è¯»å†™ï¼‰ï¼ŒCPU ç©ºç­‰ç›´åˆ° I&#x2F;O å®Œæˆ â†’ åˆ©ç”¨ç‡ä½ï¼ˆå¯èƒ½ &lt; 20%ï¼‰ã€‚<br>å¤šé“ç³»ç»Ÿï¼šå½“ä¸€ä¸ªè¿›ç¨‹é˜»å¡äº I&#x2F;O æ—¶ï¼ŒCPU ç«‹å³è°ƒåº¦å¦ä¸€ä¸ªå°±ç»ªè¿›ç¨‹è¿è¡Œ â†’ é‡å  CPU ä¸ I&#x2F;O æ“ä½œï¼Œæ˜¾è‘—æå‡ CPU åˆ©ç”¨ç‡ï¼ˆå¯è¾¾ 70%+ï¼‰ã€‚<br>â†’ æ ¸å¿ƒä¼˜åŠ¿ä¹‹ä¸€<br>âŒ â…¡. ç³»ç»Ÿå¼€é”€å°<br>âœ–ï¸ é”™è¯¯ã€‚</p>
<p>å¤šé“ç¨‹åºå¼•å…¥äº†é¢å¤–å¼€é”€ï¼š<br>è¿›ç¨‹åˆ‡æ¢ï¼ˆä¸Šä¸‹æ–‡ä¿å­˜&#x2F;æ¢å¤ï¼‰<br>å†…å­˜ä¿æŠ¤ä¸åœ°å€æ˜ å°„ï¼ˆå¦‚åŸºå€&#x2F;ç•Œé™å¯„å­˜å™¨ã€MMUï¼‰<br>è°ƒåº¦ç®—æ³•æ‰§è¡Œ<br>åŒæ­¥ä¸äº’æ–¥æœºåˆ¶ï¼ˆå¦‚ä¿¡å·é‡ï¼‰<br>å•é“ç³»ç»Ÿæ— è¿›ç¨‹åˆ‡æ¢ã€æ— éœ€ä¿æŠ¤ï¼Œå¼€é”€æå°ã€‚<br>â†’ å¤šé“ç³»ç»Ÿç‰ºç‰²ä¸€å®šå¼€é”€æ¢å–èµ„æºåˆ©ç”¨ç‡æå‡ï¼Œè¿™æ˜¯å…¸å‹çš„â€œæ—¶ç©ºæƒè¡¡â€ã€‚<br>âœ… â…¢. ç³»ç»Ÿååé‡å¤§<br>âœ”ï¸ æ­£ç¡®ã€‚</p>
<p>ååé‡ï¼ˆThroughputï¼‰ï¼šå•ä½æ—¶é—´å†…å®Œæˆçš„ä½œä¸šæ•°ã€‚<br>å¤šé“ç³»ç»Ÿé€šè¿‡å¹¶å‘æ‰§è¡Œã€å‡å°‘ç©ºé—²ï¼Œåœ¨ç›¸åŒæ—¶é—´å†…å®Œæˆæ›´å¤šä½œä¸šã€‚<br>ä¾‹å¦‚ï¼šå•é“æ—¶ 1 å°æ—¶å®Œæˆ 5 ä¸ªä½œä¸šï¼›å¤šé“æ—¶å¯èƒ½å®Œæˆ 15 ä¸ªã€‚<br>â†’ ç›´æ¥ç»“æœã€‚<br>âœ… â…£. I&#x2F;Oè®¾å¤‡åˆ©ç”¨ç‡é«˜<br>âœ”ï¸ æ­£ç¡®ã€‚</p>
<p>å•é“ç³»ç»Ÿï¼šI&#x2F;O è®¾å¤‡ä»…åœ¨å½“å‰ä½œä¸šéœ€è¦æ—¶ä½¿ç”¨ï¼Œå…¶ä½™æ—¶é—´é—²ç½®ã€‚<br>å¤šé“ç³»ç»Ÿï¼šå¤šä¸ªè¿›ç¨‹å¯è½®æµä½¿ç”¨ I&#x2F;O è®¾å¤‡ï¼ˆå¦‚ä¸€ä¸ªè¿›ç¨‹å†™ç£ç›˜æ—¶ï¼Œå¦ä¸€ä¸ªè¯»ç½‘å¡ï¼‰ï¼Œå‡å°‘ I&#x2F;O è®¾å¤‡ç©ºé—²æ—¶é—´ï¼Œæå‡å…¶åˆ©ç”¨ç‡ã€‚<br>SPOOLing æŠ€æœ¯è¿›ä¸€æ­¥æ”¾å¤§è¯¥ä¼˜åŠ¿ï¼ˆå¦‚ç”¨ç£ç›˜æ¨¡æ‹Ÿç‹¬å è®¾å¤‡ï¼‰ã€‚<br>â†’ ä¸ CPU åˆ©ç”¨ç‡æå‡ç›¸è¾…ç›¸æˆã€‚</p>
<h1 id="é¢˜ç›®-8"><a href="#é¢˜ç›®-8" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>å¼‚å¸¸æ˜¯æŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹ä¸­åœ¨å¤„ç†å™¨å†…éƒ¨å‘ç”Ÿçš„ç‰¹æ®Šäº‹ä»¶ï¼Œä¸­æ–­æ˜¯æ¥è‡ªå¤„ç†å™¨å¤–éƒ¨çš„è¯·æ±‚äº‹ä»¶ã€‚ä¸‹åˆ—å…³äºä¸­æ–­æˆ–<br>å¼‚å¸¸æ‚„å†µçš„å™è¿°ä¸­ï¼Œé”™è¯¯çš„æ˜¯ï¼ˆ ï¼‰ã€‚(2016 ç»„æˆåŸç†)<br>A.<br>â€œè®¿å­˜æ—¶ç¼ºé¡µâ€å±äºä¸­æ–­ Bï¼<br>â€œæ•´æ•°é™¤ä»¥0â€å±äºå¼‚å¸¸<br>C.<br>â€œDMAä¼ é€ç»“æŸâ€å±äºä¸­æ–­ Dï¼<br>â€œå­˜å‚¨ä¿æŠ¤é”™â€å±äºå¼‚å¸¸</p>
<h2 id="è§£æ-8"><a href="#è§£æ-8" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>é€é¡¹åˆ†æï¼š<br>A. â€œè®¿å­˜æ—¶ç¼ºé¡µâ€å±äºä¸­æ–­<br>âŒ é”™è¯¯ï¼ˆæœ¬é¢˜ç­”æ¡ˆï¼‰</p>
<p>ç¼ºé¡µï¼ˆPage Faultï¼‰å‘ç”Ÿåœ¨CPU æ‰§è¡Œä¸€æ¡è®¿å­˜æŒ‡ä»¤ï¼ˆå¦‚ mov %rax, (%rbx)ï¼‰æ—¶ï¼ŒMMU å‘ç°é¡µè¡¨é¡¹æ— æ•ˆæˆ–æœªåŠ è½½ â†’ è§¦å‘ #PF å¼‚å¸¸ï¼ˆx86 ä¸­æ–­å‘é‡ 14ï¼‰ã€‚<br>å®ƒä¸¥æ ¼ä¸å½“å‰æŒ‡ä»¤ç»‘å®šï¼šå“ªæ¡æŒ‡ä»¤è®¿é—®äº†ç¼ºé¡µåœ°å€ï¼Œå¼‚å¸¸å°±å‘ç”Ÿåœ¨è¯¥æŒ‡ä»¤å¤„ï¼Œå†…æ ¸å¤„ç†å®Œåé€šå¸¸é‡æ–°æ‰§è¡Œè¯¥æŒ‡ä»¤ã€‚<br>âœ… æ­£ç¡®åˆ†ç±»ï¼šå¼‚å¸¸ï¼ˆå…·ä½“ä¸º fault å­ç±»ï¼‰<br>B. â€œæ•´æ•°é™¤ä»¥0â€å±äºå¼‚å¸¸<br>âœ… æ­£ç¡®</p>
<p>ç”± div &#x2F; idiv æŒ‡ä»¤å¼•å‘ #DE å¼‚å¸¸ï¼ˆDivide Errorï¼‰ï¼Œæ˜¯å…¸å‹çš„åŒæ­¥å¼‚å¸¸ã€‚<br>C. â€œDMAä¼ é€ç»“æŸâ€å±äºä¸­æ–­<br>âœ… æ­£ç¡®</p>
<p>DMA æ§åˆ¶å™¨å®Œæˆæ•°æ®ä¼ è¾“åï¼Œå‘ CPU å‘é€ç¡¬ä»¶ä¸­æ–­è¯·æ±‚ï¼ˆå¦‚ IRQï¼‰ï¼Œä¸ CPU å½“å‰æ‰§è¡Œçš„æŒ‡ä»¤æ— å…³ï¼Œå±äºå¤–éƒ¨å¼‚æ­¥äº‹ä»¶ã€‚<br>D. â€œå­˜å‚¨ä¿æŠ¤é”™â€å±äºå¼‚å¸¸<br>âœ… æ­£ç¡®</p>
<p>å¦‚è®¿é—®åªè¯»é¡µå†™å…¥ã€ç”¨æˆ·æ€è®¿é—®å†…æ ¸åœ°å€ç­‰ï¼Œç”± MMU æ£€æµ‹åˆ°è¿åä¿æŠ¤æœºåˆ¶ â†’ è§¦å‘ #GPï¼ˆGeneral Protection Faultï¼‰ æˆ– #PFï¼Œå±äºåŒæ­¥å¼‚å¸¸ã€‚</p>
<p>ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š<br>åŒºåˆ† ä¸­æ–­ vs å¼‚å¸¸ çš„æ ¸å¿ƒï¼šäº‹ä»¶æ¥æºï¼ˆå†…&#x2F;å¤–ï¼‰ + åŒæ­¥æ€§ï¼ˆæ˜¯å¦ä¸æŒ‡ä»¤å…³è”ï¼‰<br>å¸¸è§é™·é˜±ï¼šè¯¯å°†â€œç”±ç¡¬ä»¶å•å…ƒï¼ˆå¦‚ MMUï¼‰æ£€æµ‹â€ç­‰åŒäºâ€œä¸­æ–­â€â€”â€”MMU æ˜¯ CPU ä¸€éƒ¨åˆ†ï¼Œå…¶æŠ¥å‘Šçš„é”™è¯¯ä»å±å†…éƒ¨å¼‚å¸¸<br>ç¼ºé¡µã€ä¿æŠ¤é”™ã€é™¤é›¶ã€æº¢å‡ºã€æ— æ•ˆæŒ‡ä»¤ â†’ éƒ½æ˜¯ exception<br>å¤–è®¾é€šçŸ¥ï¼ˆé”®ç›˜ã€ç½‘å¡ã€ç£ç›˜ã€DMAã€æ—¶é’Ÿï¼‰ â†’ éƒ½æ˜¯ interrupt</p>
<h1 id="é¢˜ç›®-9"><a href="#é¢˜ç›®-9" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>ä¸‹åˆ—å…³äºæ‰¹å¤„ç†ç³»ç»Ÿçš„å™è¿°ä¸­ï¼Œæ­£ç¡®çš„æ˜¯ï¼ˆ ï¼‰ã€‚(2016)<br>Iã€æ‰¹å¤„ç†ç³»ç»Ÿå…è®¸å¤šä¸ªç”¨æˆ·ä¸è®¡ç®—æœºç›´æ¥äº¤äº’<br>â…¡ã€æ‰¹å¤„ç†ç³»ç»Ÿåˆ†ä¸ºå•é“æ‰¹å¤„ç†ç³»ç»Ÿå’Œå¤šé“æ‰¹å¤„ç†ç³»ç»Ÿ<br>IIIã€ä¸­æ–­æŠ€æœ¯ä½¿å¾—å¤šé“æ‰¹å¤„ç†ç³»ç»Ÿå’ŒI&#x2F;Oè®¾å¤‡å¯ä¸CPUå¹¶è¡Œå·¥ä½œ<br>A.ä»…â…¡ï¼ŒIII B.ä»…II C.ä»…â… ï¼Œâ…¡ D.ä»…Iï¼Œâ…¢</p>
<h2 id="è§£æ-9"><a href="#è§£æ-9" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>ç­”æ¡ˆï¼šA. ä»…â…¡ï¼Œâ…¢</p>
<p>âœ… é€é¡¹è§£æï¼š<br>I. æ‰¹å¤„ç†ç³»ç»Ÿå…è®¸å¤šä¸ªç”¨æˆ·ä¸è®¡ç®—æœºç›´æ¥äº¤äº’<br>âŒ é”™è¯¯</p>
<p>æ‰¹å¤„ç†ç³»ç»Ÿï¼ˆBatch Processing Systemï¼‰çš„æ ¸å¿ƒç‰¹ç‚¹æ˜¯ï¼šç”¨æˆ·æäº¤ä½œä¸šï¼ˆJobï¼‰åè„±æœºç­‰å¾…ï¼Œä¸èƒ½äº¤äº’ã€‚<br>ä½œä¸šé€šå¸¸ä»¥ä½œä¸šæ§åˆ¶è¯­è¨€ï¼ˆJCLï¼‰å†™æˆè„šæœ¬ï¼Œä¸€æ¬¡æ€§æäº¤ç»™ç³»ç»Ÿï¼Œç”±ä½œä¸šè°ƒåº¦ç¨‹åºè‡ªåŠ¨è¿è¡Œã€‚<br>äº¤äº’æ€§æ˜¯åˆ†æ—¶ç³»ç»Ÿçš„ç‰¹å¾ï¼Œä¸æ‰¹å¤„ç†ç›¸æ‚–ã€‚<br>â†’ æœ¬é¡¹é”™è¯¯ã€‚<br>II. æ‰¹å¤„ç†ç³»ç»Ÿåˆ†ä¸ºå•é“æ‰¹å¤„ç†ç³»ç»Ÿå’Œå¤šé“æ‰¹å¤„ç†ç³»ç»Ÿ<br>âœ… æ­£ç¡®</p>
<p>å•é“æ‰¹å¤„ç†ï¼ˆå¦‚ IBM OS&#x2F;360 çš„æ—©æœŸç‰ˆæœ¬ï¼‰ï¼šå†…å­˜ä¸­åªé©»ç•™ä¸€ä¸ªä½œä¸šï¼ŒCPU ç­‰å¾… I&#x2F;O æ—¶ç©ºé—²ã€‚<br>å¤šé“æ‰¹å¤„ç†ï¼ˆå¦‚ IBM OS&#x2F;MVTï¼‰ï¼šå†…å­˜ä¸­åŒæ—¶é©»ç•™å¤šä¸ªä½œä¸šï¼Œåˆ©ç”¨ I&#x2F;O ç­‰å¾…é—´éš™åˆ‡æ¢ä½œä¸šï¼Œæé«˜èµ„æºåˆ©ç”¨ç‡ã€‚<br>â†’ è¿™æ˜¯æ“ä½œç³»ç»Ÿå‘å±•å²ä¸Šçš„æ ‡å‡†åˆ†ç±»ã€‚<br>III. ä¸­æ–­æŠ€æœ¯ä½¿å¾—å¤šé“æ‰¹å¤„ç†ç³»ç»Ÿå’Œ I&#x2F;O è®¾å¤‡å¯ä¸ CPU å¹¶è¡Œå·¥ä½œ<br>âœ… æ­£ç¡®</p>
<p>åœ¨å¤šé“æ‰¹å¤„ç†ä¸­ï¼Œå½“ä½œä¸š A å‘èµ· I&#x2F;O è¯·æ±‚åï¼š<br>CPU é€šè¿‡ç³»ç»Ÿè°ƒç”¨é™·å…¥å†…æ ¸ï¼›<br>å†…æ ¸å¯åŠ¨ I&#x2F;Oï¼ˆå¦‚ç£ç›˜è¯»ï¼‰ï¼Œè¿›ç¨‹ A è¿›å…¥é˜»å¡æ€ï¼›<br>I&#x2F;O è®¾å¤‡åœ¨åå°ç‹¬ç«‹å·¥ä½œï¼›<br>CPU è½¬è€Œæ‰§è¡Œä½œä¸š Bï¼›<br>å½“ I&#x2F;O å®Œæˆæ—¶ï¼Œè®¾å¤‡å‘å‡ºä¸­æ–­ â†’ å†…æ ¸å“åº”ï¼Œå”¤é†’ä½œä¸š Aã€‚<br>è‹¥æ— ä¸­æ–­æœºåˆ¶ï¼ŒCPU å°†æ— æ³•å¾—çŸ¥ I&#x2F;O å®Œæˆï¼Œä¹Ÿæ— æ³•å®ç°ä½œä¸šåˆ‡æ¢ â†’ æ— æ³•å®ç°çœŸæ­£çš„â€œå¹¶è¡Œå·¥ä½œâ€ã€‚<br>â†’ ä¸­æ–­æ˜¯å®ç°CPU ä¸ I&#x2F;O é‡å ï¼ˆå³å®è§‚å¹¶è¡Œï¼‰çš„å…³é”®æ”¯æ’‘æŠ€æœ¯ã€‚<br>âœ… æœ€ç»ˆåˆ¤æ–­ï¼š<br>Iï¼šâœ—<br>IIï¼šâœ“<br>IIIï¼šâœ“<br>â†’ æ­£ç¡®é€‰é¡¹ä¸º A. ä»…â…¡ï¼Œâ…¢<br>ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š<br>æœ¬é¢˜ç»¼åˆè€ƒå¯Ÿ æ‰¹å¤„ç†ç³»ç»Ÿç‰¹å¾ + å¤šé“ç¨‹åºå®ç°åŸºç¡€</p>
<p>ğŸ“Œ è®°å¿†å£è¯€ï¼š<br>æ‰¹å¤„ç†ï¼šæäº¤å°±èµ°ï¼Œä¸è®¸æ’å˜´ï¼›<br>å¤šé“é ä¸­æ–­ï¼ŒCPU ä¸ç™½ç­‰ã€‚</p>
<h1 id="é¢˜ç›®-10"><a href="#é¢˜ç›®-10" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>æŸå•CPUç³»ç»Ÿä¸­æœ‰è¾“å…¥å’Œè¾“å‡ºè®¾å¤‡å„1å°ï¼Œç°æœ‰3ä¸ªå¹¶å‘æ‰§è¡Œçš„ä½œä¸šï¼Œæ¯ä¸ªä½œä¸šçš„è¾“å…¥ã€è®¡ç®—å’Œè¾“å‡ºæ—¶é—´å‡åˆ†åˆ«ä¸º<br>2msã€3mså’Œ4msï¼Œä¸”éƒ½æŒ‰è¾“å…¥ã€è®¡ç®—å’Œè¾“å‡ºçš„é¡ºåºæ‰§è¡Œï¼Œåˆ™æ‰§è¡Œå®Œ3ä¸ªä½œä¸šéœ€è¦çš„æ—¶é—´æœ€å°‘æ˜¯ï¼ˆ ï¼‰ã€‚(2016)<br>A.15ms B.17ms C.22ms D.27ms</p>
<h2 id="è§£æ-10"><a href="#è§£æ-10" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>âœ… æ­£ç¡®ç­”æ¡ˆï¼šB. 17ms</p>
<p>æˆ‘ä»¬æ¥åˆ†æè¿™é“ç»å…¸çš„ä½œä¸šè°ƒåº¦ä¸èµ„æºå—é™ä¸‹çš„å¹¶å‘æ‰§è¡Œé—®é¢˜ã€‚</p>
<p>ğŸ” é¢˜ç›®å·²çŸ¥æ¡ä»¶ï¼š<br>å• CPUï¼ˆå³è®¡ç®—é˜¶æ®µåªèƒ½ä¸²è¡Œæ‰§è¡Œï¼‰<br>è¾“å…¥è®¾å¤‡ 1 å°ï¼ˆè¾“å…¥é˜¶æ®µäº’æ–¥ï¼‰<br>è¾“å‡ºè®¾å¤‡ 1 å°ï¼ˆè¾“å‡ºé˜¶æ®µäº’æ–¥ï¼‰<br>3 ä¸ªä½œä¸šï¼Œæ¯ä¸ªä½œä¸šä¸¥æ ¼æŒ‰åºæ‰§è¡Œï¼š<br>è¾“å…¥ï¼ˆ2msï¼‰ â†’ è®¡ç®—ï¼ˆ3msï¼‰ â†’ è¾“å‡ºï¼ˆ4msï¼‰<br>å…± 9ms&#x2F;ä½œä¸šï¼Œ3 ä¸ªå…± 27msï¼ˆè‹¥å®Œå…¨ä¸²è¡Œï¼‰<br>â†’ ç›®æ ‡ï¼šé€šè¿‡åˆç†é‡å ï¼ˆå¹¶è¡Œï¼‰å°½å¯èƒ½ç¼©çŸ­æ€»æ—¶é—´</p>
<p>âš ï¸ æ³¨æ„ï¼š</p>
<p>å„é˜¶æ®µä¸èƒ½å¹¶è¡Œï¼ˆå¿…é¡»å…ˆè¾“å…¥å®Œæ‰èƒ½è®¡ç®—ï¼Œè®¡ç®—å®Œæ‰èƒ½è¾“å‡ºï¼‰<br>åŒç±»è®¾å¤‡åªèƒ½æœåŠ¡ä¸€ä¸ªä½œä¸šï¼ˆè®¾å¤‡æ˜¯ç“¶é¢ˆï¼‰<br>âœ… æ£€æŸ¥èµ„æºå†²çªï¼š</p>
<p>è¾“å…¥è®¾å¤‡ï¼šJ1(0â€“2), J2(2â€“4), J3(4â€“6) â†’ âœ… æ— é‡å <br>CPUï¼šJ1(2â€“5), J2(5â€“8), J3(8â€“11) â†’ âœ… ä¸²è¡Œæ— ç©ºé—²<br>è¾“å‡ºè®¾å¤‡ï¼š<br>J1 è¾“å‡ºæœ€æ—©å¯åœ¨ è®¡ç®—å®Œæˆåï¼ˆ5msï¼‰å¼€å§‹ â†’ 5â€“9<br>J2 è¾“å‡ºéœ€ç­‰ J1 è¾“å‡ºå®Œï¼ˆ9msï¼‰ â†’ 9â€“13<br>J3 è¾“å‡ºéœ€ç­‰ J2 è¾“å‡ºå®Œï¼ˆ13msï¼‰ â†’ 13â€“17<br>âš ï¸ èƒ½å¦è®© J2&#x2F;J3 æ›´æ—©è¾“å‡ºï¼Ÿ<br>â†’ ä¸èƒ½ï¼å› ä¸ºè¾“å‡ºè®¾å¤‡åªæœ‰ 1 å°ï¼Œä¸” J2 çš„è¾“å‡ºå¿…é¡»ç­‰å®ƒè‡ªå·±è®¡ç®—å®Œï¼ˆ8msï¼‰ + J1 è¾“å‡ºå®Œï¼ˆ9msï¼‰ â†’ å®é™…æœ€æ—© 9ms å¼€å§‹ã€‚</p>
<p>æ‰€ä»¥ J3 è¾“å‡ºç»“æŸäºï¼š13 + 4 &#x3D; 17ms</p>
<p>ğŸ¯ æ€»æ—¶é—´ &#x3D; æœ€åä¸€ä¸ªä½œä¸šè¾“å‡ºå®Œæˆæ—¶é—´ &#x3D; 17ms<br>âŒ ä¸ºä»€ä¹ˆä¸æ˜¯ 15msï¼ˆAï¼‰ï¼Ÿ<br>æœ‰äººè¯¯ä»¥ä¸ºï¼š3 ä¸ªä½œä¸šå¯å®Œå…¨æµæ°´çº¿ï¼š<br>è¾“å…¥ï¼š0â€“6ï¼ˆ3Ã—2ï¼‰<br>è®¡ç®—ï¼š2â€“11ï¼ˆ3Ã—3ï¼Œé‡å ï¼‰<br>è¾“å‡ºï¼š5â€“17ï¼ˆ3Ã—4ï¼Œé‡å ï¼‰<br>â†’ æ€»æ—¶é—´ &#x3D; 6ï¼ˆæœ€åè¾“å…¥å®Œï¼‰ + 3ï¼ˆæœ€åè®¡ç®—ï¼‰ + 4ï¼ˆæœ€åè¾“å‡ºï¼‰ï¼Ÿ &#x3D; 13ï¼Ÿ<br>é”™ï¼è¾“å‡ºä¸èƒ½æ—©äºå¯¹åº”ä½œä¸šè®¡ç®—å®Œæˆæ—¶é—´ï¼Œä¸”è®¾å¤‡ç‹¬å ã€‚<br>æœ€çŸ­ç†è®ºä¸‹ç•Œï¼š<br>è¾“å…¥æ€»æ—¶é—´ï¼š3Ã—2 &#x3D; 6msï¼ˆå¿…é¡»é¡ºåºï¼‰<br>è®¡ç®—æ€»æ—¶é—´ï¼š3Ã—3 &#x3D; 9msï¼ˆå¿…é¡»é¡ºåºï¼‰<br>è¾“å‡ºæ€»æ—¶é—´ï¼š3Ã—4 &#x3D; 12msï¼ˆå¿…é¡»é¡ºåºï¼‰<br>â†’ ä½†å¯é‡å ï¼Œæ€»æ—¶é—´ â‰¥ max(6, 9, 12) &#x3D; 12ï¼Œä½†å—é™äºé˜¶æ®µä¾èµ–ï¼Œå®é™…æ›´é•¿ã€‚<br>æœ¬é¢˜æœ€ä¼˜ä¸º 17msã€‚<br>âœ… ç­”æ¡ˆï¼šB. 17ms<br>ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š<br>èµ„æºå—é™ä¸‹çš„ä½œä¸šè°ƒåº¦<br>æµæ°´çº¿æ€æƒ³ + é˜¶æ®µä¾èµ–çº¦æŸ<br>å…³é”®åŸåˆ™ï¼š<br>åŒç±»è®¾å¤‡åªèƒ½ä¸²è¡Œä½¿ç”¨<br>æ¯ä¸ªä½œä¸šçš„ä¸‰é˜¶æ®µå¿…é¡»é¡ºåºæ‰§è¡Œï¼ˆè¾“å…¥â†’è®¡ç®—â†’è¾“å‡ºï¼‰<br>åç»­é˜¶æ®µæœ€æ—©å¼€å§‹æ—¶é—´ &#x3D; max(å‰é˜¶æ®µç»“æŸæ—¶é—´, è®¾å¤‡ç©ºé—²æ—¶é—´)<br>ğŸ“Œ ç±»ä¼¼é¢˜ç›®å¯ç”»ç”˜ç‰¹å›¾è¾…åŠ©åˆ†æã€‚</p>
<p>âœ… æ­£ç¡®ç­”æ¡ˆï¼šB. 17ms</p>
<h1 id="é¢˜ç›®-11"><a href="#é¢˜ç›®-11" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>å†…éƒ¨å¼‚å¸¸ï¼ˆå†…ä¸­æ–­ï¼‰å¯åˆ†ä¸ºæ•…éšœï¼ˆfaultï¼‰ã€é™·é˜±ï¼ˆtrapï¼‰å’Œç»ˆæ­¢ï¼ˆabortï¼‰ä¸‰ç±»ã€‚ä¸‹åˆ—æœ‰å…³å†…éƒ¨å¼‚å¸¸çš„å™è¿°ä¸­ï¼Œé”™è¯¯<br>çš„æ˜¯ï¼ˆ ï¼‰ã€‚(2015 ç»„æˆåŸç†)<br>A.å†…éƒ¨å¼‚å¸¸çš„äº§ç”Ÿä¸å½“å‰æ‰§è¡ŒæŒ‡ä»¤ç›¸å…³ B.å†…éƒ¨å¼‚å¸¸çš„æ£€æµ‹ç”±CPUå†…éƒ¨é€»è¾‘å®ç°<br>C.å†…éƒ¨å¼‚å¸¸çš„å“åº”å‘ç”Ÿåœ¨æŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹ä¸­ D.å†…éƒ¨å¼‚å¸¸å¤„ç†åè¿”å›åˆ°å‘ç”Ÿå¼‚å¸¸çš„æŒ‡ä»¤ç»§ç»­æ‰§è¡Œ</p>
<h2 id="è§£æ-11"><a href="#è§£æ-11" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>âœ… æ­£ç¡®ç­”æ¡ˆï¼šD</p>
<p>é€é¡¹åˆ†æé€‰é¡¹ï¼š<br>A. å†…éƒ¨å¼‚å¸¸çš„äº§ç”Ÿä¸å½“å‰æ‰§è¡ŒæŒ‡ä»¤ç›¸å…³<br>âœ… æ­£ç¡®ã€‚</p>
<p>å†…éƒ¨å¼‚å¸¸ï¼ˆå†…ä¸­æ–­ï¼‰ç”±CPU åœ¨æ‰§è¡ŒæŒ‡ä»¤è¿‡ç¨‹ä¸­æ£€æµ‹åˆ°å¼‚å¸¸æ¡ä»¶è€Œè§¦å‘ï¼ˆå¦‚é™¤é›¶ã€ç¼ºé¡µã€éæ³•æ“ä½œç ï¼‰ï¼Œæ˜¯åŒæ­¥äº‹ä»¶ã€‚<br>ä¸å¤–éƒ¨ä¸­æ–­ï¼ˆå¦‚é”®ç›˜ã€æ—¶é’Ÿï¼‰çš„å¼‚æ­¥æ€§å½¢æˆå¯¹æ¯”ã€‚<br>B. å†…éƒ¨å¼‚å¸¸çš„æ£€æµ‹ç”± CPU å†…éƒ¨é€»è¾‘å®ç°<br>âœ… æ­£ç¡®ã€‚</p>
<p>å¦‚ï¼šALU æ£€æµ‹é™¤é›¶ã€MMU æ£€æµ‹ç¼ºé¡µ&#x2F;ä¿æŠ¤è¿ä¾‹ã€è¯‘ç å™¨æ£€æµ‹éæ³•æŒ‡ä»¤ â†’ å‡ç”± CPU ç¡¬ä»¶å®Œæˆã€‚<br>C. å†…éƒ¨å¼‚å¸¸çš„å“åº”å‘ç”Ÿåœ¨æŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹ä¸­<br>âœ… æ­£ç¡®ã€‚</p>
<p>ä¾‹å¦‚ï¼š<br>div æŒ‡ä»¤æ‰§è¡Œæ—¶ â†’ ç«‹å³è§¦å‘ #DE<br>è®¿å­˜æŒ‡ä»¤æ‰§è¡Œæ—¶ MMU æŸ¥é¡µè¡¨å‘ç°ç¼ºé¡µ â†’ è§¦å‘ #PF<br>â†’ å±äºæŒ‡ä»¤æ‰§è¡Œå‘¨æœŸå†…çš„äº‹ä»¶ï¼ˆå³ä½¿ trap æŒ‡ä»¤ int ä¹Ÿæ˜¯â€œæ‰§è¡Œè¯¥æŒ‡ä»¤æ—¶â€ä¸»åŠ¨é™·å…¥ï¼‰ã€‚<br>D. å†…éƒ¨å¼‚å¸¸å¤„ç†åè¿”å›åˆ°å‘ç”Ÿå¼‚å¸¸çš„æŒ‡ä»¤ç»§ç»­æ‰§è¡Œ<br>âŒ é”™è¯¯ï¼ˆæœ¬é¢˜ç­”æ¡ˆï¼‰</p>
<p>è¿™åªé€‚ç”¨äº fault ç±»å¼‚å¸¸ï¼ˆå¦‚ç¼ºé¡µï¼‰ï¼Œä½†ï¼š<br>Trap ç±»ï¼ˆå¦‚ int 0x80 ç³»ç»Ÿè°ƒç”¨ï¼‰å¤„ç†å®Œåè¿”å›ä¸‹ä¸€æ¡æŒ‡ä»¤ï¼ˆå› ä¸º trap æŒ‡ä»¤æœ¬èº«å·²æ‰§è¡Œå®Œæ¯•ï¼‰ï¼›<br>Abort ç±»æ ¹æœ¬ä¸è¿”å›ï¼ˆç›´æ¥ç»ˆæ­¢è¿›ç¨‹ï¼‰ã€‚<br>â†’ è¯¥è¯´æ³•ä»¥åæ¦‚å…¨ï¼ŒæœªåŒºåˆ†å¼‚å¸¸å­ç±»ï¼Œé”™è¯¯ã€‚<br>ğŸ“Œ åä¾‹ï¼š<br>æ‰§è¡Œ int 0x80ï¼ˆç³»ç»Ÿè°ƒç”¨ï¼‰â†’ è¿›å…¥ trap â†’ å†…æ ¸å¤„ç† â†’ è¿”å›ç”¨æˆ·æ€åæ‰§è¡Œ int 0x80 çš„ä¸‹ä¸€æ¡æŒ‡ä»¤ï¼Œè€Œéé‡æ–°æ‰§è¡Œ int 0x80ï¼ˆå¦åˆ™ä¼šæ— é™å¾ªç¯è°ƒç”¨ï¼‰ã€‚</p>
<p>ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š<br>å†…éƒ¨å¼‚å¸¸ &#x3D; åŒæ­¥å¼‚å¸¸ &#x3D; ä¸æŒ‡ä»¤æµå¼ºç›¸å…³<br>ä¸‰ç±»å¼‚å¸¸ï¼ˆfault&#x2F;trap&#x2F;abortï¼‰çš„æ ¸å¿ƒåŒºåˆ«åœ¨äºï¼š<br>æ˜¯å¦å¯æ¢å¤<br>è¿”å›è¡Œä¸ºï¼ˆé‡æ‰§è¡Œ &#x2F; ä¸‹ä¸€æ¡ &#x2F; ä¸è¿”å›ï¼‰<br>å‘½é¢˜è‹¥ç”¨â€œæ‰€æœ‰å†…éƒ¨å¼‚å¸¸éƒ½â€¦â€¦â€éœ€è­¦æƒ•â€”â€”trap å’Œ abort ä¸ç¬¦åˆ D æè¿°<br>âœ… æ­£ç¡®ç­”æ¡ˆï¼šD</p>
<h1 id="é¢˜ç›®-12"><a href="#é¢˜ç›®-12" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>ä¸‹åˆ—æŒ‡ä»¤ä¸­ï¼Œä¸èƒ½åœ¨ç”¨æˆ·æ€æ‰§è¡Œçš„æ˜¯ï¼ˆ ï¼‰ã€‚(2014)<br>Aï¼trap æŒ‡ä»¤ Bï¼è·³è½¬æŒ‡ä»¤ Cï¼å‹æ ˆæŒ‡ä»¤ Dï¼å…³ä¸­æ–­æŒ‡ä»¤</p>
<h2 id="è§£æ-12"><a href="#è§£æ-12" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>ç­”æ¡ˆï¼šDï¼å…³ä¸­æ–­æŒ‡ä»¤</p>
<p>âœ… æ­£ç¡®ç­”æ¡ˆè§£æï¼š<br>æœ¬é¢˜è€ƒå¯Ÿ CPU ç‰¹æƒçº§ï¼ˆPrivilege Levelï¼‰ä¸æŒ‡ä»¤æƒé™ï¼Œæ ¸å¿ƒæ˜¯åŒºåˆ†å“ªäº›æŒ‡ä»¤åªèƒ½åœ¨å†…æ ¸æ€ï¼ˆç‰¹æƒæ€ï¼‰æ‰§è¡Œã€‚</p>
<p>ç°ä»£ CPUï¼ˆå¦‚ x86ã€ARMï¼‰é€šå¸¸æœ‰å¤šä¸ªç‰¹æƒçº§ï¼ˆx86ï¼šRing 0<del>3ï¼›ARMï¼šEL0</del>EL3ï¼‰ï¼Œæ“ä½œç³»ç»Ÿè¿è¡Œåœ¨æœ€é«˜ç‰¹æƒçº§ï¼ˆå¦‚ Ring 0 &#x2F; EL1&#x2F;EL2ï¼‰ï¼Œç”¨æˆ·ç¨‹åºè¿è¡Œåœ¨æœ€ä½ç‰¹æƒçº§ï¼ˆRing 3 &#x2F; EL0ï¼‰ã€‚<br>æŸäº›æ•æ„ŸæŒ‡ä»¤è‹¥å…è®¸ç”¨æˆ·éšæ„æ‰§è¡Œï¼Œå°†å¯¼è‡´ç³»ç»Ÿå´©æºƒæˆ–å®‰å…¨æ¼æ´ï¼Œå› æ­¤è¢«è®¾ä¸ºç‰¹æƒæŒ‡ä»¤ï¼ˆPrivileged Instructionï¼‰ã€‚</p>
<p>é€é¡¹åˆ†æï¼š<br>A. trap æŒ‡ä»¤<br>âœ… å¯åœ¨ç”¨æˆ·æ€æ‰§è¡Œ</p>
<p>trap æ˜¯ä¸»åŠ¨é™·å…¥å†…æ ¸çš„æœºåˆ¶ï¼Œä¾‹å¦‚ï¼š<br>x86ï¼šint 0x80ã€syscall<br>ARMï¼šsvc #0ï¼ˆSupervisor Callï¼‰<br>è¿™äº›æŒ‡ä»¤è®¾è®¡ç›®çš„å°±æ˜¯ä¾›ç”¨æˆ·ç¨‹åºå‘èµ·ç³»ç»Ÿè°ƒç”¨ï¼Œå±äºéç‰¹æƒæŒ‡ä»¤ï¼ˆç”¨æˆ·æ€å¯æ‰§è¡Œï¼Œæ‰§è¡Œåè‡ªåŠ¨åˆ‡æ¢åˆ°å†…æ ¸æ€ï¼‰ã€‚<br>âœ… åˆæ³•ç”¨æˆ·æ€æ“ä½œ<br>B. è·³è½¬æŒ‡ä»¤ï¼ˆå¦‚ jmp, call, retï¼‰<br>âœ… å¯åœ¨ç”¨æˆ·æ€æ‰§è¡Œ</p>
<p>æ§åˆ¶æµè½¬ç§»æ˜¯ç¨‹åºåŸºæœ¬æ“ä½œï¼Œç”¨æˆ·ç¨‹åºå¤§é‡ä½¿ç”¨ã€‚<br>CPU ä¼šæ£€æŸ¥ç›®æ ‡åœ°å€æ˜¯å¦åœ¨ç”¨æˆ·ç©ºé—´ï¼ˆé€šè¿‡æ®µ&#x2F;é¡µä¿æŠ¤ï¼‰ï¼Œä½†æŒ‡ä»¤æœ¬èº«éç‰¹æƒã€‚<br>C. å‹æ ˆæŒ‡ä»¤ï¼ˆå¦‚ push, popï¼‰<br>âœ… å¯åœ¨ç”¨æˆ·æ€æ‰§è¡Œ</p>
<p>æ ˆæ“ä½œæ˜¯å¸¸è§„è®¡ç®—è¡Œä¸ºï¼ˆå‡½æ•°è°ƒç”¨ã€å±€éƒ¨å˜é‡ï¼‰ï¼Œè¿è¡Œäºç”¨æˆ·æ ˆï¼Œæ— éœ€ç‰¹æƒã€‚<br>D. å…³ä¸­æ–­æŒ‡ä»¤ï¼ˆå¦‚ x86 çš„ cli &#x2F; ARM çš„ cpsid iï¼‰<br>âŒ ä¸èƒ½åœ¨ç”¨æˆ·æ€æ‰§è¡Œ</p>
<p>cliï¼ˆClear Interrupt Flagï¼‰ç¦æ­¢ CPU å“åº”å¯å±è”½ä¸­æ–­ï¼ˆå¦‚é”®ç›˜ã€ç½‘å¡ã€æ—¶é’Ÿä¸­æ–­ï¼‰ã€‚<br>è‹¥ç”¨æˆ·ç¨‹åºå¯éšæ„å…³ä¸­æ–­ï¼š<br>ç³»ç»Ÿå°†æ— æ³•å“åº”æ—¶é’Ÿä¸­æ–­ â†’ è°ƒåº¦å™¨å¤±æ•ˆ â†’ å…¶ä»–è¿›ç¨‹æ°¸è¿œå¾—ä¸åˆ° CPUï¼ˆæ‹’ç»æœåŠ¡ï¼‰<br>æ— æ³•å“åº”è®¾å¤‡ä¸­æ–­ â†’ I&#x2F;O åœæ»ã€æ­»æœº<br>å› æ­¤ï¼Œcli &#x2F; sti æ˜¯å…¸å‹çš„ç‰¹æƒæŒ‡ä»¤ï¼Œä»…èƒ½åœ¨ Ring 0ï¼ˆå†…æ ¸æ€ï¼‰æ‰§è¡Œã€‚ç”¨æˆ·æ€æ‰§è¡Œä¼šè§¦å‘**#GPï¼ˆGeneral Protection Faultï¼‰** å¼‚å¸¸ã€‚<br>ğŸ” è¡¥å……ï¼šæ“ä½œç³»ç»Ÿåœ¨ä¸´ç•ŒåŒºä¼šçŸ­æš‚å…³ä¸­æ–­ï¼ˆå¦‚ä¿®æ”¹è°ƒåº¦é˜Ÿåˆ—ï¼‰ï¼Œä½†è¿™æ˜¯å†…æ ¸è¡Œä¸ºï¼›ç”¨æˆ·ç¨‹åºåªèƒ½é€šè¿‡ç³»ç»Ÿè°ƒç”¨é—´æ¥è¯·æ±‚å†…æ ¸å®ŒæˆåŒæ­¥ï¼Œä¸èƒ½è‡ªè¡Œå…³ä¸­æ–­ã€‚</p>
<h1 id="é¢˜ç›®-13"><a href="#é¢˜ç›®-13" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>ä¸‹åˆ—é€‰é¡¹ä¸­ï¼Œä¼šå¯¼è‡´ç”¨æˆ·è¿›ç¨‹ä»ç”¨æˆ·æ€åˆ‡æ¢åˆ°å†…æ ¸æ€çš„æ“ä½œæ˜¯ï¼ˆ ï¼‰ ã€‚(2013)<br>I. æ•´æ•°é™¤ä»¥é›¶ II. sinï¼ˆï¼‰å‡½æ•°è°ƒç”¨ III. read ç³»ç»Ÿè°ƒç”¨<br>A. ä»… Iã€II B. ä»…Iã€III C. ä»… IIã€III D. Iã€II å’Œ III</p>
<h2 id="è§£æ-13"><a href="#è§£æ-13" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>ç­”æ¡ˆï¼šB. ä»… Iã€III</p>
<p>âœ… æ­£ç¡®é€‰é¡¹è§£æï¼š<br>æˆ‘ä»¬é€é¡¹åˆ†ææ¯ä¸ªæ“ä½œæ˜¯å¦ä¼šå¼•èµ·ç”¨æˆ·æ€ â†’ å†…æ ¸æ€çš„åˆ‡æ¢ï¼š</p>
<p>I. æ•´æ•°é™¤ä»¥é›¶<br>â¡ï¸ ä¼šè§¦å‘å¼‚å¸¸ï¼ˆç¡¬ä»¶ä¸­æ–­&#x2F;é™·é˜±ï¼‰ï¼š<br>åœ¨ x86 ç­‰æ¶æ„ä¸­ï¼Œæ•´æ•°é™¤é›¶ä¼šå¼•å‘ #DEï¼ˆDivide Errorï¼‰å¼‚å¸¸ï¼Œè¿™æ˜¯ä¸€ä¸ªåŒæ­¥å¼‚å¸¸ï¼ˆtrap&#x2F;faultï¼‰ï¼Œç”± CPU æ£€æµ‹åˆ°åï¼Œé€šè¿‡ä¸­æ–­æè¿°ç¬¦è¡¨ï¼ˆIDTï¼‰è·³è½¬åˆ°å†…æ ¸çš„å¼‚å¸¸å¤„ç†ç¨‹åºï¼ˆå¦‚ do_divide_errorï¼‰ï¼Œä»è€Œé™·å…¥å†…æ ¸æ€ã€‚<br>â¤ å³ä½¿æœ€ç»ˆè¿›ç¨‹è¢« SIGFPE ä¿¡å·ç»ˆæ­¢ï¼Œä¹Ÿå…ˆç»è¿‡å†…æ ¸æ€å¤„ç†ã€‚<br>âœ… ä¼šå¯¼è‡´ç”¨æˆ·æ€ â†’ å†…æ ¸æ€åˆ‡æ¢</p>
<p>II. sin() å‡½æ•°è°ƒç”¨<br>â¡ï¸ çº¯ç”¨æˆ·æ€åº“å‡½æ•°è°ƒç”¨ï¼ˆå¦‚ glibc çš„ sin()ï¼‰ï¼š</p>
<p>sin() æ˜¯æ•°å­¦åº“å‡½æ•°ï¼ˆlibmï¼‰ï¼Œå…¶å®ç°é€šå¸¸åŸºäºæŸ¥è¡¨ã€å¤šé¡¹å¼é€¼è¿‘ç­‰ç®—æ³•ï¼Œä¸æ¶‰åŠç³»ç»Ÿè°ƒç”¨æˆ–ç¡¬ä»¶å¼‚å¸¸ã€‚<br>å®ƒè¿è¡Œåœ¨ç”¨æˆ·ç©ºé—´ï¼Œç”± CPU ç›´æ¥æ‰§è¡Œæœºå™¨æŒ‡ä»¤ï¼Œæ— éœ€é™·å…¥å†…æ ¸ã€‚<br>âŒ ä¸ä¼šå¯¼è‡´ç”¨æˆ·æ€ â†’ å†…æ ¸æ€åˆ‡æ¢<br>ğŸ“Œ æ³¨ï¼šé™¤é sin() å†…éƒ¨å› æµ®ç‚¹å¼‚å¸¸ï¼ˆå¦‚ NaN è¾“å…¥è§¦å‘ FE_INVALID å¹¶å¯ç”¨ FE_EXCEPTï¼‰è€Œå¼•å‘ä¿¡å·ï¼Œä½†æ ‡å‡†æƒ…å†µä¸‹ sin() æ˜¯â€œå®‰é™â€çš„çº¯è®¡ç®—å‡½æ•°ã€‚</p>
<p>III. read ç³»ç»Ÿè°ƒç”¨<br>â¡ï¸ æ˜ç¡®çš„ç³»ç»Ÿè°ƒç”¨ï¼ˆsyscallï¼‰ï¼š</p>
<p>read(fd, buf, count) æ˜¯ POSIX æ ‡å‡†ç³»ç»Ÿè°ƒç”¨ï¼Œç”¨æˆ·è¿›ç¨‹å¿…é¡»é€šè¿‡è½¯ä¸­æ–­ï¼ˆå¦‚ int 0x80ï¼‰ã€syscall æŒ‡ä»¤ç­‰æ–¹å¼ä¸»åŠ¨é™·å…¥å†…æ ¸ï¼Œç”±å†…æ ¸çš„ sys_read å¤„ç† I&#x2F;O è¯·æ±‚ï¼ˆå¯èƒ½æ¶‰åŠè®¾å¤‡é©±åŠ¨ã€ç¼“å†²åŒºç®¡ç†ç­‰ï¼‰ã€‚<br>âœ… å¿…ç„¶å¯¼è‡´ç”¨æˆ·æ€ â†’ æ ¸æ€åˆ‡æ¢</p>
<h1 id="é¢˜ç›®-14"><a href="#é¢˜ç›®-14" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>è®¡ç®—æœºå¼€æœºåï¼Œæ“ä½œç³»ç»Ÿæœ€ç»ˆè¢«åŠ è½½åˆ°ï¼ˆ ï¼‰ ã€‚(2013)<br>A. BIOS B. ROM C. EPROM D. RAM</p>
<h2 id="è§£æ-14"><a href="#è§£æ-14" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>ç­”æ¡ˆï¼šD. RAM</p>
<p>âœ… æ­£ç¡®ç­”æ¡ˆè§£æï¼š<br>è®¡ç®—æœºå¯åŠ¨è¿‡ç¨‹ç®€è¦å›é¡¾ï¼š<br>ä¸Šç”µ â†’ BIOS&#x2F;UEFI å›ºä»¶è¿è¡Œ<br>å­˜å‚¨åœ¨ä¸»æ¿ä¸Šçš„ ROMï¼ˆç°ä»£å¤šä¸º Flash ROMï¼Œå« BIOS&#x2F;UEFIï¼‰ä¸­<br>æ‰§è¡Œ POSTï¼ˆåŠ ç”µè‡ªæ£€ï¼‰ï¼Œåˆå§‹åŒ–ç¡¬ä»¶<br>BIOS&#x2F;UEFI åŠ è½½å¼•å¯¼ç¨‹åºï¼ˆBootloaderï¼‰<br>ä»ç¡¬ç›˜&#x2F;SSD&#x2F;USB çš„å¼•å¯¼æ‰‡åŒºï¼ˆå¦‚ MBR æˆ– EFI åˆ†åŒºï¼‰è¯»å– bootloaderï¼ˆå¦‚ GRUBã€Windows Boot Managerï¼‰åˆ° RAM ä¸­å¹¶æ‰§è¡Œ<br>Bootloader åŠ è½½æ“ä½œç³»ç»Ÿå†…æ ¸<br>å°† OS å†…æ ¸ï¼ˆå¦‚ vmlinuzã€ntoskrnl.exeï¼‰ä»ç£ç›˜è¯»å…¥ RAM<br>è·³è½¬åˆ°å†…æ ¸å…¥å£ç‚¹ï¼Œå¼€å§‹æ‰§è¡Œ<br>æ“ä½œç³»ç»Ÿè¿è¡Œ<br>å†…æ ¸åˆå§‹åŒ–ï¼Œå»ºç«‹é¡µè¡¨ã€è°ƒåº¦å™¨ã€è®¾å¤‡é©±åŠ¨ç­‰<br>æ‰€æœ‰ä»£ç å’Œæ•°æ®å‡åœ¨ RAM ä¸­æ‰§è¡Œï¼ˆCPU ä¸èƒ½ç›´æ¥ä»ç£ç›˜&#x2F;ROM æ‰§è¡Œå¤æ‚ OSï¼‰</p>
<p>A. BIOS<br>BIOS æ˜¯å›ºä»¶ç¨‹åºæœ¬èº«ï¼Œä¸æ˜¯å­˜å‚¨ä»‹è´¨ï¼›å®ƒè¿è¡Œåå³é€€å‡ºï¼Œä¸â€œå­˜æ”¾â€OS<br>âŒ æ··æ·†æ¦‚å¿µ<br>B. ROM<br>å­˜æ”¾ BIOS&#x2F;UEFIï¼Œåªè¯»ã€å®¹é‡å°ã€é€Ÿåº¦æ…¢ï¼Œæ— æ³•å†™å…¥åŠ¨æ€ OSï¼›ç°ä»£ OS è¿œå¤§äº ROM å®¹é‡<br>âŒ<br>C. EPROM<br>ä¸€ç§å¯æ“¦å†™ ROMï¼Œä»å±éæ˜“å¤±æ€§å­˜å‚¨å™¨ï¼Œç”¨äºå›ºä»¶ï¼Œä¸ç”¨äºè¿è¡Œ OS<br>âŒ<br>âœ… D. RAM<br>ä¸»å­˜ï¼ˆå†…å­˜ï¼‰</p>
<p>ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š<br>ç†è§£è®¡ç®—æœºå¯åŠ¨æµç¨‹ï¼ˆBIOS â†’ Bootloader â†’ OSï¼‰<br>åŒºåˆ†å­˜å‚¨ä»‹è´¨è§’è‰²ï¼š<br>ROM&#x2F;Flashï¼šå­˜æ”¾å›ºä»¶ï¼ˆBIOS&#x2F;UEFIï¼‰<br>Diskï¼šé•¿æœŸå­˜å‚¨ OS æ˜ åƒ<br>RAMï¼šè¿è¡Œæ—¶åŠ è½½ OS å¹¶æ‰§è¡Œçš„å”¯ä¸€åœºæ‰€<br>ğŸ“Œ ç±»æ¯”ï¼š</p>
<p>ROM æ˜¯â€œè¯´æ˜ä¹¦â€ï¼Œç¡¬ç›˜æ˜¯â€œå·¥å…·ç®±â€ï¼Œ<br>RAM æ‰æ˜¯çœŸæ­£å¹²æ´»çš„â€œå·¥ä½œå°â€ â€”â€” æ“ä½œç³»ç»Ÿå¿…é¡»æ‘†ä¸Šå·¥ä½œå°æ‰èƒ½å¼€å·¥ï¼</p>
<h1 id="é¢˜ç›®-15"><a href="#é¢˜ç›®-15" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>ä¸€ä¸ªå¤šé“æ‰¹å¤„ç†ç³»ç»Ÿä¸­ä»…æœ‰P1å’ŒP2ä¸¤ä¸ªä½œä¸šï¼ŒP2æ¯”P1æ™š5msåˆ°è¾¾ã€‚å®ƒä»¬çš„è®¡ç®—å’ŒI&#x2F;Oæ“ä½œé¡ºåºå¦‚ä¸‹ï¼š<br>P1ï¼šè®¡ç®—60msï¼ŒI&#x2F;O80msï¼Œè®¡ç®—20ms P2ï¼šè®¡ç®—120msï¼ŒI&#x2F;O40msï¼Œè®¡ç®—40ms<br>è‹¥ä¸è€ƒè™‘è°ƒåº¦å’Œåˆ‡æ¢æ—¶é—´ï¼Œåˆ™å®Œæˆä¸¤ä¸ªä½œä¸šéœ€è¦çš„æ—¶é—´æœ€å°‘æ˜¯ï¼ˆ ï¼‰ã€‚(2012)<br>A.240ms B.260ms C.340ms D.360ms</p>
<h2 id="è§£æ-15"><a href="#è§£æ-15" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>ç­”æ¡ˆï¼šB. 260ms</p>
<p>âœ… è§£é¢˜æ€è·¯ï¼ˆæ–‡å­—å™è¿°ï¼Œæ— è¡¨æ ¼ï¼‰ï¼š<br>æˆ‘ä»¬æœ‰ä¸¤ä¸ªä½œä¸š P1 å’Œ P2ï¼Œåœ¨å¤šé“æ‰¹å¤„ç†ç³»ç»Ÿä¸­è¿è¡Œã€‚ç³»ç»Ÿå…·å¤‡ï¼š</p>
<p>å• CPUï¼ˆè®¡ç®—å¿…é¡»ä¸²è¡Œï¼‰<br>å• I&#x2F;O è®¾å¤‡ï¼ˆI&#x2F;O æ“ä½œéœ€äº’æ–¥ï¼‰<br>å…³é”®çº¦æŸï¼š</p>
<p>æ¯ä¸ªä½œä¸šå¿…é¡»ä¸¥æ ¼æŒ‰â€œè®¡ç®— â†’ I&#x2F;O â†’ è®¡ç®—â€é¡ºåºæ‰§è¡Œï¼›<br>P2 æ¯” P1 æ™š 5ms åˆ°è¾¾ï¼›<br>ä¸è€ƒè™‘è°ƒåº¦ä¸ä¸Šä¸‹æ–‡åˆ‡æ¢å¼€é”€ï¼›<br>ç›®æ ‡æ˜¯æœ€å°åŒ–æ€»å®Œæˆæ—¶é—´ï¼ˆå³æœ€åä¸€ä¸ªä½œä¸šç»“æŸæ—¶åˆ»ï¼‰ã€‚<br>æ—¶é—´çº¿æ¨æ¼”ï¼ˆæœ€ä¼˜è°ƒåº¦ç­–ç•¥ï¼‰ï¼š<br>0msï¼šP1 åˆ°è¾¾ï¼Œç«‹å³å¼€å§‹ç¬¬ä¸€æ®µè®¡ç®—ï¼ˆ60msï¼‰â†’ 0~60msï¼šP1 è®¡ç®—</p>
<p>5msï¼šP2 åˆ°è¾¾ï¼Œä½† CPU æ­£è¢« P1 å ç”¨ï¼Œåªèƒ½ç­‰å¾…ã€‚</p>
<p>60msï¼šP1 ç¬¬ä¸€æ®µè®¡ç®—å®Œæˆï¼Œç«‹å³è½¬å…¥ I&#x2F;Oï¼ˆ80msï¼‰ï¼Œå ç”¨ I&#x2F;O è®¾å¤‡ â†’ 60<del>140msï¼šP1 I&#x2F;O<br>ä¸æ­¤åŒæ—¶ï¼ŒCPU ç©ºé—² 5msï¼ˆ60</del>65ï¼‰ï¼Ÿä¸ï¼åº”ç«‹åˆ»è°ƒåº¦ P2ï¼š</p>
<p>âš ï¸ æ³¨æ„ï¼šP2 åœ¨ 5ms å·²åˆ°è¾¾ï¼Œ60ms æ—¶ CPU ç©ºå‡ºï¼ŒP2 ç«‹å³å¼€å§‹è®¡ç®—ï¼ˆ120msï¼‰â†’<br>60~180msï¼šP2 è®¡ç®—</p>
<p>æ­¤æ—¶ï¼š</p>
<p>P1 åœ¨ 60<del>140ms åš I&#x2F;O<br>P2 åœ¨ 60</del>180ms åš CPU<br>â†’ CPU ä¸ I&#x2F;O å¹¶è¡Œï¼Œç†æƒ³é‡å <br>140msï¼šP1 çš„ I&#x2F;O å®Œæˆï¼Œä½†å®ƒéœ€è¦è¿›è¡Œç¬¬äºŒæ®µè®¡ç®—ï¼ˆ20msï¼‰ã€‚<br>ä½†æ­¤æ—¶ CPU æ­£è¢« P2 å ç”¨ï¼ˆç›´åˆ° 180msï¼‰ï¼Œæ‰€ä»¥ P1 è¿›å…¥å°±ç»ªé˜Ÿåˆ—ç­‰å¾…ã€‚</p>
<p>180msï¼šP2 è®¡ç®—å®Œæˆï¼Œç«‹å³è¿›å…¥ I&#x2F;Oï¼ˆ40msï¼‰â†’ 180<del>220msï¼šP2 I&#x2F;O<br>åŒæ—¶ï¼ŒCPU ç©ºå‡º â†’ P1 ç«‹å³å¼€å§‹ç¬¬äºŒæ®µè®¡ç®—ï¼ˆ20msï¼‰ â†’ 180</del>200msï¼šP1 è®¡ç®—</p>
<p>200msï¼šP1 å…¨éƒ¨å®Œæˆï¼ˆè®¡ç®—ç»“æŸï¼‰ã€‚</p>
<p>220msï¼šP2 I&#x2F;O å®Œæˆï¼Œè¿›å…¥æœ€åä¸€æ®µè®¡ç®—ï¼ˆ40msï¼‰â†’ 220~260msï¼šP2 è®¡ç®—</p>
<p>260msï¼šP2 å®Œæˆï¼Œå…¨éƒ¨ä½œä¸šç»“æŸã€‚</p>
<p>éªŒè¯èµ„æºå†²çªï¼š<br>CPU ä½¿ç”¨ï¼šP1(0â€“60) â†’ P2(60â€“180) â†’ P1(180â€“200) â†’ P2(220â€“260)<br>æ³¨æ„ï¼š200â€“220ms CPU ç©ºé—²ï¼Ÿçœ‹ä¼¼ç©ºé—²ï¼Œä½†æ— æ³•é¿å…â€”â€”å› ä¸º P2 æ­¤æ—¶ä»åœ¨åš I&#x2F;Oï¼ˆåˆ° 220ms æ‰ç»“æŸï¼‰ï¼Œä¸” P1 å·²å®Œæˆã€‚<br>è‹¥å¼ºè¡Œè®© P2 å…ˆåš I&#x2F;O å†è®© P1 è®¡ç®—ï¼Ÿä¸å¯è¡Œâ€”â€”P2 å¿…é¡»å…ˆå®Œæˆè®¡ç®—æ‰èƒ½è¿›å…¥ I&#x2F;Oï¼ˆé¡ºåºçº¦æŸï¼‰ã€‚<br>I&#x2F;O ä½¿ç”¨ï¼šP1(60â€“140) â†’ P2(180â€“220)ï¼Œä¸­é—´ 140â€“180ms I&#x2F;O ç©ºé—²ï¼Œä½†æ— ä½œä¸šéœ€è¦ I&#x2F;Oï¼ˆP2 è¿˜åœ¨è®¡ç®—ï¼‰ï¼Œåˆç†ã€‚<br>ä¸ºä½•ä¸æ˜¯ 240msï¼ˆAï¼‰ï¼Ÿ<br>æœ‰äººè¯¯ä»¥ä¸ºå®Œå…¨é‡å ï¼š<br>60ï¼ˆP1ç®—ï¼‰+ max(80,120)ï¼ˆP1 I&#x2F;O ä¸ P2 ç®—ï¼‰+ 20ï¼ˆP1ç®—ï¼‰+ max(0,40)ï¼ˆP2 I&#x2F;Oï¼‰+ 40ï¼ˆP2ç®—ï¼‰ï¼Ÿ<br>ä½†å¿½ç•¥äº†ï¼š</p>
<p>P1 ç¬¬äºŒæ®µè®¡ç®—éœ€ç­‰ P2 ç¬¬ä¸€æ®µè®¡ç®—ç»“æŸï¼ˆ180msï¼‰<br>P2 æœ€åä¸€æ®µè®¡ç®—éœ€ç­‰è‡ªèº« I&#x2F;O ç»“æŸï¼ˆ220msï¼‰<br>â†’ å…³é”®è·¯å¾„ï¼š0 â†’ 60 â†’ 180 â†’ 220 â†’ 260<br>âœ… æœ€ç»ˆç­”æ¡ˆï¼šB. 260ms</p>
<h1 id="é¢˜ç›®-16"><a href="#é¢˜ç›®-16" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>ä¸‹åˆ—é€‰é¡¹ä¸­ï¼Œä¸å¯èƒ½åœ¨ç”¨æˆ·æ€å‘ç”Ÿçš„äº‹ä»¶æ˜¯ï¼ˆ ï¼‰ ã€‚(2012)<br>Aï¼ç³»ç»Ÿè°ƒç”¨ Bï¼å¤–éƒ¨ä¸­æ–­ Cï¼è¿›ç¨‹åˆ‡æ¢ Dï¼ç¼ºé¡µ</p>
<h2 id="è§£æ-16"><a href="#è§£æ-16" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>ç­”æ¡ˆï¼šCï¼è¿›ç¨‹åˆ‡æ¢</p>
<p>âœ… è§£æï¼š<br>é¢˜ç›®é—®ï¼šä¸å¯èƒ½åœ¨ç”¨æˆ·æ€å‘ç”Ÿçš„äº‹ä»¶ã€‚<br>å…³é”®æ˜¯ï¼šè¯¥äº‹ä»¶çš„å‘ç”Ÿæ—¶åˆ»æˆ–æ‰§è¡Œä¸»ä½“æ˜¯å¦å¯èƒ½å¤„äºç”¨æˆ·æ€ã€‚</p>
<p>æˆ‘ä»¬é€é¡¹åˆ†æï¼š</p>
<p>Aï¼ç³»ç»Ÿè°ƒç”¨<br>â¡ï¸ å¯ä»¥åœ¨ç”¨æˆ·æ€â€œå‘èµ·â€ã€‚</p>
<p>ç”¨æˆ·ç¨‹åºåœ¨ç”¨æˆ·æ€æ‰§è¡Œ syscall æˆ– int 0x80 æŒ‡ä»¤ï¼Œè§¦å‘ç³»ç»Ÿè°ƒç”¨ï¼›<br>è™½ç„¶å¤„ç†è¿‡ç¨‹åœ¨å†…æ ¸æ€ï¼Œä½†äº‹ä»¶çš„èµ·å§‹ç‚¹ï¼ˆå³ç³»ç»Ÿè°ƒç”¨çš„å‘ç”Ÿï¼‰æ˜¯åœ¨ç”¨æˆ·æ€ä»£ç ä¸­ä¸»åŠ¨å‘èµ·çš„ã€‚<br>âœ… å¯èƒ½åœ¨ç”¨æˆ·æ€å‘ç”Ÿï¼ˆä½œä¸ºèµ·å› ï¼‰<br>Bï¼å¤–éƒ¨ä¸­æ–­<br>â¡ï¸ å¯ä»¥å‘ç”Ÿåœ¨ç”¨æˆ·æ€æ‰§è¡ŒæœŸé—´ã€‚</p>
<p>å¤–éƒ¨ä¸­æ–­ï¼ˆå¦‚æ—¶é’Ÿä¸­æ–­ã€é”®ç›˜è¾“å…¥ã€ç½‘å¡å°±ç»ªï¼‰æ˜¯å¼‚æ­¥äº‹ä»¶ï¼Œå¯åœ¨ CPU æ‰§è¡Œä»»ä½•ç”¨æˆ·æ€æŒ‡ä»¤æ—¶åˆ°æ¥ï¼›<br>ä¸­æ–­å‘ç”Ÿæ—¶ï¼Œè‹¥å½“å‰æ­£åœ¨è¿è¡Œç”¨æˆ·è¿›ç¨‹ï¼Œåˆ™ CPU å¤„äºç”¨æˆ·æ€ï¼Œéšååˆ‡æ¢åˆ°å†…æ ¸æ€å¤„ç†ã€‚<br>âœ… å¯èƒ½åœ¨ç”¨æˆ·æ€æ—¶å‘ç”Ÿï¼ˆä¸­æ–­è¯·æ±‚çš„åˆ°è¾¾æ—¶åˆ»ï¼‰<br>Cï¼è¿›ç¨‹åˆ‡æ¢<br>â¡ï¸ ä¸å¯èƒ½åœ¨ç”¨æˆ·æ€å‘ç”Ÿã€‚</p>
<p>è¿›ç¨‹åˆ‡æ¢ï¼ˆä¸Šä¸‹æ–‡åˆ‡æ¢ï¼‰åŒ…æ‹¬ï¼š<br>ä¿å­˜å½“å‰è¿›ç¨‹çš„ CPU çŠ¶æ€ï¼ˆå¯„å­˜å™¨ã€PC ç­‰ï¼‰<br>æ›´æ–°è°ƒåº¦æ•°æ®ç»“æ„ï¼ˆå¦‚å°±ç»ªé˜Ÿåˆ—ï¼‰<br>åŠ è½½æ–°è¿›ç¨‹çš„ä¸Šä¸‹æ–‡<br>åˆ‡æ¢é¡µè¡¨ï¼ˆCR3ï¼‰<br>è¿™äº›æ“ä½œæ¶‰åŠä¿®æ”¹å†…æ ¸å…³é”®æ•°æ®ç»“æ„å’Œç‰¹æƒå¯„å­˜å™¨ï¼ˆå¦‚ CR3ï¼‰ï¼Œå¿…é¡»åœ¨å†…æ ¸æ€ä¸‹æ‰§è¡Œï¼›<br>ç”¨æˆ·æ€æ— æƒè®¿é—® TCBã€è°ƒåº¦é˜Ÿåˆ—ï¼Œä¹Ÿä¸èƒ½ç›´æ¥ä¿®æ”¹å†…æ ¸æ ˆæˆ–é¡µè¡¨ã€‚<br>å³ä½¿è°ƒåº¦ç”±æ—¶é’Ÿä¸­æ–­è§¦å‘ï¼Œå®é™…çš„ switch_to() ä»£ç æ€»æ˜¯åœ¨å†…æ ¸æ€æ‰§è¡Œï¼ˆå¦‚ Linux çš„ schedule() å‡½æ•°ï¼‰ã€‚<br>âŒ ä¸å¯èƒ½åœ¨ç”¨æˆ·æ€å‘ç”Ÿ â†’ æ­£ç¡®ç­”æ¡ˆ<br>Dï¼ç¼ºé¡µ<br>â¡ï¸ å¯ä»¥ç”±ç”¨æˆ·æ€æŒ‡ä»¤è§¦å‘ã€‚</p>
<p>ç¼ºé¡µå¼‚å¸¸ï¼ˆPage Faultï¼‰å‘ç”Ÿåœ¨ç”¨æˆ·ç¨‹åºæ‰§è¡Œè®¿å­˜æŒ‡ä»¤æ—¶ï¼ˆå¦‚ mov (%rax), %rbxï¼‰ï¼ŒMMU å‘ç°é¡µæœªåŠ è½½ï¼›<br>æ­¤æ—¶ CPU å¤„äºç”¨æˆ·æ€ï¼Œéšåé™·å…¥å†…æ ¸å¤„ç†ï¼›<br>äº‹ä»¶çš„è§¦å‘ç‚¹åœ¨ç”¨æˆ·æ€ã€‚<br>âœ… å¯èƒ½åœ¨ç”¨æˆ·æ€å‘ç”Ÿ<br>ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š<br>åŒºåˆ† â€œäº‹ä»¶è§¦å‘â€ vs â€œäº‹ä»¶å¤„ç†â€ï¼š<br>ç³»ç»Ÿè°ƒç”¨ã€ç¼ºé¡µã€ä¸­æ–­ï¼šè§¦å‘äºç”¨æˆ·æ€ï¼Œå¤„ç†äºå†…æ ¸æ€<br>è¿›ç¨‹åˆ‡æ¢ï¼šè§¦å‘å¯èƒ½æºäºç”¨æˆ·æ€äº‹ä»¶ï¼ˆå¦‚ç³»ç»Ÿè°ƒç”¨é˜»å¡ã€æ—¶é’Ÿä¸­æ–­ï¼‰ï¼Œä½†åˆ‡æ¢åŠ¨ä½œæœ¬èº«åªèƒ½åœ¨å†…æ ¸æ€æ‰§è¡Œ<br>è¿›ç¨‹åˆ‡æ¢æ˜¯å†…æ ¸çš„æ ¸å¿ƒæ“ä½œï¼Œæ¶‰åŠç‰¹æƒæŒ‡ä»¤ä¸æ•æ„Ÿæ•°æ®ï¼Œç”¨æˆ·æ€æ— æ³•å®Œæˆã€‚<br>ğŸ’¡ ç±»æ¯”ï¼š<br>ç”¨æˆ·å¯ä»¥â€œæŒ‰ç”µæ¢¯æŒ‰é’®â€ï¼ˆè§¦å‘äº‹ä»¶ï¼‰ï¼Œä½†â€œç”µæ¢¯æ¢å±‚â€ï¼ˆåˆ‡æ¢ï¼‰åªèƒ½ç”±ç”µæ¢¯æ§åˆ¶ç³»ç»Ÿï¼ˆå†…æ ¸ï¼‰å®Œæˆã€‚</p>
<h1 id="é¢˜ç›®-17"><a href="#é¢˜ç›®-17" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>ä¸­æ–­å¤„ç†å’Œå­ç¨‹åºè°ƒç”¨éƒ½éœ€è¦å‹æ ˆä»¥ä¿æŠ¤ç°åœºï¼Œä¸­æ–­å¤„ç†ä¸€å®šä¼šä¿å­˜è€Œå­ç¨‹åºè°ƒç”¨ä¸éœ€è¦ä¿å­˜å…¶å†…å®¹çš„æ˜¯<br>ï¼ˆ ï¼‰ ã€‚(2012)<br>Aï¼ç¨‹åºè®¡æ•°å™¨ Bï¼ç¨‹åºçŠ¶æ€å­—å¯„å­˜å™¨ Cï¼é€šç”¨æ•°æ®å¯„å­˜å™¨ Dï¼é€šç”¨åœ°å€å¯„å­˜å™¨</p>
<h2 id="è§£æ-17"><a href="#è§£æ-17" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>ç­”æ¡ˆï¼šBï¼ç¨‹åºçŠ¶æ€å­—å¯„å­˜å™¨</p>
<p>âœ… è§£æï¼š<br>æœ¬é¢˜è€ƒå¯Ÿ ä¸­æ–­å¤„ç†ä¸å­ç¨‹åºè°ƒç”¨åœ¨â€œä¿æŠ¤ç°åœºâ€ä¸Šçš„å…³é”®åŒºåˆ«ã€‚</p>
<p>ä¸¤è€…éƒ½ä¼šè¿›è¡Œå‹æ ˆï¼ˆä¿å­˜ä¸Šä¸‹æ–‡ï¼‰ï¼Œä½†ä¿å­˜çš„å†…å®¹æœ‰å·®å¼‚ï¼Œæ ¸å¿ƒåœ¨äºï¼š</p>
<p>å­ç¨‹åºè°ƒç”¨ æ˜¯ç¨‹åºä¸»åŠ¨ã€é¢„æœŸçš„æ§åˆ¶è½¬ç§»ï¼Œå‘ç”Ÿåœ¨å½“å‰ç‰¹æƒçº§å†…ï¼ˆå¦‚åŒåœ¨ç”¨æˆ·æ€è°ƒç”¨å‡½æ•°ï¼‰ï¼›<br>ä¸­æ–­å¤„ç† æ˜¯å¼‚æ­¥ã€éé¢„æœŸçš„æ§åˆ¶è½¬ç§»ï¼Œå¯èƒ½è·¨ç‰¹æƒçº§ï¼ˆå¦‚ç”¨æˆ·æ€ â†’ å†…æ ¸æ€ï¼‰ï¼Œä¸”ä¸­æ–­å‘ç”Ÿæ—¶ CPU çŠ¶æ€ï¼ˆå°¤å…¶æ˜¯æ ‡å¿—ä½ï¼‰å¯¹åç»­æ¢å¤è‡³å…³é‡è¦ã€‚<br>å„é€‰é¡¹åˆ†æï¼š<br>Aï¼ç¨‹åºè®¡æ•°å™¨ï¼ˆPC &#x2F; RIP &#x2F; EIPï¼‰<br>âœ… å­ç¨‹åºè°ƒç”¨éœ€ä¿å­˜ï¼šcall æŒ‡ä»¤ä¼šè‡ªåŠ¨å°†è¿”å›åœ°å€ï¼ˆä¸‹ä¸€æ¡æŒ‡ä»¤åœ°å€ï¼‰å‹æ ˆï¼›<br>âœ… ä¸­æ–­ä¹Ÿéœ€ä¿å­˜ï¼šCPU ç¡¬ä»¶è‡ªåŠ¨å°†æ–­ç‚¹åœ°å€å‹æ ˆï¼›<br>â†’ ä¸¤è€…éƒ½ä¿å­˜ï¼Œä¸æ˜¯åŒºåˆ«ç‚¹ã€‚<br>Bï¼ç¨‹åºçŠ¶æ€å­—å¯„å­˜å™¨ï¼ˆPSWï¼Œå¦‚ x86 çš„ RFLAGS &#x2F; EFLAGSï¼‰<br>âœ… ä¸­æ–­å¤„ç†ä¸€å®šä¼šä¿å­˜ï¼š<br>PSW åŒ…å«å…³é”®æ ‡å¿—ä½ï¼šIFï¼ˆä¸­æ–­å…è®¸ï¼‰ã€TFï¼ˆå•æ­¥ï¼‰ã€ZF&#x2F;SF&#x2F;CF ç­‰ï¼›<br>ä¸­æ–­å‘ç”Ÿæ—¶ï¼Œå¿…é¡»ä¿å­˜ å½“æ—¶çš„ FLAGSï¼Œä»¥ä¾¿è¿”å›åæ¢å¤ç²¾ç¡®çš„æ‰§è¡Œç¯å¢ƒï¼›<br>x86 ä¸­ï¼Œint&#x2F;å¼‚å¸¸&#x2F;ä¸­æ–­å‘ç”Ÿæ—¶ï¼ŒCPU ç¡¬ä»¶è‡ªåŠ¨å°† RFLAGS å‹æ ˆï¼›<br>âŒ å­ç¨‹åºè°ƒç”¨é€šå¸¸ä¸éœ€è¦ä¿å­˜ï¼š<br>call&#x2F;ret æŒ‡ä»¤ä¸ä¿å­˜ FLAGSï¼›<br>æ™®é€šå‡½æ•°è°ƒç”¨çº¦å®šï¼ˆå¦‚ System V ABIï¼‰ä¸è´Ÿè´£ä¿æŠ¤æ ‡å¿—å¯„å­˜å™¨â€”â€”ç”±è°ƒç”¨è€…æˆ–è¢«è°ƒç”¨è€…æŒ‰éœ€ç”¨ pushf&#x2F;popf æ˜¾å¼ä¿å­˜ï¼ˆéå¸¸è§„ï¼‰ï¼›<br>å¤§å¤šæ•°è®¡ç®—ç±»å‡½æ•°ä¸ä¼šæ”¹å˜&#x2F;ä¾èµ– FLAGSï¼Œæ•…é»˜è®¤ä¸ä¿å­˜ã€‚<br>âœ… è¿™æ˜¯ä¸­æ–­å¤„ç†â€œä¸€å®šä¼šä¿å­˜â€ï¼Œè€Œå­ç¨‹åºè°ƒç”¨â€œé€šå¸¸ä¸éœ€è¦ä¿å­˜â€çš„å…³é”®é¡¹ã€‚</p>
<p>Cï¼é€šç”¨æ•°æ®å¯„å­˜å™¨ï¼ˆå¦‚ RAX, RBXâ€¦ï¼‰<br>ä¸¤è€…éƒ½ä¸ä¸€å®šç”±ç¡¬ä»¶è‡ªåŠ¨ä¿å­˜ï¼›é€šå¸¸ç”±è½¯ä»¶çº¦å®šï¼š<br>å­ç¨‹åºè°ƒç”¨ï¼šè°ƒç”¨è€…&#x2F;è¢«è°ƒç”¨è€…æŒ‰ ABI åè®®å†³å®šæ˜¯å¦ä¿å­˜ï¼ˆå¦‚ RBX, RBP æ˜¯ callee-savedï¼‰ï¼›<br>ä¸­æ–­å¤„ç†ï¼šå†…æ ¸ä¸­æ–­æœåŠ¡ç¨‹åºï¼ˆISRï¼‰å¼€å¤´ä¼šæ˜¾å¼ä¿å­˜ç”¨åˆ°çš„é€šç”¨å¯„å­˜å™¨ï¼›<br>â†’ éç¡¬ä»¶å¼ºåˆ¶å·®å¼‚ã€‚<br>Dï¼é€šç”¨åœ°å€å¯„å­˜å™¨ï¼ˆå¦‚ RSI, RDIâ€¦ï¼‰<br>åŒä¸Šï¼Œå±äºé€šç”¨å¯„å­˜å™¨å­é›†ï¼Œä¿å­˜ç­–ç•¥åŒ Cï¼Œæ— æœ¬è´¨åŒºåˆ«ã€‚<br>ğŸ¯ æ ¸å¿ƒè€ƒç‚¹ï¼š<br>ä¸­æ–­æ˜¯å¼‚æ­¥äº‹ä»¶ï¼Œå¿…é¡»å®Œæ•´ä¿å­˜æ•´ä¸ªå¤„ç†å™¨çŠ¶æ€ï¼ˆå« PSWï¼‰ï¼Œä»¥ä¿è¯é€æ˜æ¢å¤ï¼›<br>å­ç¨‹åºè°ƒç”¨æ˜¯åŒæ­¥æ§åˆ¶æµï¼Œä»…éœ€ä¿å­˜è¿”å›åœ°å€å’ŒæŒ‰éœ€ä¿å­˜éƒ¨åˆ†å¯„å­˜å™¨ï¼Œæ ‡å¿—ä½å¸¸è¢«å¿½ç•¥ï¼›<br>PSW ä¸­çš„ IFï¼ˆä¸­æ–­å…è®¸ä½ï¼‰å°¤ä¸ºå…³é”®ï¼šä¸­æ–­å¤„ç†å‰éœ€å…³ä¸­æ–­ï¼ˆCLIï¼‰ï¼Œä½†è¿”å›å‰å¿…é¡»æ¢å¤åŸ IF çŠ¶æ€â€”â€”è¿™ä¾èµ–äºå¯¹ PSW çš„ä¿å­˜ä¸è¿˜åŸã€‚<br>ğŸ”” x86 å®ä¾‹ï¼š<br>æ‰§è¡Œ int 0x80 æ—¶ï¼ŒCPU è‡ªåŠ¨å‹æ ˆï¼šSS, RSP, RFLAGS, CS, RIP<br>è€Œ call func åªå‹æ ˆï¼šRIPï¼ˆè¿”å›åœ°å€ï¼‰</p>
<h1 id="é¢˜ç›®-18"><a href="#é¢˜ç›®-18" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>ä¸‹åˆ—ä¸ä¸­æ–­ç›¸å…³çš„æ“ä½œä¸­ï¼Œç”±æ“ä½œç³»ç»Ÿå®Œæˆçš„æ˜¯ï¼ˆ ï¼‰ã€‚(2020)<br>I. ä¿å­˜è¢«ä¸­æ–­ç¨‹åºçš„ä¸­æ–­ç‚¹ II. æä¾›ä¸­æ–­æœåŠ¡<br>III. åˆå§‹åŒ–ä¸­æ–­å‘é‡è¡¨ IV. ä¿å­˜ä¸­æ–­å±è”½å­—<br>A. Iï¼ŒII B. Iï¼ŒIIï¼ŒIV C. IIIï¼ŒIV D. IIï¼ŒIIIï¼ŒIV</p>
<h2 id="è§£æ-18"><a href="#è§£æ-18" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>ç­”æ¡ˆï¼šD. IIï¼ŒIIIï¼ŒIV</p>
<p>âœ… æ­£ç¡®è§£æï¼š<br>æœ¬é¢˜è€ƒå¯Ÿ ä¸­æ–­å¤„ç†è¿‡ç¨‹ä¸­è½¯ç¡¬ä»¶åˆ†å·¥ï¼Œå…³é”®æ˜¯åŒºåˆ†å“ªäº›ç”± ç¡¬ä»¶è‡ªåŠ¨å®Œæˆï¼Œå“ªäº›ç”± æ“ä½œç³»ç»Ÿï¼ˆè½¯ä»¶ï¼‰è´Ÿè´£ã€‚</p>
<p>æˆ‘ä»¬é€é¡¹åˆ†æï¼š</p>
<p>I. ä¿å­˜è¢«ä¸­æ–­ç¨‹åºçš„ä¸­æ–­ç‚¹<br>âŒ ç”±ç¡¬ä»¶è‡ªåŠ¨å®Œæˆï¼Œä¸æ˜¯æ“ä½œç³»ç»Ÿåšçš„ã€‚</p>
<p>â€œä¸­æ–­ç‚¹â€æŒ‡è¢«ä¸­æ–­æŒ‡ä»¤çš„ä¸‹ä¸€æ¡æŒ‡ä»¤åœ°å€ï¼ˆè¿”å›åœ°å€ï¼‰ã€‚<br>å½“ä¸­æ–­&#x2F;å¼‚å¸¸å‘ç”Ÿæ—¶ï¼ŒCPU ç¡¬ä»¶è‡ªåŠ¨å°†ç¨‹åºè®¡æ•°å™¨ï¼ˆPC&#x2F;EIP&#x2F;RIPï¼‰å‹å…¥æ ˆï¼ˆç”¨æˆ·æ ˆæˆ–å†…æ ¸æ ˆï¼Œå–å†³äºç‰¹æƒçº§åˆ‡æ¢ï¼‰ï¼›<br>ä¾‹å¦‚ x86 åœ¨ä¸­æ–­æ—¶è‡ªåŠ¨å‹æ ˆï¼šRIP, CS, RFLAGS ç­‰ã€‚<br>â†’ OS æ— éœ€ä¹Ÿä¸åº”è¯¥å¹²é¢„æ­¤è¿‡ç¨‹ã€‚<br>II. æä¾›ä¸­æ–­æœåŠ¡<br>âœ… ç”±æ“ä½œç³»ç»Ÿå®Œæˆã€‚</p>
<p>ä¸­æ–­æœåŠ¡ç¨‹åºï¼ˆISR, Interrupt Service Routineï¼‰æ˜¯æ“ä½œç³»ç»Ÿç¼–å†™å¹¶æ³¨å†Œçš„å†…æ ¸å‡½æ•°ï¼Œå¦‚ï¼š<br>æ—¶é’Ÿä¸­æ–­å¤„ç†å‡½æ•°ï¼ˆæ›´æ–° jiffiesã€è°ƒåº¦ tickï¼‰<br>é”®ç›˜ä¸­æ–­å¤„ç†ï¼ˆè¯»æ‰«æç ã€æ”¾å…¥è¾“å…¥ç¼“å†²åŒºï¼‰<br>ç½‘å¡ä¸­æ–­ï¼ˆæ”¶åŒ…ã€è½¯ä¸­æ–­è§¦å‘ï¼‰<br>ç¡¬ä»¶åªè´Ÿè´£è·³è½¬åˆ° ISR å…¥å£ï¼Œå…·ä½“æœåŠ¡é€»è¾‘å®Œå…¨ç”± OS å®ç°ã€‚<br>III. åˆå§‹åŒ–ä¸­æ–­å‘é‡è¡¨<br>âœ… ç”±æ“ä½œç³»ç»Ÿå®Œæˆã€‚</p>
<p>ä¸­æ–­å‘é‡è¡¨ï¼ˆInterrupt Vector Table, IVTï¼‰æˆ–ä¸­æ–­æè¿°ç¬¦è¡¨ï¼ˆIDTï¼Œåœ¨ä¿æŠ¤æ¨¡å¼ä¸‹ï¼‰å­˜å‚¨å„ä¸­æ–­å·å¯¹åº”çš„å¤„ç†ç¨‹åºå…¥å£åœ°å€ï¼›<br>BIOS&#x2F;UEFI åªæä¾›åˆå§‹ç®€å•è®¾ç½®ï¼ˆå¦‚å®æ¨¡å¼ IVTï¼‰ï¼Œè¿›å…¥ä¿æŠ¤&#x2F;é•¿æ¨¡å¼åï¼ŒOS å¯åŠ¨æ—©æœŸï¼ˆå¦‚ setup_idt()ï¼‰å¿…é¡»é‡æ–°åˆå§‹åŒ– IDTï¼Œå¡«å…¥è‡ªå·±çš„ ISR åœ°å€ï¼›<br>è‹¥ OS ä¸åšæ­¤å·¥ä½œï¼Œä¸­æ–­å°†è·³è½¬åˆ°é”™è¯¯åœ°å€æˆ–é»˜è®¤ BIOS å¤„ç†å™¨ï¼Œæ— æ³•æ”¯æŒç°ä»£åŠŸèƒ½ã€‚<br>IV. ä¿å­˜ä¸­æ–­å±è”½å­—<br>âœ… ç”±æ“ä½œç³»ç»Ÿåœ¨ä¸­æ–­å¤„ç†ä¸­å®Œæˆã€‚</p>
<p>â€œä¸­æ–­å±è”½å­—â€æŒ‡æ§åˆ¶å“ªäº›ä¸­æ–­è¢«å±è”½çš„å¯„å­˜å™¨çŠ¶æ€ï¼Œå¦‚ x86 çš„ EFLAGS.IF ä½ï¼Œæˆ–ä¸­æ–­æ§åˆ¶å™¨ï¼ˆå¦‚ APIC&#x2F;8259Aï¼‰çš„å±è”½å¯„å­˜å™¨ï¼ˆIMRï¼‰ï¼›<br>ç¡¬ä»¶åœ¨è¿›å…¥ä¸­æ–­æ—¶ä¼šè‡ªåŠ¨æ¸… IFï¼ˆå…³ä¸­æ–­ï¼‰ï¼Œä½†ï¼š<br>OS åœ¨è°ƒåº¦ä¸´ç•ŒåŒºã€åµŒå¥—ä¸­æ–­ç®¡ç†æ—¶ï¼Œéœ€æ˜¾å¼ä¿å­˜&#x2F;æ¢å¤ä¸­æ–­å±è”½çŠ¶æ€ï¼›<br>ä¾‹å¦‚ Linux çš„ local_irq_save(flags) ä¼šä¿å­˜ flagsï¼ˆå« IFï¼‰ï¼Œä¹‹å local_irq_restore(flags) æ¢å¤ï¼›<br>å¯¹äºå¯å±è”½ä¸­æ–­æ§åˆ¶å™¨ï¼ˆå¦‚ 8259Aï¼‰ï¼ŒOS ä¹Ÿå¯èƒ½åŠ¨æ€ä¿®æ”¹ IMRï¼Œå¹¶éœ€ä¿å­˜ä¸Šä¸‹æ–‡ã€‚<br>â†’ å±äºæ“ä½œç³»ç»Ÿä¸ºå®ç°æ­£ç¡®ä¸­æ–­åµŒå¥—ä¸åŒæ­¥è€Œåšçš„è½¯ä»¶ç®¡ç†ã€‚<br>ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š<br>ç¡¬ä»¶è´Ÿè´£ï¼šä¸­æ–­æ£€æµ‹ã€ç‰¹æƒçº§åˆ‡æ¢ã€è‡ªåŠ¨ä¿å­˜å…³é”®å¯„å­˜å™¨ï¼ˆPCã€PSWã€æ ˆæŒ‡é’ˆç­‰ï¼‰<br>æ“ä½œç³»ç»Ÿè´Ÿè´£ï¼š<br>å»ºç«‹ä¸­æ–­å“åº”æ¡†æ¶ï¼ˆåˆå§‹åŒ– IDT&#x2F;IVTï¼‰<br>ç¼–å†™å…·ä½“ä¸­æ–­æœåŠ¡é€»è¾‘<br>ç®¡ç†ä¸­æ–­å±è”½ä¸åµŒå¥—ï¼ˆè½¯ä»¶å±‚é¢çš„çŠ¶æ€ä¿å­˜ä¸æ¢å¤ï¼‰<br>æ˜“é”™ç‚¹ï¼šè¯¯ä»¥ä¸ºâ€œä¿å­˜ä¸­æ–­ç‚¹â€æ˜¯ OS åšçš„â€”â€”å®é™…æ˜¯ CPU å¾®ç ç¡¬è¿çº¿è¡Œä¸ºã€‚</p>
<h1 id="é¢˜ç›®-19"><a href="#é¢˜ç›®-19" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>ä¸‹åˆ—å…³äºç³»ç»Ÿè°ƒç”¨çš„å™è¿°ä¸­ï¼Œæ­£ç¡®çš„æ˜¯ï¼ˆ ï¼‰ã€‚(2019)<br>I.åœ¨æ‰§è¡Œç³»ç»Ÿè°ƒç”¨æœåŠ¡ç¨‹åºçš„è¿‡ç¨‹ä¸­ï¼ŒCPUå¤„äºå†…æ ¸æ€<br>â…¡.æ“ä½œç³»ç»Ÿé€šè¿‡æä¾›ç³»ç»Ÿè°ƒç”¨é¿å…ç”¨æˆ·ç¨‹åºç›´æ¥è®¿é—®å¤–è®¾<br>â…¢.ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸ºåº”ç”¨ç¨‹åºæä¾›äº†ç»Ÿä¸€çš„ç³»ç»Ÿè°ƒç”¨æ¥å£<br>IV.ç³»ç»Ÿè°ƒç”¨æ˜¯æ“ä½œç³»ç»Ÿå†…æ ¸ä¸ºåº”ç”¨ç¨‹åºæä¾›æœåŠ¡çš„æ¥å£<br>A.ä»…Iã€IV B.ä»…IIã€III C.ä»…Iã€â…¡ã€IV D.ä»…Iã€â…¢ã€â…£</p>
<h2 id="è§£æ-19"><a href="#è§£æ-19" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>ç­”æ¡ˆï¼šC. ä»… Iã€â…¡ã€IV</p>
<p>âœ… é€é¡¹è§£æï¼š<br>I. åœ¨æ‰§è¡Œç³»ç»Ÿè°ƒç”¨æœåŠ¡ç¨‹åºçš„è¿‡ç¨‹ä¸­ï¼ŒCPU å¤„äºå†…æ ¸æ€<br>âœ… æ­£ç¡®ã€‚</p>
<p>ç³»ç»Ÿè°ƒç”¨é€šè¿‡ syscall &#x2F; int 0x80 ç­‰æŒ‡ä»¤è§¦å‘é™·å…¥ï¼ˆtrapï¼‰ï¼ŒCPU è‡ªåŠ¨åˆ‡æ¢åˆ°å†…æ ¸æ€ï¼›<br>å†…æ ¸çš„ç³»ç»Ÿè°ƒç”¨åˆ†å‘å™¨ï¼ˆå¦‚ entry_SYSCALL_64ï¼‰éšåè°ƒç”¨å¯¹åº”çš„æœåŠ¡ä¾‹ç¨‹ï¼ˆå¦‚ sys_readï¼‰ï¼Œæ•´ä¸ªè¿‡ç¨‹åœ¨å†…æ ¸æ€æ‰§è¡Œï¼›<br>è¿”å›ç”¨æˆ·æ€å‰ï¼ˆå¦‚ sysretï¼‰æ‰åˆ‡æ¢å›å»ã€‚<br>II. æ“ä½œç³»ç»Ÿé€šè¿‡æä¾›ç³»ç»Ÿè°ƒç”¨é¿å…ç”¨æˆ·ç¨‹åºç›´æ¥è®¿é—®å¤–è®¾<br>âœ… æ­£ç¡®ã€‚</p>
<p>ç›´æ¥è®¿é—®å¤–è®¾ï¼ˆå¦‚ in&#x2F;out æŒ‡ä»¤ã€MMIO åœ°å€ï¼‰æ˜¯ç‰¹æƒæ“ä½œï¼Œç”¨æˆ·æ€æ‰§è¡Œä¼šè§¦å‘ä¿æŠ¤å¼‚å¸¸ï¼›<br>æ‰€æœ‰è®¾å¤‡è®¿é—®å¿…é¡»é€šè¿‡ç³»ç»Ÿè°ƒç”¨ï¼ˆå¦‚ read&#x2F;write&#x2F;ioctlï¼‰è¿›å…¥å†…æ ¸ï¼Œç”±é©±åŠ¨ç¨‹åºä»£ä¸ºæ“ä½œï¼›<br>è¿™ä¿éšœäº†å®‰å…¨æ€§ï¼ˆé˜²æ¶æ„ç¨‹åºç ´åç¡¬ä»¶ï¼‰ã€ç¨³å®šæ€§ï¼ˆé˜²å†²çªè®¿é—®ï¼‰ã€å¯ç§»æ¤æ€§ï¼ˆæŠ½è±¡è®¾å¤‡å·®å¼‚ï¼‰ã€‚<br>III. ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸ºåº”ç”¨ç¨‹åºæä¾›äº†ç»Ÿä¸€çš„ç³»ç»Ÿè°ƒç”¨æ¥å£<br>âŒ é”™è¯¯ã€‚</p>
<p>ç³»ç»Ÿè°ƒç”¨æ¥å£é«˜åº¦ä¾èµ–å…·ä½“ OS å®ç°ï¼š<br>Linux ä½¿ç”¨ sys_call_tableï¼Œè°ƒç”¨å·å¦‚ __NR_read &#x3D; 0<br>Windows ä½¿ç”¨ ntdll.dll â†’ syscall â†’ å†…æ ¸ NtReadFile<br>macOSï¼ˆBSD å±‚ï¼‰ç³»ç»Ÿè°ƒç”¨å·ä¸ Linux ä¸åŒ<br>å³ä½¿åŒå± POSIXï¼Œç³»ç»Ÿè°ƒç”¨ç¼–å·ã€å‚æ•°ä¼ é€’æ–¹å¼ã€å†…éƒ¨è¡Œä¸ºä¹Ÿå¯èƒ½ä¸åŒï¼›<br>â€œç»Ÿä¸€æ¥å£â€æ˜¯åº“å±‚é¢ï¼ˆå¦‚ glibc å®ç° POSIX APIï¼‰çš„åŠªåŠ›ï¼Œéç³»ç»Ÿè°ƒç”¨æœ¬èº«ç»Ÿä¸€ã€‚<br>â†’ æœ¬é¡¹é”™è¯¯ã€‚<br>IV. ç³»ç»Ÿè°ƒç”¨æ˜¯æ“ä½œç³»ç»Ÿå†…æ ¸ä¸ºåº”ç”¨ç¨‹åºæä¾›æœåŠ¡çš„æ¥å£<br>âœ… æ­£ç¡®ã€‚</p>
<p>è¿™æ˜¯ç³»ç»Ÿè°ƒç”¨çš„æ ‡å‡†å®šä¹‰ï¼š<br>â€œSystem calls are the fundamental interface between a process and the kernel.â€<br>â€”â€” Operating System Concepts (Silberschatz)</p>
<p>åº”ç”¨ç¨‹åºé€šè¿‡ç³»ç»Ÿè°ƒç”¨è¯·æ±‚å†…æ ¸æœåŠ¡ï¼šæ–‡ä»¶æ“ä½œã€è¿›ç¨‹æ§åˆ¶ã€é€šä¿¡ã€æ—¶é—´ç­‰ã€‚<br>âœ… æ­£ç¡®é¡¹ï¼šIã€IIã€IV<br>â†’ å¯¹åº”é€‰é¡¹ C</p>
<p>ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š<br>ç³»ç»Ÿè°ƒç”¨çš„æ ¸å¿ƒç‰¹å¾ï¼šå†…æ ¸æ€æ‰§è¡Œã€å®‰å…¨éš”ç¦»ã€å†…æ ¸æœåŠ¡å…¥å£<br>åŒºåˆ† ç³»ç»Ÿè°ƒç”¨ï¼ˆsyscallï¼‰ ä¸ APIï¼ˆå¦‚ POSIXï¼‰ï¼š<br>ç³»ç»Ÿè°ƒç”¨æ˜¯ OS ç‰¹å®šçš„åº•å±‚æœºåˆ¶ï¼›<br>API æ˜¯æ ‡å‡†åŒ–çš„ç¼–ç¨‹æ¥å£ï¼Œå¯è·¨å¹³å°ï¼ˆé€šè¿‡ä¸åŒ syscall å®ç°ï¼‰ï¼›<br>â€œç»Ÿä¸€æ¥å£â€æ˜¯åº“&#x2F;æ ‡å‡†ï¼ˆå¦‚ POSIXã€C æ ‡å‡†åº“ï¼‰çš„ç›®æ ‡ï¼Œé syscall æœ¬èº«çš„å±æ€§ã€‚<br>âœ… æ­£ç¡®ç­”æ¡ˆï¼šC. ä»… Iã€â…¡ã€IV</p>
<h1 id="é¢˜ç›®-20"><a href="#é¢˜ç›®-20" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>ä¸‹åˆ—å…³äºå¤šä»»åŠ¡æ“ä½œç³»ç»Ÿçš„å™è¿°ä¸­ï¼Œæ­£ç¡®çš„ï¼ˆ ï¼‰ã€‚(2018)<br>â… .å…·æœ‰å¹¶å‘å’Œå¹¶è¡Œçš„ç‰¹ç‚¹ â…¡.éœ€è¦å®ç°å¯¹å…±äº«èµ„æºçš„ä¿æŠ¤ â…¢.éœ€è¦è¿è¡Œåœ¨å¤šCPUçš„ç¡¬ä»¶å¹³å°ä¸Š<br>A.ä»…â…  B.ä»…â…¡ C.ä»…â… ã€â…¡ D.â… ã€â…¡ã€â…¢</p>
<h2 id="è§£æ-20"><a href="#è§£æ-20" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>ç­”æ¡ˆï¼šC. ä»…â… ã€â…¡</p>
<p>âœ… é€é¡¹è§£æï¼š<br>â… . å…·æœ‰å¹¶å‘å’Œå¹¶è¡Œçš„ç‰¹ç‚¹<br>âœ… æ­£ç¡®ï¼ˆéœ€æ³¨æ„æœ¯è¯­åŒºåˆ†ï¼‰ï¼š</p>
<p>å¹¶å‘ï¼ˆConcurrencyï¼‰ï¼šæŒ‡å®è§‚ä¸Šå¤šä¸ªä»»åŠ¡â€œåŒæ—¶æ¨è¿›â€ï¼Œå¾®è§‚ä¸Šå¯èƒ½äº¤æ›¿æ‰§è¡Œï¼ˆå• CPU é€šè¿‡æ—¶é—´ç‰‡è½®è½¬å®ç°ï¼‰ï¼›<br>å¹¶è¡Œï¼ˆParallelismï¼‰ï¼šæŒ‡å¾®è§‚ä¸Šå¤šä¸ªä»»åŠ¡çœŸæ­£åŒæ—¶æ‰§è¡Œï¼ˆéœ€å¤šæ ¸&#x2F;å¤š CPUï¼‰ï¼›<br>å¤šä»»åŠ¡æ“ä½œç³»ç»Ÿä¸€å®šæ”¯æŒå¹¶å‘ï¼›è‹¥è¿è¡Œåœ¨å¤šæ ¸å¹³å°ä¸Šï¼Œä¹Ÿèƒ½æ”¯æŒå¹¶è¡Œï¼›<br>é¢˜å¹²è¯´â€œå…·æœ‰å¹¶å‘å’Œå¹¶è¡Œçš„ç‰¹ç‚¹â€ï¼Œåº”ç†è§£ä¸ºâ€œå…·å¤‡æ”¯æŒä¸¤è€…çš„èƒ½åŠ›â€ï¼Œè€Œéâ€œå¿…é¡»åŒæ—¶å‘ç”Ÿâ€ã€‚ç°ä»£å¤šä»»åŠ¡ OSï¼ˆå¦‚ Linuxã€Windowsï¼‰è®¾è®¡ä¸ŠåŒæ—¶æ”¯æŒå¹¶å‘ä¸å¹¶è¡Œï¼Œæ•…æ­¤é¡¹æ­£ç¡®ã€‚<br>ğŸ“Œ æ³¨ï¼šå³ä½¿åœ¨å•æ ¸æœºå™¨ä¸Šï¼Œç³»ç»Ÿä»å…·å¤‡å¹¶è¡Œèƒ½åŠ›ï¼ˆåªè¦æ¢åˆ°å¤šæ ¸å¹³å°å³å¯å‘æŒ¥ï¼‰ï¼Œè¿™å±äº OS çš„è®¾è®¡ç‰¹æ€§ã€‚</p>
<p>â…¡. éœ€è¦å®ç°å¯¹å…±äº«èµ„æºçš„ä¿æŠ¤<br>âœ… æ­£ç¡®ã€‚</p>
<p>å¤šä»»åŠ¡ç¯å¢ƒä¸‹ï¼Œå¤šä¸ªè¿›ç¨‹&#x2F;çº¿ç¨‹å¯èƒ½åŒæ—¶è®¿é—®å…±äº«èµ„æºï¼ˆå¦‚å†…å­˜ã€æ–‡ä»¶ã€è®¾å¤‡ã€å…¨å±€å˜é‡ï¼‰ï¼›<br>è‹¥æ— ä¿æŠ¤ï¼Œä¼šå¯¼è‡´ç«æ€æ¡ä»¶ï¼ˆRace Conditionï¼‰ã€æ•°æ®ä¸ä¸€è‡´ã€æ­»é”ç­‰é—®é¢˜ï¼›<br>OS å¿…é¡»æä¾›åŒæ­¥æœºåˆ¶ï¼šå¦‚äº’æ–¥é”ï¼ˆmutexï¼‰ã€ä¿¡å·é‡ï¼ˆsemaphoreï¼‰ã€ä¸´ç•ŒåŒºç­‰ï¼›<br>è¿™æ˜¯å¤šä»»åŠ¡ç³»ç»Ÿæ­£ç¡®æ€§ä¸ç¨³å®šæ€§çš„åŸºçŸ³ã€‚<br>â…¢. éœ€è¦è¿è¡Œåœ¨å¤šCPUçš„ç¡¬ä»¶å¹³å°ä¸Š<br>âŒ é”™è¯¯ã€‚</p>
<p>å¤šä»»åŠ¡æ“ä½œç³»ç»Ÿæœ€æ—©è¯ç”Ÿäºå• CPU ç³»ç»Ÿï¼ˆå¦‚ UNIX V6ã€MS-DOS çš„å¤šä»»åŠ¡æ‰©å±•ã€Windows 3.x å¢å¼ºæ¨¡å¼ï¼‰ï¼›<br>é€šè¿‡æ—¶é—´ç‰‡è½®è½¬ + ä¸­æ–­ + è¿›ç¨‹åˆ‡æ¢ï¼Œå• CPU ä¹Ÿèƒ½å®ç°å¤šä»»åŠ¡ï¼ˆå³å¹¶å‘ï¼‰ï¼›<br>å¤š CPU æ˜¯æå‡æ€§èƒ½ï¼ˆå®ç°å¹¶è¡Œï¼‰çš„å¯é€‰ç¡¬ä»¶æ”¯æ’‘ï¼Œéå¿…è¦å‰æã€‚<br>â†’ æœ¬é¡¹æ˜æ˜¾é”™è¯¯ã€‚<br>ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š<br>å¹¶å‘ â‰  å¹¶è¡Œï¼šå¹¶å‘æ˜¯é€»è¾‘æ¦‚å¿µï¼ˆä»»åŠ¡äº¤é”™æ¨è¿›ï¼‰ï¼Œå¹¶è¡Œæ˜¯ç‰©ç†æ¦‚å¿µï¼ˆçœŸæ­£åŒæ—¶æ‰§è¡Œï¼‰ï¼›<br>å¤šä»»åŠ¡ OS çš„æ ¸å¿ƒåœ¨äºï¼š<br>è°ƒåº¦ï¼ˆå®ç°å¹¶å‘ï¼‰<br>åŒæ­¥ä¸ä¿æŠ¤ï¼ˆä¿éšœå…±äº«æ­£ç¡®æ€§ï¼‰<br>ç¡¬ä»¶å¹³å°æ˜¯å®ç°æ‰‹æ®µï¼Œéå®šä¹‰çº¦æŸâ€”â€”å¤šä»»åŠ¡æ˜¯è½¯ä»¶èƒ½åŠ›ï¼Œå¯åœ¨å•æ ¸ä¸Šè¿è¡Œã€‚</p>
<h1 id="é¢˜ç›®-21"><a href="#é¢˜ç›®-21" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>å¤„ç†å¤–éƒ¨ä¸­æ–­æ—¶ï¼Œåº”è¯¥ç”±æ“ä½œç³»ç»Ÿä¿å­˜çš„æ˜¯ï¼ˆ ï¼‰ã€‚ (2015)<br>A.ç¨‹åºè®¡æ•°å™¨(PC)çš„å†…å®¹ B.é€šç”¨å¯„å­˜å™¨çš„å†…å®¹ C.å¿«è¡¨(TLB)ä¸­çš„å†…å®¹ D.Cacheä¸­çš„å†…å®¹</p>
<h2 id="è§£æ-21"><a href="#è§£æ-21" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>ç­”æ¡ˆï¼šB. é€šç”¨å¯„å­˜å™¨çš„å†…å®¹</p>
<p>âœ… è§£æï¼š<br>æœ¬é¢˜è€ƒå¯Ÿ ä¸­æ–­å¤„ç†è¿‡ç¨‹ä¸­ï¼Œè½¯ç¡¬ä»¶å¯¹â€œç°åœºä¿å­˜â€çš„åˆ†å·¥ã€‚</p>
<p>å½“ä¸­æ–­å‘ç”Ÿæ—¶ï¼Œç¡¬ä»¶å’Œæ“ä½œç³»ç»ŸååŒå®Œæˆä¸Šä¸‹æ–‡ä¿å­˜ï¼Œä½†èŒè´£ä¸åŒï¼š</p>
<p>A. ç¨‹åºè®¡æ•°å™¨ï¼ˆPCï¼‰çš„å†…å®¹<br>âŒ ç”±ç¡¬ä»¶è‡ªåŠ¨ä¿å­˜ï¼Œéæ“ä½œç³»ç»Ÿè´Ÿè´£ã€‚</p>
<p>ä¸­æ–­&#x2F;å¼‚å¸¸è§¦å‘æ—¶ï¼ŒCPU ç¡¬ä»¶ç”µè·¯ä¼šè‡ªåŠ¨å°†å½“å‰ PCï¼ˆå³ä¸‹ä¸€æ¡æŒ‡ä»¤åœ°å€ï¼Œæ–­ç‚¹ï¼‰å‹å…¥æ ˆï¼ˆå†…æ ¸æ ˆæˆ–å½“å‰æ ˆï¼‰ï¼›<br>ä¾‹å¦‚ x86 ä¸­ï¼Œint&#x2F;ä¸­æ–­å‘ç”Ÿæ—¶ï¼ŒCPU è‡ªåŠ¨å‹æ ˆï¼šRIPã€CSã€RFLAGS ç­‰ï¼›<br>â†’ OS æ— éœ€ã€ä¹Ÿä¸åº”å¹²é¢„æ­¤è¿‡ç¨‹ã€‚<br>B. é€šç”¨å¯„å­˜å™¨çš„å†…å®¹<br>âœ… ç”±æ“ä½œç³»ç»Ÿï¼ˆè½¯ä»¶ï¼‰ä¿å­˜ã€‚</p>
<p>ç¡¬ä»¶ä¸ä¼šè‡ªåŠ¨ä¿å­˜é€šç”¨å¯„å­˜å™¨ï¼ˆå¦‚ RAX, RBX, RCXâ€¦ï¼‰ï¼›<br>ä¸­æ–­æœåŠ¡ç¨‹åºï¼ˆISRï¼‰è¿è¡Œå‰ï¼Œè‹¥éœ€è¦ä½¿ç”¨è¿™äº›å¯„å­˜å™¨ï¼Œå¿…é¡»ç”± OS çš„ä¸­æ–­å¤„ç†å…¥å£ä»£ç æ˜¾å¼ä¿å­˜ï¼ˆå¦‚ push %rax; push %rbx; â€¦ï¼‰ï¼›<br>æ¢å¤æ—¶å†å¼¹å‡ºï¼Œä»¥ä¿è¯è¢«ä¸­æ–­ç¨‹åºçš„å¯„å­˜å™¨çŠ¶æ€é€æ˜ï¼›<br>è¿™æ˜¯ OS ç¼–å†™ ISR æ—¶çš„æ ‡å‡†æ“ä½œï¼ˆå¦‚ Linux çš„ SAVE_ALL å®ä¿å­˜é€šç”¨å¯„å­˜å™¨ï¼‰ã€‚<br>C. å¿«è¡¨ï¼ˆTLBï¼‰ä¸­çš„å†…å®¹<br>âŒ é€šå¸¸ä¸éœ€è¦ä¿å­˜ï¼Œä¸” OS ä¸è´Ÿè´£â€œä¿å­˜ TLB å†…å®¹â€ã€‚</p>
<p>TLB æ˜¯ MMU çš„é«˜é€Ÿç¼“å­˜ï¼Œå­˜å‚¨è™šæ‹Ÿé¡µå· â†’ ç‰©ç†é¡µå¸§å·çš„æ˜ å°„ï¼›<br>ä¸­æ–­æœ¬èº«ä¸æ”¹å˜é¡µè¡¨ï¼ŒTLB å†…å®¹ä»ç„¶æœ‰æ•ˆï¼›<br>è‹¥ä¸­æ–­å¯¼è‡´è¿›ç¨‹åˆ‡æ¢ï¼ˆå¦‚æ—¶é’Ÿä¸­æ–­åè°ƒåº¦ï¼‰ï¼ŒOS ä¼šåˆ·æ–°æˆ–åˆ‡æ¢åœ°å€ç©ºé—´ï¼ˆå¦‚ mov %cr3, %raxï¼‰ï¼Œæ­¤æ—¶ TLB è‡ªåŠ¨å¤±æ•ˆæˆ–éƒ¨åˆ†å¤±æ•ˆï¼Œä½†ä¸æ˜¯â€œä¿å­˜ TLB å†…å®¹â€ï¼›<br>TLB æ˜¯ç¡¬ä»¶ç¼“å­˜ï¼Œå†…å®¹ä¸å¯ç›´æ¥è¯»å†™ï¼ˆæ— æŒ‡ä»¤å¯ dump TLBï¼‰ï¼Œæ•…æ— æ³•â€œä¿å­˜â€ã€‚<br>D. Cache ä¸­çš„å†…å®¹<br>âŒ ç”±ç¡¬ä»¶é€æ˜ç®¡ç†ï¼ŒOS ä¸ä¿å­˜ã€‚</p>
<p>Cacheï¼ˆL1&#x2F;L2&#x2F;L3ï¼‰æ˜¯ CPU é€æ˜ç¼“å­˜ï¼Œå†…å®¹éšå†…å­˜è®¿é—®è‡ªåŠ¨æ›´æ–°ï¼›<br>ä¸­æ–­ä¸æ”¹å˜å†…å­˜è¯­ä¹‰ï¼ŒCache ä¸€è‡´æ€§ç”±ç¡¬ä»¶åè®®ï¼ˆå¦‚ MESIï¼‰ç»´æŠ¤ï¼›<br>OS æ— æ³•ä¹Ÿä¸éœ€è¦ä¿å­˜ cache å†…å®¹ã€‚</p>
<h1 id="é¢˜ç›®-22"><a href="#é¢˜ç›®-22" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>ä¸‹åˆ—é€‰é¡¹ä¸­ï¼Œåœ¨ç”¨æˆ·æ€æ‰§è¡Œçš„æ˜¯ï¼ˆ ï¼‰ã€‚ (2011)<br>A.å‘½ä»¤è§£é‡Šç¨‹åº B.ç¼ºé¡µå¤„ç†ç¨‹åº C.è¿›ç¨‹è°ƒåº¦ç¨‹åº D.æ—¶é’Ÿä¸­æ–­å¤„ç†ç¨‹åº</p>
<h2 id="è§£æ-22"><a href="#è§£æ-22" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>ç­”æ¡ˆï¼šA. å‘½ä»¤è§£é‡Šç¨‹åº</p>
<p>âœ… è§£æï¼š<br>é¢˜ç›®é—®ï¼šå“ªä¸ªç¨‹åºåœ¨ç”¨æˆ·æ€æ‰§è¡Œï¼Ÿ<br>å…³é”®åœ¨äºåˆ¤æ–­å„æ¨¡å—çš„è¿è¡Œç‰¹æƒçº§ã€‚</p>
<p>A. å‘½ä»¤è§£é‡Šç¨‹åºï¼ˆCommand Interpreterï¼‰<br>âœ… åœ¨ç”¨æˆ·æ€æ‰§è¡Œã€‚</p>
<p>å³ Shellï¼ˆå¦‚ bashã€zshã€cmd.exeã€PowerShellï¼‰ï¼›<br>å®ƒæ˜¯æ™®é€šç”¨æˆ·è¿›ç¨‹ï¼Œç”±æ“ä½œç³»ç»Ÿå¯åŠ¨ï¼Œè¿è¡Œåœ¨ç”¨æˆ·æ€ï¼›<br>åŠŸèƒ½ï¼šè¯»å–ç”¨æˆ·å‘½ä»¤ â†’ è§£æ â†’ è°ƒç”¨ç³»ç»Ÿè°ƒç”¨ï¼ˆå¦‚ fork + execï¼‰å¯åŠ¨æ–°ç¨‹åºï¼›<br>è™½ç„¶å®ƒå‘èµ·ç³»ç»Ÿè°ƒç”¨è¿›å…¥å†…æ ¸ï¼Œä½†è‡ªèº«ä»£ç æ‰§è¡Œå§‹ç»ˆåœ¨ç”¨æˆ·æ€ã€‚<br>B. ç¼ºé¡µå¤„ç†ç¨‹åº<br>âŒ åœ¨å†…æ ¸æ€æ‰§è¡Œã€‚</p>
<p>ç¼ºé¡µå¼‚å¸¸ï¼ˆPage Faultï¼‰è§¦å‘åï¼ŒCPU é™·å…¥å†…æ ¸ï¼›<br>ç”±å†…æ ¸çš„ page_fault() å¤„ç†å‡½æ•°ï¼ˆå¦‚ Linux çš„ do_page_faultï¼‰å“åº”ï¼Œæ¶‰åŠé¡µè¡¨ä¿®æ”¹ã€ç£ç›˜ I&#x2F;O è°ƒåº¦ã€å†…å­˜åˆ†é…ç­‰ç‰¹æƒæ“ä½œï¼›<br>ç”¨æˆ·æ€æ— æ³•è®¿é—®é¡µè¡¨æˆ–åˆ†é…ç‰©ç†é¡µã€‚<br>C. è¿›ç¨‹è°ƒåº¦ç¨‹åº<br>âŒ åœ¨å†…æ ¸æ€æ‰§è¡Œã€‚</p>
<p>è°ƒåº¦å™¨ï¼ˆå¦‚ Linux çš„ schedule()ï¼‰è´Ÿè´£é€‰æ‹©ä¸‹ä¸€ä¸ªè¿è¡Œè¿›ç¨‹ã€åˆ‡æ¢ä¸Šä¸‹æ–‡ã€æ›´æ–° TCB&#x2F;è¿è¡Œé˜Ÿåˆ—ï¼›<br>æ¶‰åŠä¿®æ”¹å†…æ ¸å…³é”®æ•°æ®ç»“æ„å’Œç‰¹æƒå¯„å­˜å™¨ï¼ˆå¦‚ CR3 åˆ‡æ¢åœ°å€ç©ºé—´ï¼‰ï¼Œå¿…é¡»åœ¨å†…æ ¸æ€ã€‚<br>D. æ—¶é’Ÿä¸­æ–­å¤„ç†ç¨‹åº<br>âŒ åœ¨å†…æ ¸æ€æ‰§è¡Œã€‚</p>
<p>æ—¶é’Ÿä¸­æ–­æ˜¯ç¡¬ä»¶ä¸­æ–­ï¼Œå‘ç”Ÿæ—¶ CPU è‡ªåŠ¨åˆ‡æ¢åˆ°å†…æ ¸æ€ï¼›<br>ä¸­æ–­æœåŠ¡ç¨‹åºï¼ˆå¦‚ Linux çš„ timer_interruptï¼‰æ›´æ–°ç³»ç»Ÿæ—¶é—´ã€è§¦å‘è°ƒåº¦ tickã€å¤„ç†å®šæ—¶å™¨ç­‰ï¼Œå‡ä¸ºå†…æ ¸é€»è¾‘ã€‚<br>ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š<br>ç”¨æˆ·æ€ç¨‹åºï¼šæ‰€æœ‰æ™®é€šåº”ç”¨ç¨‹åºã€Shellã€åº“å‡½æ•°ç­‰ï¼›<br>å†…æ ¸æ€ç¨‹åºï¼šä¸­æ–­å¤„ç†ã€å¼‚å¸¸å¤„ç†ã€ç³»ç»Ÿè°ƒç”¨æœåŠ¡ä¾‹ç¨‹ã€è°ƒåº¦å™¨ã€å†…å­˜ç®¡ç†ã€è®¾å¤‡é©±åŠ¨ç­‰ï¼›<br>Shell æ˜¯å…¸å‹çš„ç”¨æˆ·æ€ç³»ç»Ÿç¨‹åºâ€”â€”å®ƒæ˜¯ç”¨æˆ·ä¸ OS çš„æ¡¥æ¢ï¼Œä½†æœ¬èº«ä¸æ˜¯ OS å†…æ ¸çš„ä¸€éƒ¨åˆ†ã€‚<br>ğŸ“Œ è®°å¿†å£è¯€ï¼š<br>â€œShell æ˜¯ç”¨æˆ·é›‡çš„ç§˜ä¹¦ï¼Œå†…æ ¸æ‰æ˜¯å…¬å¸ CEOâ€<br>ç§˜ä¹¦ï¼ˆShellï¼‰è·‘è…¿ä¼ è¯ï¼ˆè°ƒç”¨ syscallï¼‰ï¼Œä½†å†³ç­–ï¼ˆè°ƒåº¦ã€ç¼ºé¡µã€ä¸­æ–­ï¼‰å…¨ç”± CEOï¼ˆå†…æ ¸ï¼‰åœ¨é«˜ç®¡å±‚ï¼ˆå†…æ ¸æ€ï¼‰å®Œæˆã€‚</p>
<h1 id="é¢˜ç›®-23"><a href="#é¢˜ç›®-23" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>å“åº”å¤–éƒ¨ä¸­æ–­çš„è¿‡ç¨‹ä¸­ï¼Œä¸­æ–­éšæŒ‡ä»¤å®Œæˆçš„æ“ä½œï¼Œé™¤ä¿æŠ¤æ–­ç‚¹å¤–ï¼Œè¿˜åŒ…æ‹¬<br>______ã€‚(2012 ç»„æˆåŸç†)<br>â… ï¼å…³ä¸­æ–­ â…¡ï¼ä¿å­˜é€šç”¨å¯„å­˜å™¨çš„å†…å®¹ â…¢ï¼å½¢æˆä¸­æ–­æœåŠ¡ç¨‹åºå…¥å£åœ°å€å¹¶é€ PC<br>Aï¼ä»…â… ã€â…¡ Bï¼ä»…â… ã€â…¢ Cï¼ä»…â…¡ã€â…¢ Dï¼â… ã€â…¡ã€â…¢</p>
<h2 id="è§£æ-23"><a href="#è§£æ-23" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>ç­”æ¡ˆï¼šBï¼ä»…â… ã€â…¢</p>
<p>âœ… è§£æï¼š<br>æœ¬é¢˜è€ƒå¯Ÿ â€œä¸­æ–­éšæŒ‡ä»¤â€ï¼ˆInterrupt Implicit Instructionï¼‰ çš„æ¦‚å¿µâ€”â€”å®ƒä¸æ˜¯ä¸€æ¡çœŸå®æŒ‡ä»¤ï¼Œè€Œæ˜¯ CPU å“åº”ä¸­æ–­æ—¶ç¡¬ä»¶è‡ªåŠ¨å®Œæˆçš„ä¸€ç³»åˆ—å¾®æ“ä½œçš„ç»Ÿç§°ï¼Œå¯¹ç¨‹åºå‘˜é€æ˜ã€‚</p>
<p>è¿™äº›æ“ä½œç”± ç¡¬ä»¶ç”µè·¯è‡ªåŠ¨å®Œæˆï¼Œå‘ç”Ÿåœ¨ä¸­æ–­å“åº”å‘¨æœŸï¼Œå…¸å‹çš„åŒ…æ‹¬ï¼š</p>
<p>â… ï¼å…³ä¸­æ–­<br>âœ… æ˜¯ä¸­æ–­éšæŒ‡ä»¤çš„æ“ä½œã€‚</p>
<p>ä¸ºé˜²æ­¢ä¸­æ–­åµŒå¥—å¯¼è‡´æ ˆæº¢å‡ºæˆ–å¤„ç†æ··ä¹±ï¼Œå¤§å¤šæ•°ä½“ç³»ç»“æ„åœ¨è¿›å…¥ä¸­æ–­æœåŠ¡å‰ç¡¬ä»¶è‡ªåŠ¨å…³é—­å¯å±è”½ä¸­æ–­ï¼ˆå¦‚ x86 æ¸…é™¤ EFLAGS.IF ä½ï¼‰ï¼›<br>æ³¨æ„ï¼šéå±è”½ä¸­æ–­ï¼ˆNMIï¼‰ä»å¯å“åº”ï¼›<br>è¿™æ˜¯ç¡¬ä»¶è¡Œä¸ºï¼Œå±äºä¸­æ–­éšæŒ‡ä»¤çš„ä¸€éƒ¨åˆ†ã€‚<br>â…¡ï¼ä¿å­˜é€šç”¨å¯„å­˜å™¨çš„å†…å®¹<br>âŒ ä¸æ˜¯ä¸­æ–­éšæŒ‡ä»¤çš„æ“ä½œã€‚</p>
<p>é€šç”¨å¯„å­˜å™¨ï¼ˆå¦‚ RAX, RBX, RCXâ€¦ï¼‰çš„ä¿å­˜ç”±ä¸­æ–­æœåŠ¡ç¨‹åºçš„è½¯ä»¶å…¥å£ä»£ç å®Œæˆï¼ˆå¦‚ push %rax; push %rbx; â€¦ï¼‰ï¼›<br>ç¡¬ä»¶ä¸ä¼šè‡ªåŠ¨ä¿å­˜é€šç”¨å¯„å­˜å™¨â€”â€”é‚£æ ·å¼€é”€å¤ªå¤§ï¼Œä¸”æœªå¿…æ‰€æœ‰ ISR éƒ½éœ€è¦ï¼›<br>æ˜¯å¦ä¿å­˜ã€ä¿å­˜å“ªäº›ï¼Œç”± OS ç¼–ç¨‹å†³å®šã€‚<br>â…¢ï¼å½¢æˆä¸­æ–­æœåŠ¡ç¨‹åºå…¥å£åœ°å€å¹¶é€ PC<br>âœ… æ˜¯ä¸­æ–­éšæŒ‡ä»¤çš„æ ¸å¿ƒæ“ä½œã€‚</p>
<p>CPU æ ¹æ®ä¸­æ–­ç±»å‹å·ï¼ˆå¦‚ IRQ0&#x3D;32ï¼‰ï¼ŒæŸ¥ä¸­æ–­å‘é‡è¡¨ï¼ˆIVTï¼‰ æˆ– ä¸­æ–­æè¿°ç¬¦è¡¨ï¼ˆIDTï¼‰ï¼Œå–å‡ºå¯¹åº” ISR çš„å…¥å£åœ°å€ï¼›<br>å°†è¯¥åœ°å€è£…å…¥ ç¨‹åºè®¡æ•°å™¨ï¼ˆPC &#x2F; RIPï¼‰ï¼Œä»è€Œè·³è½¬åˆ°ä¸­æ–­æœåŠ¡ç¨‹åºå¼€å§‹æ‰§è¡Œï¼›<br>æ•´ä¸ªæŸ¥è¡¨ + è·³è½¬ç”±ç¡¬ä»¶å®Œæˆï¼Œå±äºä¸­æ–­éšæŒ‡ä»¤ã€‚<br>âœ… é¢å¤–è¡¥å……ï¼šä¸­æ–­éšæŒ‡ä»¤é€šå¸¸åŒ…æ‹¬ï¼ˆç¡¬ä»¶è‡ªåŠ¨ï¼‰ï¼š<br>ä¿æŠ¤æ–­ç‚¹ï¼šå°† PCï¼ˆåŠ CSã€PSWï¼‰å‹æ ˆ<br>å…³ä¸­æ–­ï¼ˆé’ˆå¯¹å¯å±è”½ä¸­æ–­ï¼‰<br>æŸ¥ä¸­æ–­å‘é‡è¡¨ â†’ è·å– ISR å…¥å£åœ°å€ â†’ è£…å…¥ PC<br>è€Œä»¥ä¸‹ç”±è½¯ä»¶ï¼ˆOSï¼‰å®Œæˆï¼š</p>
<p>ä¿å­˜é€šç”¨å¯„å­˜å™¨ã€æµ®ç‚¹å¯„å­˜å™¨ç­‰<br>æ‰§è¡Œå…·ä½“çš„ä¸­æ–­æœåŠ¡é€»è¾‘<br>æ¢å¤ç°åœºï¼ˆå¼¹å‡ºå¯„å­˜å™¨ã€å¼€ä¸­æ–­ã€iretï¼‰<br>ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š<br>ä¸­æ–­éšæŒ‡ä»¤ &#x3D; ç¡¬ä»¶è‡ªåŠ¨å®Œæˆçš„æ“ä½œ<br>å…³é”®ä¸‰æ­¥ï¼šä¿æŠ¤æ–­ç‚¹ã€å…³ä¸­æ–­ã€è·³è½¬åˆ° ISR<br>ä¿å­˜é€šç”¨å¯„å­˜å™¨æ˜¯è½¯ä»¶è´£ä»»ï¼Œéç¡¬ä»¶éšæŒ‡ä»¤</p>
<h1 id="é¢˜ç›®-24"><a href="#é¢˜ç›®-24" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>ä¸‹åˆ—é€‰é¡¹ä¸­ï¼Œé€šè¿‡ç³»ç»Ÿè°ƒç”¨å®Œæˆçš„æ“ä½œæ˜¯( )ã€‚ (2021.32)<br>Aï¼é¡µç½®æ¢ Bï¼è¿›ç¨‹è°ƒåº¦ Cï¼åˆ›å»ºæ–°è¿›ç¨‹ Dï¼ç”Ÿæˆéšæœºæ•´æ•°</p>
<h2 id="è§£æ-24"><a href="#è§£æ-24" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>ç­”æ¡ˆï¼šCï¼åˆ›å»ºæ–°è¿›ç¨‹</p>
<p>âœ… è§£æï¼š<br>é¢˜ç›®é—®ï¼šå“ªä¸ªæ“ä½œæ˜¯â€œé€šè¿‡ç³»ç»Ÿè°ƒç”¨å®Œæˆâ€çš„ï¼Ÿ<br>å³ï¼šåº”ç”¨ç¨‹åºå¿…é¡»é€šè¿‡ç³»ç»Ÿè°ƒç”¨è¯·æ±‚å†…æ ¸æ‰§è¡Œè¯¥æ“ä½œã€‚</p>
<p>æˆ‘ä»¬é€é¡¹åˆ†æï¼š</p>
<p>Aï¼é¡µç½®æ¢<br>âŒ ç”±æ“ä½œç³»ç»Ÿå†…æ ¸åœ¨ç¼ºé¡µå¼‚å¸¸å¤„ç†ä¸­è‡ªåŠ¨å®Œæˆï¼Œä¸éœ€è¦ä¹Ÿä¸å…è®¸ç”¨æˆ·ç¨‹åºä¸»åŠ¨å‘èµ·ã€‚</p>
<p>å½“å‘ç”Ÿç¼ºé¡µæ—¶ï¼ŒCPU é™·å…¥å†…æ ¸ â†’ å†…æ ¸çš„ç¼ºé¡µå¤„ç†ç¨‹åºå†³å®šæ˜¯å¦éœ€è¦é¡µç½®æ¢ï¼ˆé€‰æ‹©ç‰ºç‰²é¡µã€å†™å›ç£ç›˜ã€åŠ è½½æ–°é¡µç­‰ï¼‰ï¼›<br>æ•´ä¸ªè¿‡ç¨‹å¯¹ç”¨æˆ·é€æ˜ï¼Œæ— å¯¹åº”ç³»ç»Ÿè°ƒç”¨ï¼›<br>ç”¨æˆ·æ— æ³•ä¹Ÿä¸åº”å¹²é¢„ç‰©ç†å†…å­˜ç®¡ç†ã€‚<br>Bï¼è¿›ç¨‹è°ƒåº¦<br>âŒ ç”±æ“ä½œç³»ç»Ÿå†…æ ¸è‡ªä¸»å®Œæˆï¼Œéç³»ç»Ÿè°ƒç”¨è§¦å‘ã€‚</p>
<p>è°ƒåº¦å‘ç”Ÿåœ¨ï¼š<br>æ—¶é’Ÿä¸­æ–­ï¼ˆæ—¶é—´ç‰‡åˆ°æœŸï¼‰<br>ç³»ç»Ÿè°ƒç”¨ä¸­è¿›ç¨‹ä¸»åŠ¨é˜»å¡ï¼ˆå¦‚ read ç­‰å¾… I&#x2F;Oï¼‰<br>è¿›ç¨‹é€€å‡ºã€å”¤é†’ç­‰äº‹ä»¶<br>åº”ç”¨ç¨‹åºä¸èƒ½ç›´æ¥è°ƒç”¨â€œè°ƒåº¦â€ï¼›å®ƒåªèƒ½é€šè¿‡ç³»ç»Ÿè°ƒç”¨é—´æ¥å½±å“è°ƒåº¦ï¼ˆå¦‚ sleep()ã€yield()ï¼‰ï¼Œä½†è°ƒåº¦å†³ç­–æœ¬èº«æ˜¯å†…æ ¸è¡Œä¸ºï¼›<br>æ—  schedule() ç³»ç»Ÿè°ƒç”¨ã€‚<br>Cï¼åˆ›å»ºæ–°è¿›ç¨‹<br>âœ… é€šè¿‡ç³»ç»Ÿè°ƒç”¨å®Œæˆã€‚</p>
<p>å…¸å‹ç³»ç»Ÿè°ƒç”¨ï¼š<br>UNIX&#x2F;Linuxï¼šfork(), vfork(), clone()<br>è¿›ä¸€æ­¥é…åˆ exec() ç³»åˆ—åŠ è½½æ–°ç¨‹åº<br>ç”¨æˆ·ç¨‹åºå¿…é¡»è°ƒç”¨è¿™äº›ç³»ç»Ÿè°ƒç”¨ï¼Œæ‰èƒ½è¯·æ±‚å†…æ ¸ä¸ºå…¶åˆ›å»ºæ–°è¿›ç¨‹ï¼ˆåˆ†é… PCBã€å¤åˆ¶é¡µè¡¨ã€è®¾ç½®ä¸Šä¸‹æ–‡ç­‰ï¼‰ï¼›<br>è¿™æ˜¯ç”¨æˆ·ä¸»åŠ¨å‘èµ·ã€å†…æ ¸æ‰§è¡Œçš„å…¸å‹ç³»ç»Ÿè°ƒç”¨åœºæ™¯ã€‚<br>Dï¼ç”Ÿæˆéšæœºæ•´æ•°<br>âŒ é€šå¸¸åœ¨ç”¨æˆ·æ€å®Œæˆï¼Œä¸ä¸€å®šéœ€è¦ç³»ç»Ÿè°ƒç”¨ã€‚</p>
<p>æ™®é€šä¼ªéšæœºæ•°ï¼ˆå¦‚ rand()ï¼‰ç”± glibc ç­‰åº“åœ¨ç”¨æˆ·æ€å®ç°ï¼ŒåŸºäºçº¿æ€§åŒä½™ç­‰ç®—æ³•ï¼Œä¸æ¶‰åŠå†…æ ¸ï¼›<br>è‹¥éœ€è¦çœŸéšæœºæ•°ï¼ˆå¦‚åŠ å¯†ç”¨é€”ï¼‰ï¼Œå¯è¯» &#x2F;dev&#x2F;random æˆ– &#x2F;dev&#x2F;urandomï¼Œæ­¤æ—¶é€šè¿‡ read() ç³»ç»Ÿè°ƒç”¨é—´æ¥è·å–ï¼›ä½†ï¼š<br>read() æ˜¯é€šç”¨ I&#x2F;O ç³»ç»Ÿè°ƒç”¨ï¼Œâ€œç”Ÿæˆéšæœºæ•°â€æœ¬èº«ä¸æ˜¯ç³»ç»Ÿè°ƒç”¨ï¼›<br>é¢˜å¹²é—®çš„æ˜¯â€œé€šè¿‡ç³»ç»Ÿè°ƒç”¨å®Œæˆçš„æ“ä½œâ€ï¼Œè€Œâ€œç”Ÿæˆâ€åŠ¨ä½œå®è´¨åœ¨å†…æ ¸çš„ random.c é©±åŠ¨ä¸­ï¼Œä½†é€‰é¡¹ D æè¿°æ¨¡ç³Šï¼Œä¸”é€šå¸¸åœºæ™¯ä¸‹ä¸ä¾èµ– syscallï¼›<br>ç›¸æ¯”ä¹‹ä¸‹ï¼ŒC æ˜¯æ˜ç¡®ã€ç›´æ¥ã€å¿…é¡»é€šè¿‡ç³»ç»Ÿè°ƒç”¨å®Œæˆçš„æ“ä½œã€‚<br>ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š<br>ç³»ç»Ÿè°ƒç”¨æ˜¯ ç”¨æˆ·ç¨‹åº â†” å†…æ ¸ çš„å”¯ä¸€å—æ§æ¥å£ï¼›<br>åªæœ‰éœ€è¦å†…æ ¸ç‰¹æƒæˆ–å…¨å±€èµ„æºçš„æ“ä½œæ‰é€šè¿‡ç³»ç»Ÿè°ƒç”¨ï¼š<br>è¿›ç¨‹æ§åˆ¶ï¼ˆfork, exit, waitï¼‰<br>æ–‡ä»¶ I&#x2F;Oï¼ˆopen, read, writeï¼‰<br>è®¾å¤‡æ§åˆ¶ï¼ˆioctlï¼‰<br>é€šä¿¡ï¼ˆpipe, socketï¼‰<br>è€Œé¡µç½®æ¢ã€è°ƒåº¦ç­‰å±äºå†…æ ¸è‡ªä¸»ç®¡ç†è¡Œä¸ºï¼Œå¯¹ç”¨æˆ·é€æ˜ï¼›<br>åº“å‡½æ•°ï¼ˆå¦‚ rand()ã€malloc()ï¼‰â‰  ç³»ç»Ÿè°ƒç”¨ã€‚</p>
<h1 id="é¢˜ç›®-25"><a href="#é¢˜ç›®-25" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>ä¸‹åˆ—å…³äºâ€œè‡ªé™·â€ï¼ˆTrapï¼Œä¹Ÿç§°é™·é˜±ï¼‰çš„å™è¿°ä¸­ï¼Œé”™è¯¯çš„æ˜¯ï¼ˆ ï¼‰ã€‚(2020 ç»„æˆåŸç†)<br>A. è‡ªé™·æ˜¯é€šè¿‡é™·é˜±æŒ‡ä»¤é¢„å…ˆè®¾å®šçš„ä¸€ç±»å¤–éƒ¨ä¸­æ–­äº‹ä»¶<br>B. è‡ªé™·å¯ç”¨äºå®ç°ç¨‹åºè°ƒè¯•æ—¶çš„æ–­ç‚¹è®¾ç½®å’Œå•æ­¥è·Ÿè¸ª<br>C. è‡ªé™·å‘ç”ŸåCPUå°†è½¬å»æ‰§è¡Œæ“ä½œç³»ç»Ÿå†…æ ¸ç›¸åº”ç¨‹åº<br>D. è‡ªé™·å¤„ç†å®Œæˆåè¿”å›åˆ°é™·é˜±æŒ‡ä»¤çš„ä¸‹ä¸€æ¡æŒ‡ä»¤æ‰§è¡Œ</p>
<h2 id="è§£æ-25"><a href="#è§£æ-25" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>ç­”æ¡ˆï¼šA. è‡ªé™·æ˜¯é€šè¿‡é™·é˜±æŒ‡ä»¤é¢„å…ˆè®¾å®šçš„ä¸€ç±»å¤–éƒ¨ä¸­æ–­äº‹ä»¶</p>
<p>âœ… è§£æï¼š<br>æœ¬é¢˜è€ƒæŸ¥å¯¹ è‡ªé™·ï¼ˆTrapï¼‰ çš„æœ¬è´¨ç†è§£ï¼Œå…³é”®åœ¨äºåŒºåˆ†ï¼š</p>
<p>Trap æ˜¯å†…éƒ¨å¼‚å¸¸ï¼ˆå†…ä¸­æ–­ï¼‰ï¼Œä¸æ˜¯å¤–éƒ¨ä¸­æ–­ï¼›<br>å®ƒç”±ç¨‹åºä¸»åŠ¨æ‰§è¡Œç‰¹å®šæŒ‡ä»¤ï¼ˆå¦‚ int 3ã€syscallï¼‰å¼•å‘ï¼ŒåŒæ­¥ã€å¯é¢„æœŸï¼›<br>ä¸ç¡¬ä»¶å¼‚æ­¥è§¦å‘çš„å¤–éƒ¨ä¸­æ–­ï¼ˆå¦‚é”®ç›˜ã€æ—¶é’Ÿï¼‰æœ‰æ ¹æœ¬åŒºåˆ«ã€‚<br>é€é¡¹åˆ†æï¼š<br>A. è‡ªé™·æ˜¯é€šè¿‡é™·é˜±æŒ‡ä»¤é¢„å…ˆè®¾å®šçš„ä¸€ç±»å¤–éƒ¨ä¸­æ–­äº‹ä»¶<br>âŒ é”™è¯¯ï¼ˆæœ¬é¢˜ç­”æ¡ˆï¼‰</p>
<p>Trap å±äºå†…éƒ¨å¼‚å¸¸ï¼ˆå†…ä¸­æ–­ï¼‰ï¼Œç”± CPU åœ¨æ‰§è¡ŒæŒ‡ä»¤è¿‡ç¨‹ä¸­æ£€æµ‹åˆ°ç‰¹å®šæ¡ä»¶ï¼ˆå¦‚æ‰§è¡Œ int æŒ‡ä»¤ï¼‰è€Œè§¦å‘ï¼›<br>å¤–éƒ¨ä¸­æ–­æ¥è‡ª CPU å¤–éƒ¨è®¾å¤‡ï¼ˆå¦‚ I&#x2F;O æ§åˆ¶å™¨ï¼‰ï¼Œä¸å½“å‰æŒ‡ä»¤æµæ— å…³ï¼ˆå¼‚æ­¥ï¼‰ï¼›<br>Trap æ˜¯åŒæ­¥äº‹ä»¶ï¼Œä¸æŒ‡ä»¤å¼ºå…³è”ï¼›å¤–éƒ¨ä¸­æ–­æ˜¯å¼‚æ­¥äº‹ä»¶ã€‚<br>â†’ å°† Trap å½’ä¸ºâ€œå¤–éƒ¨ä¸­æ–­â€æ˜¯æ¦‚å¿µæ€§é”™è¯¯ã€‚<br>B. è‡ªé™·å¯ç”¨äºå®ç°ç¨‹åºè°ƒè¯•æ—¶çš„æ–­ç‚¹è®¾ç½®å’Œå•æ­¥è·Ÿè¸ª<br>âœ… æ­£ç¡®</p>
<p>æ–­ç‚¹ï¼šè°ƒè¯•å™¨å°†ç›®æ ‡åœ°å€æŒ‡ä»¤æ›¿æ¢ä¸º int 3ï¼ˆx86ï¼‰è§¦å‘ Trapï¼Œå†…æ ¸æ•è·åé€šçŸ¥è°ƒè¯•å™¨ï¼›<br>å•æ­¥è·Ÿè¸ªï¼šè®¾ç½® EFLAGS.TF &#x3D; 1ï¼ˆé™·é˜±æ ‡å¿—ï¼‰ï¼Œæ¯æ¡æŒ‡ä»¤åè§¦å‘å•æ­¥ Trapï¼ˆ#DB å¼‚å¸¸ï¼‰ï¼›<br>â†’ Trap æ˜¯è°ƒè¯•æ”¯æŒçš„æ ¸å¿ƒæœºåˆ¶ã€‚<br>C. è‡ªé™·å‘ç”Ÿå CPU å°†è½¬å»æ‰§è¡Œæ“ä½œç³»ç»Ÿå†…æ ¸ç›¸åº”ç¨‹åº<br>âœ… æ­£ç¡®</p>
<p>Trap è§¦å‘åï¼ŒCPU æ ¹æ®ä¸­æ–­å‘é‡ï¼ˆå¦‚ int 3 â†’ å‘é‡ 3ï¼‰æŸ¥ IDTï¼Œè·³è½¬åˆ°å†…æ ¸æ³¨å†Œçš„å¤„ç†ç¨‹åºï¼ˆå¦‚ do_int3ï¼‰ï¼›<br>æ‰€æœ‰ Trap æœ€ç»ˆç”±å†…æ ¸ç»Ÿä¸€æ¥ç®¡ï¼ˆå³ä½¿æ˜¯ç”¨æˆ·æ€è°ƒè¯•ï¼Œä¹Ÿéœ€å†…æ ¸è½¬å‘ä¿¡å·ï¼‰ã€‚<br>D. è‡ªé™·å¤„ç†å®Œæˆåè¿”å›åˆ°é™·é˜±æŒ‡ä»¤çš„ä¸‹ä¸€æ¡æŒ‡ä»¤æ‰§è¡Œ<br>âœ… æ­£ç¡®ï¼ˆé’ˆå¯¹å…¸å‹çš„ Trap ç±»å¼‚å¸¸ï¼‰</p>
<p>Trap çš„ç‰¹ç‚¹æ˜¯ï¼šé™·é˜±æŒ‡ä»¤æœ¬èº«å·²æ‰§è¡Œå®Œæ¯•ï¼Œè¿”å›æ—¶åº”ç»§ç»­æ‰§è¡Œä¸‹ä¸€æ¡æŒ‡ä»¤ï¼›<br>å¯¹æ¯”ï¼šFaultï¼ˆå¦‚ç¼ºé¡µï¼‰è¿”å›æ—¶é‡æ‰§è¡Œå¼•å‘å¼‚å¸¸çš„æŒ‡ä»¤ï¼›<br>ä¾‹å­ï¼š<br>int 0x80ï¼ˆç³»ç»Ÿè°ƒç”¨ï¼‰æ‰§è¡Œåï¼Œè¿”å›ç”¨æˆ·æ€æ‰§è¡Œ int 0x80 çš„ä¸‹ä¸€æ¡æŒ‡ä»¤ï¼›<br>int 3 æ–­ç‚¹è§¦å‘åï¼Œè°ƒè¯•å™¨æ¢å¤åŸæŒ‡ä»¤å¹¶ç»§ç»­æ‰§è¡Œä¸‹ä¸€æ¡ã€‚</p>
<h1 id="é¢˜ç›®-26"><a href="#é¢˜ç›®-26" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>ä¸‹åˆ—äº‹ä»¶ä¸­ï¼Œå±äºå¤–éƒ¨ä¸­æ–­äº‹ä»¶çš„æ˜¯ï¼ˆï¼‰ã€‚(2020)<br>â… . è®¿å­˜æ—¶ç¼ºé¡µ â…¡. å®šæ—¶å™¨åˆ°æ—¶ â…¢. ç½‘ç»œæ•°æ®åŒ…åˆ°è¾¾<br>A. ä»…â… ã€â…¡ B. ä»…â… ã€â…¢ C. ä»…â…¡ã€â…¢ D. â… ã€â…¡å’Œâ…¢</p>
<h2 id="è§£æ-26"><a href="#è§£æ-26" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>ç­”æ¡ˆï¼šC. ä»…â…¡ã€â…¢</p>
<p>âœ… è§£æï¼š<br>é¢˜ç›®è¦æ±‚é€‰å‡º å±äºå¤–éƒ¨ä¸­æ–­äº‹ä»¶ çš„é€‰é¡¹ã€‚</p>
<p>é¦–å…ˆæ˜ç¡®æ¦‚å¿µï¼š<br>å¤–éƒ¨ä¸­æ–­ï¼ˆExternal Interruptï¼‰ï¼š<br>ç”± CPU å¤–éƒ¨ç¡¬ä»¶è®¾å¤‡ å‘èµ·çš„å¼‚æ­¥ä¿¡å·ï¼Œä¸å½“å‰æ‰§è¡Œçš„æŒ‡ä»¤æ— å…³ï¼Œé€šè¿‡ä¸­æ–­æ§åˆ¶å™¨ï¼ˆå¦‚ APICã€8259Aï¼‰å‘ CPU å‘å‡ºä¸­æ–­è¯·æ±‚ï¼ˆINTRï¼‰ã€‚<br>å…¸å‹æ¥æºï¼šæ—¶é’Ÿã€é”®ç›˜ã€é¼ æ ‡ã€ç£ç›˜ã€ç½‘å¡ç­‰ I&#x2F;O è®¾å¤‡ã€‚<br>å†…éƒ¨å¼‚å¸¸ï¼ˆInternal Exceptionï¼‰ï¼š<br>ç”± CPU æ‰§è¡ŒæŒ‡ä»¤è¿‡ç¨‹ä¸­æ£€æµ‹åˆ°çš„äº‹ä»¶ å¼•èµ·ï¼Œä¸å½“å‰æŒ‡ä»¤å¼ºç›¸å…³ï¼ˆåŒæ­¥ï¼‰ï¼Œå¦‚é™¤é›¶ã€ç¼ºé¡µã€éæ³•æŒ‡ä»¤ç­‰ã€‚<br>é€é¡¹åˆ¤æ–­ï¼š<br>â… . è®¿å­˜æ—¶ç¼ºé¡µ<br>âŒ ä¸å±äºå¤–éƒ¨ä¸­æ–­ï¼Œè€Œæ˜¯å†…éƒ¨å¼‚å¸¸ï¼ˆå…·ä½“ä¸º faultï¼‰ã€‚</p>
<p>ç¼ºé¡µç”± MMUï¼ˆå†…å­˜ç®¡ç†å•å…ƒï¼ŒCPU å†…éƒ¨ç»„ä»¶ï¼‰åœ¨æ‰§è¡Œè®¿å­˜æŒ‡ä»¤æ—¶æ£€æµ‹åˆ°é¡µè¡¨é¡¹æ— æ•ˆæˆ–æœªé©»ç•™è€Œè§¦å‘ï¼›<br>å±äºåŒæ­¥å¼‚å¸¸ï¼Œä¸­æ–­å‘é‡é€šå¸¸ä¸º #PFï¼ˆPage Faultï¼‰ï¼›<br>â†’ æ˜¯å†…ä¸­æ–­ï¼Œéå¤–éƒ¨ä¸­æ–­ã€‚<br>â…¡. å®šæ—¶å™¨åˆ°æ—¶<br>âœ… å±äºå¤–éƒ¨ä¸­æ–­ã€‚</p>
<p>ç³»ç»Ÿæ—¶é’Ÿå®šæ—¶å™¨ï¼ˆå¦‚ HPETã€APIC Timerï¼‰æ˜¯ç‹¬ç«‹ç¡¬ä»¶æ¨¡å—ï¼Œå®šæ—¶äº§ç”Ÿè„‰å†²ä¿¡å·ï¼Œé€šè¿‡ä¸­æ–­æ§åˆ¶å™¨å‘ CPU å‘å‡ºä¸­æ–­è¯·æ±‚ï¼ˆå¦‚ IRQ0 &#x2F; Local APIC LVT Timerï¼‰ï¼›<br>è™½ç„¶ç”¨äºç³»ç»Ÿè°ƒåº¦ç­‰ï¼Œä½†å…¶è§¦å‘æºæ˜¯å¤–éƒ¨ç¡¬ä»¶ï¼Œä¸ CPU å½“å‰æ‰§è¡Œçš„æŒ‡ä»¤æ— å…³ï¼›<br>â†’ æ˜¯å…¸å‹çš„å¯å±è”½å¤–éƒ¨ä¸­æ–­ã€‚<br>â…¢. ç½‘ç»œæ•°æ®åŒ…åˆ°è¾¾<br>âœ… å±äºå¤–éƒ¨ä¸­æ–­ã€‚</p>
<p>ç½‘å¡ï¼ˆNICï¼‰æ”¶åˆ°æ•°æ®åŒ…åï¼Œè‹¥é…ç½®ä¸ºä¸­æ–­æ¨¡å¼ï¼Œä¼šé€šè¿‡ PCIe å‘ä¸­æ–­æ§åˆ¶å™¨å‘é€ä¸­æ–­è¯·æ±‚ï¼ˆå¦‚ MSI&#x2F;MSI-Xï¼‰ï¼›<br>CPU æ”¶åˆ°åæš‚åœå½“å‰ä»»åŠ¡ï¼Œè½¬å»æ‰§è¡Œç½‘å¡é©±åŠ¨çš„ ISRï¼›<br>æ˜¾ç„¶æ¥è‡ªå¤–éƒ¨è®¾å¤‡ï¼Œæ˜¯æ ‡å‡†å¤–éƒ¨ä¸­æ–­ã€‚<br>âœ… ç»“è®ºï¼š<br>â… ï¼šâŒ å†…éƒ¨å¼‚å¸¸<br>â…¡ï¼šâœ… å¤–éƒ¨ä¸­æ–­<br>â…¢ï¼šâœ… å¤–éƒ¨ä¸­æ–­<br>â†’ æ­£ç¡®é€‰é¡¹ä¸º C. ä»…â…¡ã€â…¢<br>ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š<br>åŒºåˆ†ä¸­æ–­æ¥æºï¼š<br>å¤–éƒ¨ï¼šè®¾å¤‡ï¼ˆæ—¶é’Ÿã€ç½‘å¡ã€ç£ç›˜æ§åˆ¶å™¨ â€¦ï¼‰<br>å†…éƒ¨ï¼šCPU æ‰§è¡ŒæŒ‡ä»¤å¼•å‘ï¼ˆç¼ºé¡µã€é™¤é›¶ã€INT æŒ‡ä»¤ â€¦ï¼‰<br>ç¼ºé¡µå¸¸è¢«è¯¯è®¤ä¸ºâ€œè®¾å¤‡å¯¼è‡´â€ï¼Œä½†è§¦å‘æœºåˆ¶åœ¨ CPU å†…éƒ¨ï¼ˆMMUï¼‰ï¼Œå±å¼‚å¸¸ï¼›<br>ç°ä»£ç³»ç»Ÿä¸­ï¼Œä¸ºå‡å°‘ä¸­æ–­å¼€é”€ï¼Œç½‘å¡å¸¸ä½¿ç”¨è½®è¯¢ï¼ˆå¦‚ NAPIï¼‰ï¼Œä½†**â€œæ•°æ®åŒ…åˆ°è¾¾å¯å¼•å‘ä¸­æ–­â€ä»æ˜¯å…¶åŸºæœ¬å·¥ä½œæ¨¡å¼ä¹‹ä¸€**ï¼Œé¢˜å¹²æœªé™å®šå®ç°æ–¹å¼ï¼Œé»˜è®¤æŒ‰ç»å…¸ä¸­æ–­æ¨¡å‹ç†è§£ã€‚</p>
<h1 id="é¢˜ç›®-27"><a href="#é¢˜ç›®-27" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>å¤–éƒ¨ä¸­æ–­åŒ…æ‹¬ä¸å¯å±è”½ä¸­æ–­ï¼ˆNMIï¼‰å’Œå¯å±è”½ä¸­æ–­ã€‚ä¸‹åˆ—å…³äºå¤–éƒ¨ä¸­æ–­çš„å™è¿°ä¸­ï¼Œé”™è¯¯çš„æ˜¯ï¼ˆ ï¼‰ã€‚(2020 ç»„æˆåŸç†)<br>A. CPUå¤„äºå…³ä¸­æ–­çŠ¶æ€æ—¶ï¼Œä¹Ÿèƒ½å“åº”NMIè¯·æ±‚<br>B. ä¸€æ—¦å¯å±è”½ä¸­æ–­è¯·æ±‚ä¿¡å·æœ‰æ•ˆï¼ŒCPUå°†ç«‹å³å“åº”<br>C. ä¸å¯å±è”½ä¸­æ–­çš„ä¼˜å…ˆçº§æ¯”å¯å±è”½ä¸­æ–­çš„ä¼˜å…ˆçº§é«˜<br>D. å¯é€šè¿‡ä¸­æ–­å±è”½å­—æ”¹å˜å¯å±è”½ä¸­æ–­çš„å¤„ç†ä¼˜å…ˆçº§</p>
<h2 id="è§£æ-27"><a href="#è§£æ-27" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>ç­”æ¡ˆï¼šB. ä¸€æ—¦å¯å±è”½ä¸­æ–­è¯·æ±‚ä¿¡å·æœ‰æ•ˆï¼ŒCPUå°†ç«‹å³å“åº”</p>
<p>âœ… è§£æï¼š<br>æœ¬é¢˜è€ƒæŸ¥ å¤–éƒ¨ä¸­æ–­ï¼ˆç‰¹åˆ«æ˜¯å¯å±è”½ä¸­æ–­ï¼‰çš„å“åº”æ¡ä»¶ä¸æœºåˆ¶ã€‚æˆ‘ä»¬é€é¡¹åˆ†æï¼š</p>
<p>A. CPU å¤„äºå…³ä¸­æ–­çŠ¶æ€æ—¶ï¼Œä¹Ÿèƒ½å“åº” NMI è¯·æ±‚<br>âœ… æ­£ç¡®ã€‚</p>
<p>NMIï¼ˆNon-Maskable Interruptï¼‰æ˜¯ä¸å¯å±è”½ä¸­æ–­ï¼Œè®¾è®¡ç”¨äºå¤„ç†ä¸¥é‡ç¡¬ä»¶äº‹ä»¶ï¼ˆå¦‚ç”µæºæ•…éšœã€å†…å­˜å¥‡å¶æ ¡éªŒé”™ï¼‰ï¼›<br>å…¶è§¦å‘ä¸å— EFLAGS.IF ä½ï¼ˆä¸­æ–­å…è®¸æ ‡å¿—ï¼‰æ§åˆ¶ï¼Œå³ä½¿æ‰§è¡Œäº† cliï¼ˆå…³ä¸­æ–­ï¼‰ï¼ŒNMI ä»å¯è¢«å“åº”ï¼›<br>è¿™æ˜¯ NMI çš„æ ¸å¿ƒç‰¹æ€§ã€‚<br>B. ä¸€æ—¦å¯å±è”½ä¸­æ–­è¯·æ±‚ä¿¡å·æœ‰æ•ˆï¼ŒCPU å°†ç«‹å³å“åº”<br>âŒ é”™è¯¯ï¼ˆæœ¬é¢˜ç­”æ¡ˆï¼‰</p>
<p>å¯å±è”½ä¸­æ–­ï¼ˆå¦‚ IRQ0~15ï¼‰çš„å“åº”éœ€åŒæ—¶æ»¡è¶³å¤šä¸ªæ¡ä»¶ï¼š<br>ä¸­æ–­è¯·æ±‚çº¿æœ‰æ•ˆï¼ˆINTR &#x3D; 1ï¼‰<br>CPU å¤„äºå¼€ä¸­æ–­çŠ¶æ€ï¼ˆIF &#x3D; 1ï¼‰<br>å½“å‰æŒ‡ä»¤æ‰§è¡Œå®Œæ¯•ï¼ˆCPU åªåœ¨æŒ‡ä»¤è¾¹ç•Œå“åº”ä¸­æ–­ï¼‰<br>æ— æ›´é«˜ä¼˜å…ˆçº§ä¸­æ–­&#x2F;å¼‚å¸¸æ­£åœ¨å¤„ç†<br>è‹¥ CPU æ­£åœ¨æ‰§è¡Œå…³ä¸­æ–­ä»£ç ï¼ˆIF &#x3D; 0ï¼‰ï¼Œæˆ–å¤„äºåŸå­æŒ‡ä»¤ï¼ˆå¦‚ lock incï¼‰ã€ä¸­æ–­æœåŠ¡ä¸­ï¼Œå³ä½¿ INTR æœ‰æ•ˆï¼Œä¹Ÿä¸ä¼šç«‹å³å“åº”ï¼›<br>ä¸­æ–­æ˜¯å¼‚æ­¥ä½†éå³æ—¶çš„ï¼Œéœ€ç­‰å¾…åˆé€‚çš„å“åº”ç‚¹ã€‚<br>C. ä¸å¯å±è”½ä¸­æ–­çš„ä¼˜å…ˆçº§æ¯”å¯å±è”½ä¸­æ–­çš„ä¼˜å…ˆçº§é«˜<br>âœ… æ­£ç¡®ã€‚</p>
<p>ç¡¬ä»¶è®¾è®¡ä¸Šï¼ŒNMI çš„ä¼˜å…ˆçº§é€šå¸¸é«˜äºæ‰€æœ‰å¯å±è”½ä¸­æ–­ï¼›<br>ä¾‹å¦‚ x86 ä¸­ï¼ŒNMI å‘é‡å·ä¸º 2ï¼Œé«˜äº IRQ0ï¼ˆé€šå¸¸æ˜ å°„ä¸º 32+ï¼‰ï¼Œä¸”ä¸å—å±è”½å½±å“ï¼›<br>è¿™ç¡®ä¿å…³é”®æ•…éšœèƒ½è¢«åŠæ—¶å¤„ç†ã€‚<br>D. å¯é€šè¿‡ä¸­æ–­å±è”½å­—æ”¹å˜å¯å±è”½ä¸­æ–­çš„å¤„ç†ä¼˜å…ˆçº§<br>âœ… æ­£ç¡®ã€‚</p>
<p>ä¸­æ–­å±è”½å­—ï¼ˆInterrupt Mask Register, IMRï¼‰æ˜¯ä¸­æ–­æ§åˆ¶å™¨ï¼ˆå¦‚ 8259Aã€APICï¼‰ä¸­çš„å¯„å­˜å™¨ï¼Œç”¨äºç¦æ­¢æŸäº› IRQ çº¿ï¼›<br>é€šè¿‡ç¼–ç¨‹ IMRï¼ˆå¦‚ outb(0x21, mask)ï¼‰ï¼Œå¯åŠ¨æ€å±è”½ä½ä¼˜å…ˆçº§ä¸­æ–­ï¼Œä»è€Œé—´æ¥æå‡å…¶ä»–ä¸­æ–­çš„ç›¸å¯¹ä¼˜å…ˆçº§ï¼›<br>ç°ä»£ APIC è¿˜æ”¯æŒä¼˜å…ˆçº§å¯„å­˜å™¨ï¼ˆTPRï¼‰ï¼Œæ›´ç²¾ç»†åœ°æ§åˆ¶ä¸­æ–­æŠ¢å ã€‚<br>ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š<br>ä¸­æ–­å“åº” â‰  ä¸­æ–­è¯·æ±‚æœ‰æ•ˆï¼šå— IF æ ‡å¿—ã€æŒ‡ä»¤è¾¹ç•Œã€å½“å‰çŠ¶æ€åˆ¶çº¦ï¼›<br>â€œç«‹å³å“åº”â€æ˜¯å¸¸è§è¯¯è§£ï¼šCPU å¿…é¡»å®Œæˆå½“å‰æŒ‡ä»¤ï¼ˆç”šè‡³å¾®ç åºåˆ—ï¼‰åæ‰é‡‡æ ·ä¸­æ–­ï¼›<br>å®æ—¶ç³»ç»Ÿä¸­ï¼Œä¸ºå‡å°‘å»¶è¿Ÿï¼Œä¼šï¼š<br>ä½¿ç”¨ NMI å¤„ç†ç´§æ€¥äº‹ä»¶<br>ç¼©çŸ­ä¸´ç•ŒåŒºï¼ˆå‡å°‘å…³ä¸­æ–­æ—¶é—´ï¼‰<br>é‡‡ç”¨ä¸­æ–­åµŒå¥—ä¸ä¼˜å…ˆçº§ç®¡ç†</p>
<h1 id="é¢˜ç›®-28"><a href="#é¢˜ç›®-28" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>å¼‚å¸¸äº‹ä»¶åœ¨å½“å‰æŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹ä¸­è¿›è¡Œæ£€æµ‹ï¼Œä¸­æ–­è¯·æ±‚åˆ™åœ¨å½“å‰æŒ‡ä»¤æ‰§è¡Œåè¿›è¡Œæ£€æµ‹ã€‚ä¸‹åˆ—äº‹ä»¶ä¸­ã€‚ä¸‹åˆ—äº‹<br>ä»¶ä¸­ï¼Œç›¸åº”å¤„ç†ç¨‹åºæ‰§è¡Œåï¼Œå¿…é¡»å›åˆ°å½“å‰æŒ‡ä»¤é‡æ–°æ‰§è¡Œçš„æ˜¯ï¼ˆ ï¼‰ã€‚(2021)<br>A. ç³»ç»Ÿè°ƒç”¨ B. é¡µç¼ºå¤± C. DMAä¼ é€ç»“æŸ D. æ‰“å°æœºç¼ºçº¸</p>
<h2 id="è§£æ-28"><a href="#è§£æ-28" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>ç­”æ¡ˆï¼šB. é¡µç¼ºå¤±</p>
<p>âœ… è§£æï¼š<br>é¢˜å¹²å…³é”®å¥ï¼š</p>
<p>â€œå¼‚å¸¸äº‹ä»¶åœ¨å½“å‰æŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹ä¸­æ£€æµ‹ï¼Œä¸­æ–­è¯·æ±‚åœ¨å½“å‰æŒ‡ä»¤æ‰§è¡Œåæ£€æµ‹â€<br>â†’ é—®ï¼šå¤„ç†å®Œåå¿…é¡»å›åˆ° å½“å‰æŒ‡ä»¤ é‡æ–°æ‰§è¡Œ çš„æ˜¯å“ªä¸ªï¼Ÿ</p>
<p>è¿™æŒ‡å‘å¼‚å¸¸ä¸­çš„ Faultï¼ˆæ•…éšœï¼‰ ç±»äº‹ä»¶â€”â€”å…¶ç‰¹ç‚¹æ˜¯ï¼šå¼•å‘å¼‚å¸¸çš„æŒ‡ä»¤å°šæœªå®Œæˆï¼Œä¿®å¤åéœ€é‡è¯•è¯¥æŒ‡ä»¤ã€‚</p>
<p>æˆ‘ä»¬é€é¡¹åˆ†æï¼š</p>
<p>A. ç³»ç»Ÿè°ƒç”¨<br>â†’ å±äº Trapï¼ˆé™·é˜±ï¼‰ ç±»å¼‚å¸¸ã€‚</p>
<p>ç”± syscall &#x2F; int 0x80 ç­‰æŒ‡ä»¤ä¸»åŠ¨è§¦å‘ï¼Œä¸”è¯¥æŒ‡ä»¤æœ¬èº«å·²æ‰§è¡Œå®Œæ¯•ï¼›<br>å¤„ç†å®Œæˆåï¼Œè¿”å›åˆ°è¯¥ trap æŒ‡ä»¤çš„ä¸‹ä¸€æ¡æŒ‡ä»¤ç»§ç»­æ‰§è¡Œï¼›<br>âŒ ä¸éœ€é‡æ‰§è¡Œå½“å‰æŒ‡ä»¤ã€‚<br>B. é¡µç¼ºå¤±ï¼ˆå³ç¼ºé¡µå¼‚å¸¸ï¼ŒPage Faultï¼‰<br>â†’ å±äº Faultï¼ˆæ•…éšœï¼‰ ç±»å¼‚å¸¸ã€‚</p>
<p>å‘ç”Ÿåœ¨ CPU æ‰§è¡ŒæŸæ¡è®¿å­˜æŒ‡ä»¤ï¼ˆå¦‚ mov (%rax), %rbxï¼‰è¿‡ç¨‹ä¸­ï¼ŒMMU å‘ç°é¡µä¸åœ¨å†…å­˜ï¼›<br>æ­¤æ—¶ï¼Œè¯¥è®¿å­˜æŒ‡ä»¤å°šæœªå®Œæˆï¼ˆæ•°æ®æœªè¯»å…¥ï¼‰ï¼›<br>å†…æ ¸å¤„ç†ç¼ºé¡µï¼šåˆ†é…ç‰©ç†é¡µã€ä»ç£ç›˜åŠ è½½ã€æ›´æ–°é¡µè¡¨ï¼›<br>å¤„ç†å®Œæˆåï¼Œå¿…é¡»é‡æ–°æ‰§è¡ŒåŸè®¿å­˜æŒ‡ä»¤ï¼Œæ‰èƒ½æ­£ç¡®å®Œæˆæ•°æ®è®¿é—®ï¼›<br>âœ… å¿…é¡»å›åˆ°å½“å‰æŒ‡ä»¤é‡æ–°æ‰§è¡Œ â€”â€” æ­£ç¡®ç­”æ¡ˆã€‚<br>C. DMA ä¼ é€ç»“æŸ<br>â†’ å±äº å¤–éƒ¨ä¸­æ–­ã€‚</p>
<p>DMA æ§åˆ¶å™¨å®Œæˆåå‘ CPU å‘ä¸­æ–­ï¼Œä¸å½“å‰æŒ‡ä»¤æ— å…³ï¼ˆå¼‚æ­¥ï¼‰ï¼›<br>ä¸­æ–­å¤„ç†å®Œåï¼Œè¿”å›åˆ°è¢«ä¸­æ–­çš„ä¸‹ä¸€æ¡æŒ‡ä»¤ç»§ç»­æ‰§è¡Œï¼›<br>âŒ ä¸æ¶‰åŠé‡æ‰§è¡Œå½“å‰æŒ‡ä»¤ã€‚<br>D. æ‰“å°æœºç¼ºçº¸<br>â†’ é€šå¸¸ç”±è®¾å¤‡é€šè¿‡å¤–éƒ¨ä¸­æ–­æˆ–è½®è¯¢æ£€æµ‹å‘ç°ï¼Œå±äº I&#x2F;O å¼‚å¸¸ï¼›</p>
<p>è‹¥é€šè¿‡ä¸­æ–­ä¸ŠæŠ¥ï¼ˆå¦‚å¹¶å£ä¸­æ–­ï¼‰ï¼ŒåŒ Cï¼Œè¿”å›ä¸‹ä¸€æ¡æŒ‡ä»¤ï¼›<br>è‹¥ç”±ç³»ç»Ÿè°ƒç”¨ï¼ˆå¦‚ writeï¼‰å†…éƒ¨æ£€æµ‹åˆ°ï¼Œåˆ™ write è¿”å›é”™è¯¯ç ï¼ˆå¦‚ EIOï¼‰ï¼Œç”¨æˆ·ç¨‹åºè‡ªè¡Œå¤„ç†ï¼Œä¸è‡ªåŠ¨é‡è¯•ï¼›<br>âŒ æ— â€œå¿…é¡»é‡æ‰§è¡Œå½“å‰æŒ‡ä»¤â€çš„è¯­ä¹‰ã€‚</p>
<h1 id="é¢˜ç›®-29"><a href="#é¢˜ç›®-29" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>ä¸‹åˆ—æŒ‡ä»¤ä¸­ï¼Œåªèƒ½åœ¨å†…æ ¸æ€æ‰§è¡Œçš„æ˜¯( )ã€‚(2021)<br>Aã€trap æŒ‡ä»¤ Bã€I&#x2F;O æŒ‡ä»¤ Cã€æ•°æ®ä¼ é€æŒ‡ä»¤ Dã€è®¾ç½®æ–­ç‚¹æŒ‡ä»¤</p>
<h2 id="è§£æ-29"><a href="#è§£æ-29" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>ç­”æ¡ˆï¼šBã€I&#x2F;O æŒ‡ä»¤</p>
<p>âœ… è§£æï¼š<br>é¢˜ç›®é—®ï¼šåªèƒ½åœ¨å†…æ ¸æ€ï¼ˆç‰¹æƒæ€ï¼‰æ‰§è¡Œçš„æŒ‡ä»¤ã€‚<br>æˆ‘ä»¬é€é¡¹åˆ†æå„é€‰é¡¹çš„ç‰¹æƒçº§è¦æ±‚ï¼ˆä»¥ x86 ä¸ºä¾‹ï¼Œå…¶ä»–æ¶æ„åŸåˆ™ç±»ä¼¼ï¼‰ï¼š</p>
<p>A. trap æŒ‡ä»¤<br>âŒ å¯åœ¨ç”¨æˆ·æ€æ‰§è¡Œã€‚</p>
<p>æ³›æŒ‡ä¸»åŠ¨é™·å…¥å†…æ ¸çš„æŒ‡ä»¤ï¼Œå¦‚ï¼š<br>x86ï¼šint nï¼ˆå¦‚ int 0x80ï¼‰ã€syscall<br>ARMï¼šsvc #0ï¼ˆSupervisor Callï¼‰<br>è¿™äº›æŒ‡ä»¤è®¾è®¡ç›®çš„å°±æ˜¯ä¾›ç”¨æˆ·ç¨‹åºå‘èµ·ç³»ç»Ÿè°ƒç”¨ï¼Œå±äºéç‰¹æƒæŒ‡ä»¤ï¼›<br>æ‰§è¡Œåè‡ªåŠ¨åˆ‡æ¢åˆ°å†…æ ¸æ€ï¼Œä½†å‘èµ·ç‚¹åœ¨ç”¨æˆ·æ€ã€‚<br>âœ… ç”¨æˆ·æ€å¯ç”¨ã€‚<br>B. I&#x2F;O æŒ‡ä»¤<br>âœ… åªèƒ½åœ¨å†…æ ¸æ€æ‰§è¡Œã€‚</p>
<p>å…¸å‹å¦‚ x86 çš„ in &#x2F; out æŒ‡ä»¤ï¼ˆç«¯å£ I&#x2F;Oï¼‰ï¼Œæˆ–å¯¹ MMIO åœ°å€çš„ç›´æ¥è®¿é—®ï¼ˆè™½æ— ä¸“ç”¨æŒ‡ä»¤ï¼Œä½†åœ°å€è®¿é—®å—é¡µä¿æŠ¤é™åˆ¶ï¼‰ï¼›<br>å‡ºäºå®‰å…¨ä¸ç¨³å®šæ€§è€ƒè™‘ï¼Œç›´æ¥ç¡¬ä»¶ I&#x2F;O æ˜¯ç‰¹æƒæ“ä½œï¼š<br>è‹¥ç”¨æˆ·ç¨‹åºéšæ„è¯»å†™è®¾å¤‡å¯„å­˜å™¨ï¼Œå¯å¯¼è‡´è®¾å¤‡æ··ä¹±ã€ç³»ç»Ÿå´©æºƒã€ä¿¡æ¯æ³„éœ²ï¼›<br>x86 ä¸­ï¼Œæ‰§è¡Œ in&#x2F;out æ—¶è‹¥ CPL &gt; IOPLï¼ˆI&#x2F;O Privilege Levelï¼‰ï¼Œè§¦å‘ #GPï¼ˆGeneral Protection Faultï¼‰ï¼›<br>ç°ä»£ OS å°† IOPL è®¾ä¸º 0ï¼ˆä»…å†…æ ¸å¯ I&#x2F;Oï¼‰ï¼›<br>ç”¨æˆ·ç¨‹åºå¿…é¡»é€šè¿‡ read&#x2F;write&#x2F;ioctl ç­‰ç³»ç»Ÿè°ƒç”¨é—´æ¥è®¿é—®è®¾å¤‡ã€‚<br>âœ… ä»…å†…æ ¸æ€å¯æ‰§è¡Œ â†’ æ­£ç¡®ç­”æ¡ˆã€‚<br>C. æ•°æ®ä¼ é€æŒ‡ä»¤<br>âŒ å¯åœ¨ç”¨æˆ·æ€æ‰§è¡Œã€‚</p>
<p>å¦‚ mov, push, pop, lea ç­‰é€šç”¨æ•°æ®ç§»åŠ¨æŒ‡ä»¤ï¼›<br>æ˜¯ç¨‹åºåŸºç¡€æ“ä½œï¼Œç”¨æˆ·ç¨‹åºå¤§é‡ä½¿ç”¨ï¼›<br>åªè¦ä¸è®¿é—®å†…æ ¸åœ°å€ç©ºé—´ï¼ˆå—é¡µä¿æŠ¤é™åˆ¶ï¼‰ï¼Œå®Œå…¨å¯åœ¨ç”¨æˆ·æ€è¿è¡Œã€‚<br>âœ… éç‰¹æƒæŒ‡ä»¤ã€‚<br>D. è®¾ç½®æ–­ç‚¹æŒ‡ä»¤<br>âŒ å¯åœ¨ç”¨æˆ·æ€æ‰§è¡Œã€‚</p>
<p>é€šå¸¸æŒ‡ int 3ï¼ˆx86 æ–­ç‚¹æŒ‡ä»¤ï¼‰ï¼Œæˆ–è°ƒè¯•å™¨å†™å…¥çš„è½¯æ–­ç‚¹ï¼›<br>int 3 æ˜¯ä¸€æ¡åˆæ³•çš„ trap æŒ‡ä»¤ï¼Œç”¨æˆ·æ€å¯æ‰§è¡Œï¼›<br>æ‰§è¡Œåé™·å…¥å†…æ ¸ï¼ˆç”±è°ƒè¯•å­ç³»ç»Ÿå¤„ç†ï¼‰ï¼Œä½†æŒ‡ä»¤æœ¬èº«éç‰¹æƒï¼›<br>ç¡¬ä»¶æ–­ç‚¹ï¼ˆDR0~DR7ï¼‰çš„è®¾ç½®æ‰æ˜¯ç‰¹æƒæ“ä½œï¼Œä½†â€œè®¾ç½®æ–­ç‚¹æŒ‡ä»¤â€ä¸€èˆ¬æŒ‡ int 3ã€‚<br>âœ… ç”¨æˆ·æ€å¯ç”¨ã€‚</p>
<h1 id="é¢˜ç›®-30"><a href="#é¢˜ç›®-30" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>ä¸‹åˆ—å…³äºå¤šé“ç¨‹åºç³»ç»Ÿçš„å™è¿°ä¸­ï¼Œä¸æ­£ç¡®çš„æ˜¯ ( ) (2022)<br>A.æ”¯æŒè¿›ç¨‹çš„å¹¶å‘æ‰§è¡Œ B.ä¸å¿…æ”¯æŒè™šæ‹Ÿå­˜å‚¨ç®¡ç†<br>C.éœ€è¦å®ç°å¯¹å…±äº«èµ„æºçš„ç®¡ç† D.è¿›ç¨‹æ•°è¶Šå¤šCPU åˆ©ç”¨ç‡è¶Šé«˜</p>
<h2 id="è§£æ-30"><a href="#è§£æ-30" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>ç­”æ¡ˆï¼šD. è¿›ç¨‹æ•°è¶Šå¤š CPU åˆ©ç”¨ç‡è¶Šé«˜</p>
<p>âœ… è§£æï¼š<br>é¢˜ç›®è¦æ±‚é€‰å‡º ä¸æ­£ç¡®çš„å™è¿°ã€‚æˆ‘ä»¬é€é¡¹åˆ†æï¼š</p>
<p>A. æ”¯æŒè¿›ç¨‹çš„å¹¶å‘æ‰§è¡Œ<br>âœ… æ­£ç¡®ã€‚<br>å¤šé“ç¨‹åºç³»ç»Ÿçš„æ ¸å¿ƒç›®æ ‡å°±æ˜¯é€šè¿‡è¿›ç¨‹å¹¶å‘ï¼ˆå®è§‚å¹¶è¡Œï¼‰æé«˜èµ„æºåˆ©ç”¨ç‡ã€‚å¤šä¸ªè¿›ç¨‹äº¤æ›¿æˆ–å¹¶è¡Œæ‰§è¡Œæ˜¯å…¶åŸºæœ¬ç‰¹å¾ã€‚</p>
<p>B. ä¸å¿…æ”¯æŒè™šæ‹Ÿå­˜å‚¨ç®¡ç†<br>âœ… æ­£ç¡®ï¼ˆå³æ­¤é¡¹ä¸æ˜¯é”™è¯¯å™è¿°ï¼‰ã€‚</p>
<p>æ—©æœŸå¤šé“ç¨‹åºç³»ç»Ÿï¼ˆå¦‚ IBM OS&#x2F;MVTï¼‰è¿è¡Œåœ¨æ— è™šæ‹Ÿå†…å­˜çš„ç¡¬ä»¶ä¸Šï¼Œä½¿ç”¨è¦†ç›–ï¼ˆOverlayï¼‰ æˆ–äº¤æ¢ï¼ˆSwappingï¼‰ æŠ€æœ¯ç®¡ç†å†…å­˜ï¼›<br>è™šæ‹Ÿå­˜å‚¨ï¼ˆåˆ†é¡µ&#x2F;åˆ†æ®µï¼‰æ˜¯åç»­å‘å±•ï¼Œå¹¶éå¤šé“ç¨‹åºçš„å¿…è¦æ¡ä»¶ï¼›<br>åªè¦å†…å­˜è¶³å¤Ÿå®¹çº³å¤šä¸ªä½œä¸šï¼Œæˆ–é…åˆäº¤æ¢åŒºï¼Œå³å¯å®ç°å¤šé“ç¨‹åºã€‚<br>â†’ æ‰€ä»¥â€œä¸å¿…æ”¯æŒâ€æ˜¯äº‹å®é™ˆè¿°ï¼Œæ­£ç¡®ã€‚<br>C. éœ€è¦å®ç°å¯¹å…±äº«èµ„æºçš„ç®¡ç†<br>âœ… æ­£ç¡®ã€‚<br>å¹¶å‘è¿›ç¨‹å¯èƒ½ç«äº‰ CPUã€å†…å­˜ã€I&#x2F;O è®¾å¤‡ã€æ–‡ä»¶ç­‰èµ„æºï¼Œå¿…é¡»é€šè¿‡åŒæ­¥æœºåˆ¶ï¼ˆäº’æ–¥é”ã€ä¿¡å·é‡ç­‰ï¼‰é¿å…ç«æ€æ¡ä»¶ï¼Œè¿™æ˜¯å¤šé“ç³»ç»Ÿçš„åŸºæœ¬è¦æ±‚ã€‚</p>
<p>D. è¿›ç¨‹æ•°è¶Šå¤š CPU åˆ©ç”¨ç‡è¶Šé«˜<br>âŒ é”™è¯¯ï¼ˆæœ¬é¢˜ç­”æ¡ˆï¼‰ã€‚</p>
<p>CPU åˆ©ç”¨ç‡å¹¶ééšè¿›ç¨‹æ•°æ— é™å¢é•¿ï¼š<br>å½“è¿›ç¨‹æ•°è¾ƒå°‘æ—¶ï¼Œå¢åŠ è¿›ç¨‹å¯å‡å°‘ CPU ç©ºé—²ï¼ˆå¦‚ä¸€ä¸ªè¿›ç¨‹ I&#x2F;O æ—¶å¦ä¸€ä¸ªè®¡ç®—ï¼‰ï¼Œæå‡åˆ©ç”¨ç‡ï¼›<br>ä½†å½“è¿›ç¨‹æ•°è¶…è¿‡ç³»ç»Ÿæ‰¿è½½èƒ½åŠ›åï¼š<br>è°ƒåº¦å¼€é”€ï¼ˆä¸Šä¸‹æ–‡åˆ‡æ¢ï¼‰å‰§å¢ï¼›<br>ç¼“å­˜&#x2F;TLB å¤±æ•ˆç‡ä¸Šå‡ï¼›<br>å†…å­˜å‹åŠ›å¯¼è‡´é¢‘ç¹ç¼ºé¡µæˆ–äº¤æ¢ï¼ˆthrashingï¼‰ï¼›<br>å®é™… CPU ç”¨äºâ€œå¹²æ´»â€çš„æ¯”ä¾‹åè€Œä¸‹é™ï¼›<br>å­˜åœ¨ä¸€ä¸ªæœ€ä¼˜è¿›ç¨‹æ•°ï¼Œä½¿ CPU åˆ©ç”¨ç‡æœ€é«˜ï¼›è¿‡å¤šä¼šå¯¼è‡´æ€§èƒ½ä¸‹é™ã€‚<br>â†’ è¯¥è¯´æ³•å¿½ç•¥äº†ç³»ç»Ÿå¼€é”€ä¸èµ„æºç“¶é¢ˆï¼Œæ˜¯å…¸å‹çš„ç‰‡é¢è®¤è¯†ã€‚<br>ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š<br>å¤šé“ç¨‹åº â‰  æ— é™è¿›ç¨‹ï¼›<br>æ€§èƒ½ä¸å¹¶å‘åº¦å‘ˆå€’ U å‹å…³ç³»ï¼šå¤ªå°‘ â†’ èµ„æºé—²ç½®ï¼›å¤ªå¤š â†’ è°ƒåº¦&#x2F;æ¢é¡µå¼€é”€ä¸»å¯¼ï¼›<br>è™šæ‹Ÿå­˜å‚¨æ˜¯å¢å¼ºæ‰‹æ®µï¼Œéå¤šé“ç¨‹åºçš„å‰æï¼ˆå†å²äº‹å®ï¼šå¤šé“æ—©äºè™šæ‹Ÿå†…å­˜ï¼‰ã€‚</p>
<h1 id="é¢˜ç›®-31"><a href="#é¢˜ç›®-31" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>ä¸‹åˆ—é€‰é¡¹ä¸­ï¼Œéœ€è¦åœ¨æ“ä½œç³»ç»Ÿè¿›è¡Œåˆå§‹åŒ–è¿‡ç¨‹ä¸­åˆ›å»ºçš„æ˜¯( ) (2022)<br>A.ä¸­æ–­å‘é‡è¡¨ B.æ–‡ä»¶ç³»ç»Ÿçš„æ ¹ç›®å½•<br>C.ç¡¬ç›˜åˆ†åŒºè¡¨ D.æ–‡ä»¶ç³»ç»Ÿçš„ç´¢å¼•èŠ‚ç‚¹è¡¨</p>
<h2 id="è§£æ-31"><a href="#è§£æ-31" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>ç­”æ¡ˆï¼šA. ä¸­æ–­å‘é‡è¡¨</p>
<p>âœ… è§£æï¼š<br>é¢˜ç›®é—®ï¼šéœ€è¦åœ¨æ“ä½œç³»ç»Ÿåˆå§‹åŒ–è¿‡ç¨‹ä¸­åˆ›å»ºçš„æ˜¯å“ªä¸ªï¼Ÿ<br>å¼ºè°ƒâ€œæ“ä½œç³»ç»Ÿåˆå§‹åŒ–æ—¶ä¸»åŠ¨åˆ›å»º&#x2F;è®¾ç½®â€ï¼Œè€Œéç¡¬ä»¶å›ºæœ‰æˆ–ç”¨æˆ·ç©ºé—´åæœŸæ„å»ºçš„å†…å®¹ã€‚</p>
<p>æˆ‘ä»¬é€é¡¹åˆ†æï¼š</p>
<p>A. ä¸­æ–­å‘é‡è¡¨ï¼ˆInterrupt Vector Table, IVTï¼‰æˆ–ä¸­æ–­æè¿°ç¬¦è¡¨ï¼ˆIDTï¼‰<br>âœ… æ­£ç¡®ã€‚</p>
<p>åœ¨å®æ¨¡å¼ä¸‹ï¼ŒIVT å›ºå®šä½äºå†…å­˜ 0x0 å¤„ï¼ˆç”± BIOS åˆå§‹åŒ–ï¼‰ï¼Œä½†è¿›å…¥ä¿æŠ¤æ¨¡å¼&#x2F;é•¿æ¨¡å¼åï¼Œæ“ä½œç³»ç»Ÿå¿…é¡»é‡æ–°å»ºç«‹è‡ªå·±çš„ä¸­æ–­æè¿°ç¬¦è¡¨ï¼ˆIDTï¼‰ï¼›<br>OS å¯åŠ¨æ—©æœŸï¼ˆå¦‚ Linux çš„ setup_idt()ã€trap_init()ï¼‰ä¼šï¼š<br>åˆ†é… IDT å†…å­˜ï¼›<br>å¡«å……å„ä¸­æ–­&#x2F;å¼‚å¸¸çš„å¤„ç†ç¨‹åºå…¥å£ï¼ˆå¦‚ divide_error, page_fault, system_callï¼‰ï¼›<br>æ‰§è¡Œ lidt æŒ‡ä»¤åŠ è½½ IDTR å¯„å­˜å™¨ï¼›<br>è¿™æ˜¯ OS åˆå§‹åŒ–çš„å…³é”®æ­¥éª¤ï¼Œå¦åˆ™æ— æ³•å“åº”ä¸­æ–­å’Œå¼‚å¸¸ã€‚<br>â†’ å¿…é¡»ç”± OS åˆå§‹åŒ–æ—¶åˆ›å»ºã€‚<br>B. æ–‡ä»¶ç³»ç»Ÿçš„æ ¹ç›®å½•<br>âŒ ä¸ä¸€å®šç”± OS åˆå§‹åŒ–æ—¶åˆ›å»ºã€‚</p>
<p>æ ¹ç›®å½•æ˜¯æ–‡ä»¶ç³»ç»Ÿç»“æ„çš„ä¸€éƒ¨åˆ†ï¼Œé€šå¸¸åœ¨æ ¼å¼åŒ–ç£ç›˜æ—¶åˆ›å»ºï¼ˆå¦‚ mkfs.ext4ï¼‰ï¼›<br>OS å¯åŠ¨æ—¶åªæ˜¯æŒ‚è½½ï¼ˆmountï¼‰å·²å­˜åœ¨çš„æ ¹æ–‡ä»¶ç³»ç»Ÿï¼Œä¸è´Ÿè´£â€œåˆ›å»ºâ€å®ƒï¼›<br>å³ä½¿æ˜¯ initramfs æˆ– live ç³»ç»Ÿï¼Œæ ¹ç›®å½•ä¹Ÿæ˜¯ç”±æ„å»ºå·¥å…·é¢„å…ˆç”Ÿæˆï¼Œé OS è¿è¡Œæ—¶åˆ›å»ºã€‚<br>â†’ å±äºå­˜å‚¨ä»‹è´¨é¢„ç½®å†…å®¹ï¼Œé OS åˆå§‹åŒ–åŠ¨ä½œã€‚<br>C. ç¡¬ç›˜åˆ†åŒºè¡¨<br>âŒ ç”±ç£ç›˜åˆ†åŒºå·¥å…·åˆ›å»ºï¼ˆå¦‚ fdisk, partedï¼‰ï¼Œéæ“ä½œç³»ç»Ÿåˆå§‹åŒ–è¿‡ç¨‹ã€‚</p>
<p>åˆ†åŒºè¡¨ï¼ˆMBR æˆ– GPTï¼‰ä½äºç£ç›˜æœ€å‰ç«¯ï¼Œæ˜¯æŒä¹…åŒ–å­˜å‚¨ç»“æ„ï¼›<br>OS å¯åŠ¨æ—¶è¯»å–åˆ†åŒºè¡¨ä»¥å®šä½åˆ†åŒºï¼Œä½†ä¸åˆ›å»ºå®ƒï¼›<br>è‹¥åˆ†åŒºè¡¨æŸåï¼ŒOS æ— æ³•æ­£å¸¸å¼•å¯¼ï¼Œéœ€ç”¨å¤–éƒ¨å·¥å…·ä¿®å¤ã€‚<br>â†’ å±äºç£ç›˜çº§å…ƒæ•°æ®ï¼Œé OS åˆå§‹åŒ–èŒè´£ã€‚<br>D. æ–‡ä»¶ç³»ç»Ÿçš„ç´¢å¼•èŠ‚ç‚¹è¡¨ï¼ˆinode è¡¨ï¼‰<br>âŒ åœ¨æ ¼å¼åŒ–æ–‡ä»¶ç³»ç»Ÿæ—¶åˆ›å»ºï¼Œé OS åˆå§‹åŒ–æ—¶åŠ¨æ€åˆ›å»ºã€‚</p>
<p>å¦‚ ext4 çš„ inode è¡¨åœ¨ mkfs.ext4 æ—¶åˆ†é…å¹¶åˆå§‹åŒ–ï¼›<br>OS æŒ‚è½½åä½¿ç”¨å®ƒï¼Œä½†ä¸è´Ÿè´£é¦–æ¬¡åˆ›å»ºï¼›<br>è¿è¡Œæ—¶å¯èƒ½åŠ¨æ€åˆ†é…æ–° inodeï¼ˆå½“æ–‡ä»¶åˆ›å»ºæ—¶ï¼‰ï¼Œä½†â€œç´¢å¼•èŠ‚ç‚¹è¡¨â€çš„æ€»ä½“ç»“æ„æ˜¯é™æ€é¢„åˆ†é…çš„ã€‚<br>â†’ ä¸å±äºâ€œOS åˆå§‹åŒ–è¿‡ç¨‹åˆ›å»ºâ€çš„æ ¸å¿ƒæ•°æ®ç»“æ„ã€‚</p>
<h1 id="é¢˜ç›®-32"><a href="#é¢˜ç›®-32" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>ä¸‹åˆ—å…³äºCPU æ¨¡å¼çš„å™è¿°ä¸­ï¼Œæ­£ç¡®çš„æ˜¯( ) (2022)<br>A. CPU å¤„äºç”¨æˆ·æ€æ—¶åªèƒ½æ‰§è¡Œç‰¹æƒæŒ‡ä»¤<br>B. CPU å¤„äºå†…æ ¸æ€æ—¶åªèƒ½æ‰§è¡Œç‰¹æƒæŒ‡ä»¤<br>C. CPU å¤„äºç”¨æˆ·æ€æ—¶åªèƒ½æ‰§è¡Œéç‰¹æƒæŒ‡ä»¤<br>D. CPU å¤„äºå†…æ ¸æ€æ—¶åªèƒ½æ‰§è¡Œéç‰¹æƒæŒ‡ä»¤</p>
<h2 id="è§£æ-32"><a href="#è§£æ-32" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>ç­”æ¡ˆï¼šC. CPU å¤„äºç”¨æˆ·æ€æ—¶åªèƒ½æ‰§è¡Œéç‰¹æƒæŒ‡ä»¤</p>
<p>âœ… è§£æï¼š<br>æœ¬é¢˜è€ƒå¯Ÿ CPU ç‰¹æƒçº§ï¼ˆè¿è¡Œæ¨¡å¼ï¼‰ä¸æŒ‡ä»¤æƒé™çš„å…³ç³»ã€‚</p>
<p>ç°ä»£ CPUï¼ˆå¦‚ x86ã€ARMï¼‰æ”¯æŒå¤šç‰¹æƒçº§ï¼š</p>
<p>å†…æ ¸æ€ï¼ˆKernel Mode &#x2F; Ring 0 &#x2F; EL1+ï¼‰ï¼šå¯æ‰§è¡Œæ‰€æœ‰æŒ‡ä»¤ï¼ˆç‰¹æƒ + éç‰¹æƒï¼‰<br>ç”¨æˆ·æ€ï¼ˆUser Mode &#x2F; Ring 3 &#x2F; EL0ï¼‰ï¼šåªèƒ½æ‰§è¡Œéç‰¹æƒæŒ‡ä»¤ï¼›è‹¥å°è¯•æ‰§è¡Œç‰¹æƒæŒ‡ä»¤ï¼Œè§¦å‘ä¿æŠ¤å¼‚å¸¸ï¼ˆå¦‚ x86 çš„ #GPï¼‰<br>é€é¡¹åˆ†æï¼š<br>A. CPU å¤„äºç”¨æˆ·æ€æ—¶åªèƒ½æ‰§è¡Œç‰¹æƒæŒ‡ä»¤<br>âŒ é”™è¯¯ã€‚</p>
<p>ç”¨æˆ·æ€ç¦æ­¢æ‰§è¡Œç‰¹æƒæŒ‡ä»¤ï¼›<br>è‹¥æ‰§è¡Œ cliã€inã€mov cr3, %rax ç­‰ï¼ŒCPU ä¼šè§¦å‘å¼‚å¸¸ï¼Œç»ˆæ­¢è¿›ç¨‹ã€‚<br>B. CPU å¤„äºå†…æ ¸æ€æ—¶åªèƒ½æ‰§è¡Œç‰¹æƒæŒ‡ä»¤<br>âŒ é”™è¯¯ã€‚</p>
<p>å†…æ ¸ä»£ç ä¸­å¤§é‡ä½¿ç”¨éç‰¹æƒæŒ‡ä»¤ï¼š<br>mov, add, call, push ç­‰é€šç”¨è®¡ç®—&#x2F;æ§åˆ¶æŒ‡ä»¤ï¼›<br>ç”šè‡³å¯è°ƒç”¨ glibc å‡½æ•°ï¼ˆå¦‚å†…å­˜æ“ä½œï¼‰ï¼›<br>å†…æ ¸æ€æ˜¯æƒé™æ›´é«˜ï¼Œä¸æ˜¯â€œåªèƒ½åšç‰¹æƒäº‹â€ã€‚<br>C. CPU å¤„äºç”¨æˆ·æ€æ—¶åªèƒ½æ‰§è¡Œéç‰¹æƒæŒ‡ä»¤<br>âœ… æ­£ç¡®ã€‚</p>
<p>è¿™æ˜¯ CPU ä¿æŠ¤æœºåˆ¶çš„æ ¸å¿ƒè®¾è®¡ï¼š<br>éç‰¹æƒæŒ‡ä»¤ï¼šå¸¸è§„è¿ç®—ã€è®¿å­˜ï¼ˆç”¨æˆ·ç©ºé—´ï¼‰ã€æ§åˆ¶è½¬ç§»ç­‰ï¼›<br>ç‰¹æƒæŒ‡ä»¤ï¼šå…³ä¸­æ–­ã€è®¿é—®æ§åˆ¶å¯„å­˜å™¨ã€I&#x2F;O æŒ‡ä»¤ã€ä¿®æ”¹é¡µè¡¨ç­‰ï¼›<br>ç”¨æˆ·ç¨‹åºè¢«é™åˆ¶åœ¨â€œå®‰å…¨æ²™ç®±â€å†…ï¼Œä¿éšœç³»ç»Ÿç¨³å®šä¸å®‰å…¨ã€‚<br>D. CPU å¤„äºå†…æ ¸æ€æ—¶åªèƒ½æ‰§è¡Œéç‰¹æƒæŒ‡ä»¤<br>âŒ é”™è¯¯ã€‚</p>
<p>å†…æ ¸å¿…é¡»æ‰§è¡Œç‰¹æƒæŒ‡ä»¤æ‰èƒ½ç®¡ç†å·¥ä½œï¼š<br>sti&#x2F;cli æ§åˆ¶ä¸­æ–­<br>mov %cr3, %rax åˆ‡æ¢åœ°å€ç©ºé—´<br>wrmsr å†™æ¨¡å‹ç‰¹å®šå¯„å­˜å™¨<br>in&#x2F;out æ“ä½œè®¾å¤‡ï¼ˆè™½ç°ä»£é©±åŠ¨å¤šç”¨ MMIOï¼Œä½†ä»éœ€ç‰¹æƒè®¿é—®ï¼‰<br>â†’ è‹¥å†…æ ¸ä¸èƒ½æ‰§è¡Œç‰¹æƒæŒ‡ä»¤ï¼Œæ“ä½œç³»ç»Ÿæ ¹æœ¬æ— æ³•è¿è¡Œ</p>
<h1 id="é¢˜ç›®-33"><a href="#é¢˜ç›®-33" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>æ‰§è¡Œç³»ç»Ÿè°ƒç”¨çš„è¿‡ç¨‹æ¶‰åŠä¸‹åˆ—æ“ä½œï¼Œå…¶ä¸­ç”±æ“ä½œç³»ç»Ÿå®Œæˆçš„æ˜¯( ) (2022)<br>I.ä¿å­˜æ–­ç‚¹å’Œç¨‹åºçŠ¶æ€å­— â…¡.ä¿å­˜é€šç”¨å¯„å­˜å™¨çš„å†…å®¹<br>â…¢.æ‰§è¡Œç³»ç»Ÿè°ƒç”¨æœåŠ¡ä¾‹ç¨‹ IV.å°†CPU æ¨¡å¼æ”¹ä¸ºå†…æ ¸æ€<br>A.ä»…Iã€â…¢ B.ä»…â…¡ã€â…¢ C ä»…â…¡ã€IV D.ä»…â…¡ã€â…¢ã€IV</p>
<h2 id="è§£æ-33"><a href="#è§£æ-33" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>ç­”æ¡ˆï¼šB. ä»…â…¡ã€â…¢</p>
<p>âœ… è§£æï¼š<br>æœ¬é¢˜è€ƒæŸ¥ ç³»ç»Ÿè°ƒç”¨æ‰§è¡Œè¿‡ç¨‹ä¸­è½¯ç¡¬ä»¶çš„åˆ†å·¥ã€‚å…³é”®åœ¨äºåŒºåˆ†å“ªäº›æ“ä½œç”± ç¡¬ä»¶è‡ªåŠ¨å®Œæˆï¼Œå“ªäº›ç”± æ“ä½œç³»ç»Ÿï¼ˆè½¯ä»¶ï¼‰å®Œæˆã€‚</p>
<p>æˆ‘ä»¬é€é¡¹åˆ†æï¼š</p>
<p>I. ä¿å­˜æ–­ç‚¹å’Œç¨‹åºçŠ¶æ€å­—ï¼ˆPSWï¼‰<br>âŒ ç”±ç¡¬ä»¶è‡ªåŠ¨å®Œæˆï¼Œéæ“ä½œç³»ç»Ÿã€‚</p>
<p>æ‰§è¡Œ syscall &#x2F; int 0x80 ç­‰é™·å…¥æŒ‡ä»¤æ—¶ï¼ŒCPU ç¡¬ä»¶ç”µè·¯è‡ªåŠ¨ï¼š<br>å°†è¿”å›åœ°å€ï¼ˆæ–­ç‚¹ï¼Œå³ä¸‹ä¸€æ¡æŒ‡ä»¤åœ°å€ï¼‰å‹æ ˆï¼›<br>å°†å½“å‰ RFLAGSï¼ˆPSWï¼‰å‹æ ˆï¼›<br>åˆ‡æ¢æ ˆæŒ‡é’ˆï¼ˆå¦‚ä»ç”¨æˆ·æ ˆåˆ‡æ¢åˆ°å†…æ ¸æ ˆï¼‰ï¼›<br>ä¾‹å¦‚ x86-64 syscall æŒ‡ä»¤ä¼šè‡ªåŠ¨ä¿å­˜ RIP â†’ RCXï¼ŒRFLAGS â†’ R11ï¼Œå¹¶åŠ è½½å†…æ ¸ CS&#x2F;RIPï¼›<br>â†’ æ“ä½œç³»ç»Ÿä¸å‚ä¸ä¹Ÿä¸æ§åˆ¶æ­¤è¿‡ç¨‹ã€‚<br>II. ä¿å­˜é€šç”¨å¯„å­˜å™¨çš„å†…å®¹<br>âœ… ç”±æ“ä½œç³»ç»Ÿå®Œæˆã€‚</p>
<p>ç¡¬ä»¶ä¸ä¼šè‡ªåŠ¨ä¿å­˜é€šç”¨å¯„å­˜å™¨ï¼ˆå¦‚ RAX, RBX, RCXâ€¦ï¼‰ï¼›<br>ä¸ºä¿è¯è¢«ä¸­æ–­çš„ç”¨æˆ·è¿›ç¨‹çŠ¶æ€é€æ˜ï¼Œå†…æ ¸çš„ç³»ç»Ÿè°ƒç”¨å…¥å£ä»£ç å¿…é¡»æ˜¾å¼ä¿å­˜è¿™äº›å¯„å­˜å™¨ï¼›<br>ä¾‹å¦‚ Linux çš„ entry_SYSCALL_64 ä¸­è°ƒç”¨ SWAPGS åï¼Œä¼šæ‰§è¡Œ SAVE_C_REGS &#x2F; SAVE_EXTRA_REGS å®ä¿å­˜å¯„å­˜å™¨ï¼›<br>â†’ å±äº OS çš„è½¯ä»¶ç°åœºä¿æŠ¤ã€‚<br>III. æ‰§è¡Œç³»ç»Ÿè°ƒç”¨æœåŠ¡ä¾‹ç¨‹<br>âœ… ç”±æ“ä½œç³»ç»Ÿå®Œæˆã€‚</p>
<p>å¦‚ sys_read, sys_write, sys_fork ç­‰ï¼Œæ˜¯ OS å†…æ ¸å®ç°çš„å…·ä½“åŠŸèƒ½å‡½æ•°ï¼›<br>ç¡¬ä»¶åªè´Ÿè´£è·³è½¬åˆ°ç³»ç»Ÿè°ƒç”¨åˆ†å‘å™¨ï¼ˆå¦‚æŸ¥ sys_call_tableï¼‰ï¼Œå…·ä½“æœåŠ¡é€»è¾‘å®Œå…¨ç”± OS ç¼–å†™ã€‚<br>IV. å°† CPU æ¨¡å¼æ”¹ä¸ºå†…æ ¸æ€<br>âŒ ç”±ç¡¬ä»¶è‡ªåŠ¨å®Œæˆã€‚</p>
<p>syscall &#x2F; int æŒ‡ä»¤æ‰§è¡Œæ—¶ï¼ŒCPU è‡ªåŠ¨åˆ‡æ¢ç‰¹æƒçº§ï¼ˆå¦‚ x86 è®¾ç½® CPL&#x3D;0ï¼ŒARM åˆ‡æ¢åˆ° EL1ï¼‰ï¼›<br>è¿™æ˜¯é™·å…¥æœºåˆ¶çš„å›ºæœ‰è¡Œä¸ºï¼Œç”±æŒ‡ä»¤å¾®ç å®ç°ï¼ŒOS æ— æ³•ä¹Ÿä¸éœ€å¹²é¢„ï¼›<br>â†’ å±äºç¡¬ä»¶ç‰¹æƒçº§åˆ‡æ¢ã€‚<br>ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š<br>ç¡¬ä»¶è´Ÿè´£ï¼šæ¨¡å¼åˆ‡æ¢ã€æ–­ç‚¹&#x2F;PSW ä¿å­˜ã€å‘é‡æŸ¥è¡¨è·³è½¬ï¼ˆä¸­æ–­éšæŒ‡ä»¤èŒƒç•´ï¼‰ï¼›<br>æ“ä½œç³»ç»Ÿè´Ÿè´£ï¼š<br>é€šç”¨å¯„å­˜å™¨ç­‰æ‰©å±•ç°åœºä¿å­˜ï¼›<br>å‚æ•°æå–ã€æƒé™æ£€æŸ¥ã€å…·ä½“æœåŠ¡æ‰§è¡Œï¼›<br>æ¢å¤ç°åœºä¸è¿”å›ï¼›<br>æ˜“é”™ç‚¹ï¼šè¯¯ä»¥ä¸ºâ€œåˆ‡æ¢å†…æ ¸æ€â€æ˜¯ OS åšçš„â€”â€”å®ä¸ºæŒ‡ä»¤è§¦å‘çš„ç¡¬ä»¶è¡Œä¸ºã€‚</p>
<h1 id="é¢˜ç›®-34"><a href="#é¢˜ç›®-34" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>ä¸å®å†…æ ¸æ“ä½œç³»ç»Ÿç›¸æ¯”ï¼Œä¸‹åˆ—ç‰¹å¾ä¸­å¾®å†…æ ¸æ“ä½œç³»ç»Ÿå…·æœ‰çš„æ˜¯( ) (2023)<br>I.è¾ƒå¥½çš„æ€§èƒ½â…¡.è¾ƒé«˜çš„å¯é æ€§ â…¢.è¾ƒé«˜çš„å®‰å…¨æ€§ IV.è¾ƒå¼ºçš„å¯æ‰©å±•æ€§<br>A.ä»…â…¡ã€IV B.ä»…I ã€â…¡ã€IV C.ä»…I ã€ â…¢ ã€IV D.ä»…â…¡ã€â…¢ã€IV</p>
<h2 id="è§£æ-34"><a href="#è§£æ-34" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>æ­£ç¡®é€‰é¡¹ï¼šD. ä»…â…¡ã€â…¢ã€IV<br>é€é¡¹åˆ¤æ–­ï¼š<br>I. è¾ƒå¥½çš„æ€§èƒ½<br>âŒ é”™è¯¯ï¼ˆå¾®å†…æ ¸é€šå¸¸æ€§èƒ½è¾ƒä½ï¼‰</p>
<p>å¾®å†…æ ¸å› å¤§é‡åŠŸèƒ½ç§»åˆ°ç”¨æˆ·æ€ï¼ŒæœåŠ¡è°ƒç”¨éœ€å¤šæ¬¡è¿›ç¨‹é—´é€šä¿¡ï¼ˆIPCï¼‰å’Œä¸Šä¸‹æ–‡åˆ‡æ¢ï¼›<br>ä¾‹å¦‚è¯»æ–‡ä»¶ï¼šç”¨æˆ·ç¨‹åº â†’ IPC â†’ æ–‡ä»¶æœåŠ¡ â†’ IPC â†’ è®¾å¤‡é©±åŠ¨ â†’ ç¡¬ä»¶ï¼›<br>ç›¸æ¯”å®å†…æ ¸çš„ç›´æ¥ç³»ç»Ÿè°ƒç”¨ï¼ŒIPC å¼€é”€æ˜¾è‘—ï¼›<br>å°½ç®¡ç°ä»£å¾®å†…æ ¸ï¼ˆå¦‚ L4ï¼‰é€šè¿‡ä¼˜åŒ– IPC å¤§å¹…æå‡æ€§èƒ½ï¼Œä½†æ€»ä½“ä»é€Šäºé«˜åº¦ä¼˜åŒ–çš„å®å†…æ ¸ï¼ˆå¦‚ Linuxï¼‰ï¼›<br>â†’ å®å†…æ ¸æ€§èƒ½æ›´å¥½ï¼ŒI ä¸å±äºå¾®å†…æ ¸ä¼˜åŠ¿ã€‚<br>II. è¾ƒé«˜çš„å¯é æ€§<br>âœ… æ­£ç¡®</p>
<p>å¾®å†…æ ¸ä¸­ï¼Œæ–‡ä»¶ç³»ç»Ÿã€é©±åŠ¨ç­‰è¿è¡Œåœ¨ç”¨æˆ·æ€ï¼›<br>è‹¥æŸä¸ªé©±åŠ¨å´©æºƒï¼ˆå¦‚æ˜¾å¡é©±åŠ¨ bugï¼‰ï¼Œä»…è¯¥æœåŠ¡è¿›ç¨‹ç»ˆæ­¢ï¼Œå†…æ ¸å’Œå…¶ä»–æœåŠ¡ä¸å—å½±å“ï¼Œç³»ç»Ÿå¯é‡å¯è¯¥æœåŠ¡ï¼›<br>å®å†…æ ¸ä¸­ï¼Œé©±åŠ¨å´©æºƒ &#x3D; å†…æ ¸å´©æºƒ &#x3D; ç³»ç»Ÿå®•æœºï¼ˆKernel Panic &#x2F; BSODï¼‰ï¼›<br>â†’ å¾®å†…æ ¸é€šè¿‡éš”ç¦»æ•…éšœåŸŸæå‡å¯é æ€§ã€‚<br>III. è¾ƒé«˜çš„å®‰å…¨æ€§<br>âœ… æ­£ç¡®</p>
<p>ç”¨æˆ·æ€æœåŠ¡å— MMU ä¿æŠ¤ï¼Œæƒé™æœ€å°åŒ–ï¼ˆPrinciple of Least Privilegeï¼‰ï¼›<br>æ”»å‡»è€…å³ä½¿æ”»ç ´ä¸€ä¸ªé©±åŠ¨ï¼Œä¹Ÿæ— æ³•ç›´æ¥è·å¾—å†…æ ¸æƒé™ï¼ˆéœ€é¢å¤–ææƒæ¼æ´ï¼‰ï¼›<br>å®å†…æ ¸ä¸­ï¼Œä»»ä½•æ¨¡å—æ¼æ´éƒ½å¯èƒ½å¯¼è‡´æ•´ä¸ªå†…æ ¸è¢«æ¥ç®¡ï¼›<br>seL4 å¾®å†…æ ¸ç”šè‡³é€šè¿‡å½¢å¼åŒ–éªŒè¯è¯æ˜å…¶å®‰å…¨å±æ€§ã€‚<br>IV. è¾ƒå¼ºçš„å¯æ‰©å±•æ€§<br>âœ… æ­£ç¡®</p>
<p>æ–°å¢åŠŸèƒ½ï¼ˆå¦‚æ–°æ–‡ä»¶ç³»ç»Ÿã€æ–°åè®®æ ˆï¼‰åªéœ€æ·»åŠ ç”¨æˆ·æ€æœåŠ¡è¿›ç¨‹ï¼Œæ— éœ€ä¿®æ”¹&#x2F;é‡ç¼–è¯‘å†…æ ¸ï¼›<br>æ”¯æŒåŠ¨æ€åŠ è½½&#x2F;å¸è½½æœåŠ¡ï¼›<br>å®å†…æ ¸æ‰©å±•å¸¸éœ€é‡æ–°ç¼–è¯‘å†…æ ¸æˆ–åŠ è½½å†…æ ¸æ¨¡å—ï¼ˆä»è¿è¡Œåœ¨å†…æ ¸æ€ï¼Œé£é™©é«˜ï¼‰ï¼›<br>â†’ å¾®å†…æ ¸æ›´æ˜“å®šåˆ¶ã€ç»´æŠ¤ã€æ›´æ–°ã€‚<br>âœ… ç»“è®ºï¼š<br>Iï¼ˆæ€§èƒ½ï¼‰ï¼šâŒ å¾®å†…æ ¸åŠ£åŠ¿<br>IIï¼ˆå¯é æ€§ï¼‰ï¼šâœ…<br>IIIï¼ˆå®‰å…¨æ€§ï¼‰ï¼šâœ…<br>IVï¼ˆå¯æ‰©å±•æ€§ï¼‰ï¼šâœ…<br>â†’ æ­£ç¡®é€‰é¡¹ï¼šD. ä»…â…¡ã€â…¢ã€IV</p>
<h1 id="é¢˜ç›®-35"><a href="#é¢˜ç›®-35" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>åœ¨æ“ä½œç³»ç»Ÿå†…æ ¸ä¸­ï¼Œä¸­æ–­å‘é‡è¡¨é€‚åˆé‡‡ç”¨çš„æ•°æ®ç»“æ„æ˜¯( ) (2023)<br>A.æ•°ç»„ B.é˜Ÿåˆ— C.å•å‘é“¾è¡¨ D.åŒå‘é“¾è¡¨</p>
<h2 id="è§£æ-35"><a href="#è§£æ-35" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>ç­”æ¡ˆï¼šA. æ•°ç»„</p>
<p>âœ… è§£æï¼š<br>ä¸­æ–­å‘é‡è¡¨ï¼ˆInterrupt Vector Table, IVTï¼‰æˆ–ä¸­æ–­æè¿°ç¬¦è¡¨ï¼ˆInterrupt Descriptor Table, IDTï¼‰ æ˜¯æ“ä½œç³»ç»Ÿç”¨äºå°†ä¸­æ–­&#x2F;å¼‚å¸¸å·æ˜ å°„åˆ°å¯¹åº”å¤„ç†ç¨‹åºå…¥å£åœ°å€çš„å…³é”®æ•°æ®ç»“æ„ã€‚</p>
<p>æˆ‘ä»¬åˆ†æä¸ºä½• æ•°ç»„ï¼ˆArrayï¼‰æ˜¯æœ€é€‚åˆçš„æ•°æ®ç»“æ„ï¼š</p>
<ol>
<li>è®¿é—®æ¨¡å¼ï¼šæŒ‰ä¸­æ–­å·éšæœºã€ç›´æ¥è®¿é—®<br>ä¸­æ–­&#x2F;å¼‚å¸¸å‘ç”Ÿæ—¶ï¼ŒCPU æ ¹æ®ä¸­æ–­ç±»å‹å·ï¼ˆå¦‚æ—¶é’Ÿä¸­æ–­ IRQ0 â†’ å‘é‡ 32ï¼Œç¼ºé¡µ â†’ å‘é‡ 14ï¼‰ç›´æ¥ç´¢å¼•æŸ¥æ‰¾å¤„ç†ç¨‹åºå…¥å£ï¼›<br>è¦æ±‚ O(1) æ—¶é—´å¤æ‚åº¦çš„éšæœºè®¿é—®ï¼›<br>â†’ æ•°ç»„å¤©ç„¶æ”¯æŒé€šè¿‡ä¸‹æ ‡ï¼ˆä¸­æ–­å·ï¼‰ç›´æ¥å¯»å€ï¼Œå®Œç¾åŒ¹é…ã€‚</li>
<li>å…¶ä»–é€‰é¡¹ä¸ºä½•ä¸åˆé€‚ï¼š<br>B. é˜Ÿåˆ—<br>é€‚ç”¨äºå…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰é¡ºåºå¤„ç†ï¼ˆå¦‚ä»»åŠ¡è°ƒåº¦ã€æ‰“å°é˜Ÿåˆ—ï¼‰ï¼›<br>ä¸­æ–­å¤„ç†ä¸è¦æ±‚é¡ºåºï¼Œè€Œæ˜¯æŒ‰ç±»å‹å·å¹¶è¡Œã€ç‹¬ç«‹å“åº”ï¼›<br>æ— æ³•é€šè¿‡ä¸­æ–­å·å¿«é€Ÿå®šä½å…¥å£ã€‚<br>C. å•å‘é“¾è¡¨ &#x2F; D. åŒå‘é“¾è¡¨<br>æŸ¥æ‰¾éœ€éå†ï¼Œæ—¶é—´å¤æ‚åº¦ O(n)ï¼Œæ— æ³•æ»¡è¶³ä¸­æ–­å¤„ç†ä½å»¶è¿Ÿã€é«˜ç¡®å®šæ€§è¦æ±‚ï¼›<br>ä¸­æ–­å‘é‡è¡¨å¤§å°å›ºå®šï¼ˆå¦‚ x86 æœ‰ 256 ä¸ªå‘é‡ï¼‰ï¼Œæ— éœ€åŠ¨æ€å¢åˆ ï¼›<br>é“¾è¡¨é¢å¤–æŒ‡é’ˆå¼€é”€æ— å¿…è¦ã€‚</li>
<li>å®é™…ç³»ç»Ÿå®ç°ä½è¯ï¼š<br>x86 å®æ¨¡å¼ï¼šIVT æ˜¯ä½äºç‰©ç†åœ°å€ 0x0 çš„ 256 é¡¹æ•°ç»„ï¼Œæ¯é¡¹ 4 å­—èŠ‚ï¼ˆCS:IPï¼‰ï¼›<br>x86 ä¿æŠ¤&#x2F;é•¿æ¨¡å¼ï¼šIDT æ˜¯ç”± lidt åŠ è½½çš„è¿ç»­å†…å­˜æ•°ç»„ï¼Œæ¯é¡¹ä¸ºé—¨æè¿°ç¬¦ï¼ˆ16 å­—èŠ‚ï¼‰ï¼›<br>Linux å†…æ ¸ä¸­ï¼šgate_desc idt_table[256] æ˜¯é™æ€æ•°ç»„ï¼›<br>ARM å¼‚å¸¸å‘é‡è¡¨ï¼šå›ºå®šåç§»çš„è·³è½¬æŒ‡ä»¤å—ï¼ˆæœ¬è´¨ä¹Ÿæ˜¯æ•°ç»„å¼å¸ƒå±€ï¼‰ã€‚<br>ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š<br>ä¸­æ–­å‘é‡è¡¨æ ¸å¿ƒéœ€æ±‚ï¼šæŒ‰ä¸­æ–­å·å¿«é€Ÿç´¢å¼• â†’ O(1) éšæœºè®¿é—®ï¼›<br>æ•°ç»„æ˜¯å”¯ä¸€æ»¡è¶³è¯¥éœ€æ±‚çš„çº¿æ€§ç»“æ„ï¼›<br>ç³»ç»Ÿè®¾è®¡è®²ç©¶â€œç”¨æœ€ç®€å•ç»“æ„æ»¡è¶³å…³é”®æ€§èƒ½éœ€æ±‚â€ï¼Œæ­¤å¤„æ•°ç»„æœ€ä¼˜ã€‚</li>
</ol>
<h1 id="é¢˜ç›®-36"><a href="#é¢˜ç›®-36" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>ä¸‹åˆ—æ“ä½œå®Œæˆæ—¶ï¼Œå¯¼è‡´ CPU ä»å†…æ ¸æ€è½¬ä¸ºç”¨æˆ·æ€çš„æ˜¯( ) (2023)<br>A.é˜»å¡è¿‡ç¨‹ B.æ‰§è¡Œ CPU è°ƒåº¦ C.å”¤é†’è¿›ç¨‹ D.æ‰§è¡Œç³»ç»Ÿè°ƒç”¨</p>
<h2 id="è§£æ-36"><a href="#è§£æ-36" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>æœ€ç»ˆç­”æ¡ˆï¼ˆæŒ‰è€ƒè¯•æƒ¯ä¾‹ï¼‰ï¼šD. æ‰§è¡Œç³»ç»Ÿè°ƒç”¨<br>âœ… æ­£ç¡®ç­”æ¡ˆåº”ä¸ºï¼šç³»ç»Ÿè°ƒç”¨è¿”å›ï¼ˆå³ç³»ç»Ÿè°ƒç”¨å®Œæˆæ—¶ï¼‰ï¼Œä½†é€‰é¡¹ D å†™çš„æ˜¯ â€œæ‰§è¡Œç³»ç»Ÿè°ƒç”¨â€ï¼Œè€Œéâ€œç³»ç»Ÿè°ƒç”¨è¿”å›â€ã€‚<br>é¢˜å¹²ï¼šâ€œä¸‹åˆ—æ“ä½œ å®Œæˆæ—¶ï¼Œå¯¼è‡´ CPU ä»å†…æ ¸æ€è½¬ä¸ºç”¨æˆ·æ€çš„æ˜¯â€</p>
<p>æˆ‘ä»¬é€é¡¹ä¸¥æ ¼åˆ†æï¼ˆæ³¨æ„â€œå®Œæˆæ—¶â€è¿™ä¸ªæ—¶é—´ç‚¹ï¼‰ï¼š</p>
<p>A. é˜»å¡è¿›ç¨‹<br>âŒ ä¸ä¼šè½¬å›ç”¨æˆ·æ€ã€‚</p>
<p>è¿›ç¨‹åœ¨å†…æ ¸ä¸­æ‰§è¡Œç³»ç»Ÿè°ƒç”¨ï¼ˆå¦‚ readï¼‰æ—¶å‘ç°éœ€ç­‰å¾… I&#x2F;O â†’ ä¸»åŠ¨è°ƒç”¨ schedule() è®©å‡º CPUï¼›<br>å½“å‰è¿›ç¨‹è¿›å…¥é˜»å¡æ€ï¼ŒCPU åˆ‡æ¢åˆ°å¦ä¸€ä¸ªè¿›ç¨‹ï¼ˆå¯èƒ½ä»æ˜¯å†…æ ¸æ€çš„å…¶ä»–è¿›ç¨‹ï¼Œæˆ–ç”¨æˆ·è¿›ç¨‹ï¼‰ï¼›<br>è‹¥è°ƒåº¦åˆ°çš„æ˜¯å¦ä¸€ä¸ªç”¨æˆ·è¿›ç¨‹ï¼Œåˆ™ CPU ä¼šè½¬ä¸ºç”¨æˆ·æ€â€”â€”ä½†è¿™å½’å› äºè¿›ç¨‹åˆ‡æ¢ + æ–°è¿›ç¨‹æ˜¯ç”¨æˆ·è¿›ç¨‹ï¼Œè€Œéâ€œé˜»å¡æ“ä½œæœ¬èº«å¯¼è‡´è½¬ç”¨æˆ·æ€â€ï¼›<br>æ›´å…³é”®çš„æ˜¯ï¼šæ‰§è¡Œé˜»å¡æ“ä½œçš„è¿›ç¨‹è‡ªå·±å¹¶æœªå›åˆ°ç”¨æˆ·æ€ï¼ˆå®ƒè¢«æŒ‚èµ·äº†ï¼‰ã€‚<br>â†’ ä¸ç¬¦åˆâ€œæ“ä½œå®Œæˆæ—¶ï¼ŒCPU è½¬ä¸ºç”¨æˆ·æ€â€ï¼ˆå¯¹å½“å‰ä¸Šä¸‹æ–‡è€Œè¨€ï¼‰ã€‚<br>B. æ‰§è¡Œ CPU è°ƒåº¦<br>âŒ è°ƒåº¦æœ¬èº«åœ¨å†…æ ¸æ€å®Œæˆï¼Œä¸æ”¹å˜å½“å‰ CPU æ¨¡å¼ã€‚</p>
<p>schedule() å‡½æ•°å…¨ç¨‹è¿è¡Œåœ¨å†…æ ¸æ€ï¼›<br>è°ƒåº¦ç»“æœå¯èƒ½æ˜¯åˆ‡æ¢åˆ°ï¼š<br>å¦ä¸€ä¸ªå†…æ ¸çº¿ç¨‹ï¼ˆä»å†…æ ¸æ€ï¼‰<br>ä¸€ä¸ªç”¨æˆ·è¿›ç¨‹ï¼ˆæ­¤æ—¶åç»­ iret&#x2F;sysret ä¼šåˆ‡å›ç”¨æˆ·æ€ï¼‰<br>ä½†è°ƒåº¦å®Œæˆç¬é—´ï¼ŒCPU ä»åœ¨å†…æ ¸æ€ï¼›çœŸæ­£åˆ‡æ¢åˆ°ç”¨æˆ·æ€å‘ç”Ÿåœ¨ä¸Šä¸‹æ–‡æ¢å¤ + æ‰§è¡Œ iret ä¹‹åï¼›<br>â†’ è°ƒåº¦ â‰  æ¨¡å¼åˆ‡æ¢ã€‚<br>C. å”¤é†’è¿›ç¨‹<br>âŒ å”¤é†’æ“ä½œåœ¨å†…æ ¸æ€å®Œæˆï¼Œè¢«å”¤é†’è¿›ç¨‹åªæ˜¯è¿›å…¥å°±ç»ªé˜Ÿåˆ—ï¼Œå¹¶æœªç«‹å³è¿è¡Œï¼Œæ›´æœªåˆ‡æ¢åˆ°ç”¨æˆ·æ€ã€‚</p>
<p>ä¾‹å¦‚ä¸­æ–­å¤„ç†ä¸­å”¤é†’ç­‰å¾… I&#x2F;O çš„è¿›ç¨‹ï¼šè°ƒç”¨ wake_up()ï¼Œä»…ä¿®æ”¹å…¶çŠ¶æ€ä¸º TASK_RUNNINGï¼›<br>å®é™…è¿è¡Œéœ€ç­‰åç»­è°ƒåº¦ï¼›<br>â†’ å”¤é†’å®Œæˆæ—¶ï¼ŒCPU ä»å¤„äºä¸­æ–­&#x2F;ç³»ç»Ÿè°ƒç”¨ä¸Šä¸‹æ–‡ï¼ˆå†…æ ¸æ€ï¼‰ã€‚<br>D. æ‰§è¡Œç³»ç»Ÿè°ƒç”¨<br>âŒ æ‰§è¡Œç³»ç»Ÿè°ƒç”¨æ—¶ï¼ŒCPU ä»ç”¨æˆ·æ€ è¿›å…¥ å†…æ ¸æ€ï¼›</p>
<p>â€œæ‰§è¡Œç³»ç»Ÿè°ƒç”¨â€æ˜¯ä¸€ä¸ªè¿‡ç¨‹ï¼Œå…¶å¼€å§‹æ—¶é™·å…¥å†…æ ¸ï¼Œç»“æŸæ—¶è¿”å›ç”¨æˆ·æ€ï¼›<br>ä½†é¢˜å¹²é—®çš„æ˜¯â€œæ“ä½œå®Œæˆæ—¶â€ï¼Œè‹¥ç†è§£ä¸ºâ€œç³»ç»Ÿè°ƒç”¨æœåŠ¡ä¾‹ç¨‹æ‰§è¡Œå®Œæ¯•â€ï¼Œåˆ™ç´§æ¥ç€ä¼šï¼š<br>æ¢å¤å¯„å­˜å™¨<br>æ‰§è¡Œ sysret &#x2F; iret<br>CPU åˆ‡å›ç”¨æˆ·æ€<br>â†’ è¡¨é¢çœ‹ï¼ŒD ä¼¼ä¹åˆç†ã€‚<br>âš ï¸ é—®é¢˜åœ¨äºè¡¨è¿°æ­§ä¹‰ï¼š</p>
<p>â€œæ‰§è¡Œç³»ç»Ÿè°ƒç”¨â€é€šå¸¸æŒ‡å‘èµ·å¹¶è¿›å…¥å†…æ ¸çš„è¿‡ç¨‹ï¼ˆå³é™·å…¥é˜¶æ®µï¼‰ï¼Œè€Œéè¿”å›é˜¶æ®µï¼›<br>ä¸¥æ ¼è¯´ï¼Œâ€œç³»ç»Ÿè°ƒç”¨è¿”å›â€æ‰æ˜¯åˆ‡å›ç”¨æˆ·æ€çš„æ—¶åˆ»ï¼Œä½†é€‰é¡¹æœªå†™â€œè¿”å›â€ã€‚<br>ğŸ” çœŸå®åœºæ™¯å›é¡¾ï¼ˆä»¥ read ä¸ºä¾‹ï¼‰ï¼š<br>text<br>1234567891011<br>â†’ ç³»ç»Ÿè°ƒç”¨ è¿”å› æ—¶ï¼ŒCPU ä»å†…æ ¸æ€ â†’ ç”¨æˆ·æ€ã€‚</p>
<p>å› æ­¤ï¼Œè‹¥é€‰é¡¹ D æ˜¯ â€œç³»ç»Ÿè°ƒç”¨è¿”å›â€ï¼Œåˆ™æ­£ç¡®ï¼›ä½†é¢˜å¹²å†™çš„æ˜¯ â€œæ‰§è¡Œç³»ç»Ÿè°ƒç”¨â€ï¼Œæ˜“è¢«ç†è§£ä¸ºâ€œè°ƒç”¨è¿‡ç¨‹ä¸­â€ï¼Œå±å¸¸è§å‘½é¢˜ç‘•ç–µã€‚</p>
<p>ğŸ“Œ ç»“è®ºï¼ˆç»“åˆå†å¹´çœŸé¢˜æƒ¯ä¾‹ï¼‰ï¼š<br>åœ¨å†å¹´è€ƒç ”é¢˜ä¸­ï¼Œç±»ä¼¼é¢˜ç›®çš„æ ‡å‡†ç­”æ¡ˆé€šå¸¸æ˜¯ï¼š<br>âœ… ç³»ç»Ÿè°ƒç”¨è¿”å› æ˜¯å”¯ä¸€å¯¼è‡´ CPU ä»å†…æ ¸æ€å›åˆ°ç”¨æˆ·æ€çš„å¸¸è§„è·¯å¾„ã€‚</p>
<p>è€Œå››ä¸ªé€‰é¡¹ä¸­ï¼ŒD æ˜¯å”¯ä¸€ä¸â€œç”¨æˆ·-å†…æ ¸åˆ‡æ¢â€ç›´æ¥ç›¸å…³çš„æ“ä½œï¼Œå°½ç®¡è¡¨è¿°ä¸å¤Ÿç²¾å‡†ï¼Œä½†å‘½é¢˜äººæå¯èƒ½é¢„æœŸé€‰ Dã€‚</p>
<p>ä½†ä¸¥æ ¼æŠ€æœ¯æ„ä¹‰ä¸Šï¼š</p>
<p>Aã€Bã€C å‡ä¸å¯¼è‡´å½“å‰ CPU åˆ‡å›ç”¨æˆ·æ€ï¼›<br>D è‹¥ç†è§£ä¸ºâ€œç³»ç»Ÿè°ƒç”¨æ•´ä¸ªè¿‡ç¨‹ï¼ˆå«è¿”å›ï¼‰â€ï¼Œåˆ™å…¶å®Œæˆæ—¶ç¡®å®ä¼šåˆ‡å›ç”¨æˆ·æ€ã€‚<br>âœ… æœ€ç»ˆç­”æ¡ˆï¼ˆæŒ‰è€ƒè¯•æƒ¯ä¾‹ï¼‰ï¼šD. æ‰§è¡Œç³»ç»Ÿè°ƒç”¨<br>ğŸ“ æ³¨ï¼šæ­¤é¢˜å­˜åœ¨è¡¨è¿°ç‘•ç–µï¼Œç†æƒ³é€‰é¡¹åº”ä¸ºâ€œç³»ç»Ÿè°ƒç”¨è¿”å›â€æˆ–â€œä»ä¸­æ–­&#x2F;å¼‚å¸¸è¿”å›â€ã€‚ä½†åœ¨ç»™å®šé€‰é¡¹ä¸­ï¼ŒD æ˜¯å”¯ä¸€åˆç†é€‰æ‹©ã€‚</p>
<h1 id="é¢˜ç›®-37"><a href="#é¢˜ç›®-37" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>ä¸‹é¢å…³äºä¸­æ–­ã€å¼‚å¸¸å’Œç³»ç»Ÿè°ƒç”¨çš„å™è¿°ä¸­ï¼Œé”™è¯¯çš„æ˜¯( ) (2024)<br>A. ä¸­æ–­æˆ–å¼‚å¸¸å‘ç”Ÿæ—¶ï¼ŒCPU å¤„äºå†…æ ¸æ€<br>B. æ¯ä¸ªç³»ç»Ÿè°ƒç”¨éƒ½æœ‰å¯¹åº”çš„å†…æ ¸æœåŠ¡ä¾‹ç¨‹<br>C. ä¸­æ–­å¤„ç†ç¨‹åºå¼€å§‹æ‰§è¡Œæ—¶ï¼ŒCPU å¤„äºå†…æ ¸æ€<br>D. ç³»ç»Ÿæ·»åŠ æ–°ç±»å‹è®¾å¤‡æ—¶ï¼Œéœ€æ³¨å†Œç›¸åº”çš„ä¸­æ–­æœåŠ¡ä¾‹ç¨‹</p>
<h2 id="è§£æ-37"><a href="#è§£æ-37" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>ç­”æ¡ˆï¼šA. ä¸­æ–­æˆ–å¼‚å¸¸å‘ç”Ÿæ—¶ï¼ŒCPU å¤„äºå†…æ ¸æ€</p>
<p>âœ… è§£æï¼š<br>æœ¬é¢˜è€ƒæŸ¥å¯¹ä¸­æ–­ã€å¼‚å¸¸ã€ç³»ç»Ÿè°ƒç”¨æ‰§è¡Œæ—¶æœºä¸ CPU æ¨¡å¼å…³ç³»çš„ç†è§£ã€‚å…³é”®åœ¨äºåŒºåˆ† â€œå‘ç”Ÿæ—¶â€ ä¸ â€œå¤„ç†æ—¶â€ çš„çŠ¶æ€ã€‚</p>
<p>A. ä¸­æ–­æˆ–å¼‚å¸¸å‘ç”Ÿæ—¶ï¼ŒCPU å¤„äºå†…æ ¸æ€<br>âŒ é”™è¯¯ï¼ˆæœ¬é¢˜ç­”æ¡ˆï¼‰</p>
<p>ä¸­æ–­&#x2F;å¼‚å¸¸å¯ä»¥å‘ç”Ÿåœ¨ç”¨æˆ·æ€æˆ–å†…æ ¸æ€ï¼š<br>è‹¥å½“å‰æ­£åœ¨è¿è¡Œç”¨æˆ·è¿›ç¨‹ï¼Œæ­¤æ—¶å‘ç”Ÿæ—¶é’Ÿä¸­æ–­ã€ç¼ºé¡µå¼‚å¸¸ã€é™¤é›¶ç­‰ï¼ŒCPU å½“æ—¶å¤„äºç”¨æˆ·æ€ï¼›<br>éšåç¡¬ä»¶è‡ªåŠ¨åˆ‡æ¢åˆ°å†…æ ¸æ€å»å¤„ç†ï¼›<br>â€œå‘ç”Ÿæ—¶â€æŒ‡çš„æ˜¯äº‹ä»¶è§¦å‘çš„ç¬é—´ï¼Œå³ä¸­æ–­è¯·æ±‚åˆ°è¾¾æˆ–å¼‚å¸¸æŒ‡ä»¤æ‰§è¡Œçš„é‚£ä¸€åˆ»ï¼ŒCPU æ‰€å¤„çš„åŸå§‹æ¨¡å¼ï¼›<br>ä¾‹å¦‚ï¼šç”¨æˆ·ç¨‹åºæ‰§è¡Œ div æŒ‡ä»¤ â†’ ç”¨æˆ·æ€ä¸‹å‘ç”Ÿé™¤é›¶å¼‚å¸¸ â†’ ç„¶åé™·å…¥å†…æ ¸å¤„ç†ï¼›<br>â†’ æœ¬é¡¹å°†â€œå‘ç”Ÿæ—¶â€ç­‰åŒäºâ€œå¤„ç†æ—¶â€ï¼Œæ··æ·†äº†æ—¶é—´ç‚¹ï¼Œæ˜¯å…¸å‹é”™è¯¯ã€‚<br>B. æ¯ä¸ªç³»ç»Ÿè°ƒç”¨éƒ½æœ‰å¯¹åº”çš„å†…æ ¸æœåŠ¡ä¾‹ç¨‹<br>âœ… æ­£ç¡®ã€‚</p>
<p>ç³»ç»Ÿè°ƒç”¨å·ï¼ˆå¦‚ __NR_read &#x3D; 0ï¼‰å¯¹åº”å†…æ ¸ä¸­çš„æœåŠ¡å‡½æ•°ï¼ˆå¦‚ sys_readï¼‰ï¼›<br>å†…æ ¸é€šè¿‡ç³»ç»Ÿè°ƒç”¨è¡¨ï¼ˆsys_call_tableï¼‰å®ç°æ˜ å°„ï¼›<br>æ— å¯¹åº”ä¾‹ç¨‹çš„è°ƒç”¨å·ä¼šè¿”å› -ENOSYSï¼Œä½†åˆæ³•ç³»ç»Ÿè°ƒç”¨å¿…æœ‰æœåŠ¡ä¾‹ç¨‹ã€‚<br>C. ä¸­æ–­å¤„ç†ç¨‹åºå¼€å§‹æ‰§è¡Œæ—¶ï¼ŒCPU å¤„äºå†…æ ¸æ€<br>âœ… æ­£ç¡®ã€‚</p>
<p>æ— è®ºæ˜¯ä¸­æ–­è¿˜æ˜¯å¼‚å¸¸ï¼ŒCPU åœ¨è·³è½¬åˆ°å¤„ç†ç¨‹åºå‰ï¼Œç¡¬ä»¶å·²è‡ªåŠ¨å®Œæˆæ¨¡å¼åˆ‡æ¢ï¼ˆå¦‚è®¾ç½® CPL&#x3D;0ï¼‰ï¼›<br>å› æ­¤ ISR ç¬¬ä¸€è¡Œä»£ç æ‰§è¡Œæ—¶ï¼ŒCPU å·²åœ¨å†…æ ¸æ€ã€‚<br>D. ç³»ç»Ÿæ·»åŠ æ–°ç±»å‹è®¾å¤‡æ—¶ï¼Œéœ€æ³¨å†Œç›¸åº”çš„ä¸­æ–­æœåŠ¡ä¾‹ç¨‹<br>âœ… æ­£ç¡®ã€‚</p>
<p>æ–°è®¾å¤‡ï¼ˆå¦‚æ–°ç½‘å¡ï¼‰å¯èƒ½äº§ç”Ÿä¸­æ–­ï¼ˆå¦‚æ•°æ®åˆ°è¾¾ï¼‰ï¼›<br>é©±åŠ¨ç¨‹åºéœ€é€šè¿‡å†…æ ¸ APIï¼ˆå¦‚ request_irqï¼‰æ³¨å†Œå…¶ä¸­æ–­å·ä¸ ISRï¼›<br>å¦åˆ™ä¸­æ–­å‘ç”Ÿæ—¶æ— å¯¹åº”å¤„ç†ç¨‹åºï¼Œå¯èƒ½å¯¼è‡´ç³»ç»ŸæŒ‚èµ·æˆ–ä¸¢å¤±äº‹ä»¶ã€‚</p>
<h1 id="é¢˜ç›®-38"><a href="#é¢˜ç›®-38" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>ç³»ç»Ÿè°ƒç”¨çš„ä½œç”¨æ˜¯ï¼ˆ ï¼‰ã€‚ï¼ˆåŒ—äº¬äº¤é€šå¤§å­¦2018ï¼‰<br>A. ç”³è¯·ç³»ç»Ÿèµ„æº B.ç»ˆæ­¢ç³»ç»ŸæœåŠ¡ C.é‡Šæ”¾ç³»ç»Ÿèµ„æº D.è¯·æ±‚ç³»ç»ŸæœåŠ¡</p>
<h2 id="è§£æ-38"><a href="#è§£æ-38" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>ç­”æ¡ˆï¼šD. è¯·æ±‚ç³»ç»ŸæœåŠ¡</p>
<p>âœ… è§£æï¼š<br>ç³»ç»Ÿè°ƒç”¨ï¼ˆSystem Callï¼‰æ˜¯ç”¨æˆ·ç¨‹åºä¸æ“ä½œç³»ç»Ÿå†…æ ¸äº¤äº’çš„å”¯ä¸€å—æ§æ¥å£ï¼Œå…¶æ ¹æœ¬ä½œç”¨æ˜¯ï¼š</p>
<p>è®©ç”¨æˆ·ç¨‹åºè¯·æ±‚å†…æ ¸ä»£è¡¨å®ƒå®Œæˆç‰¹æƒæ“ä½œæˆ–è®¿é—®å—ä¿æŠ¤èµ„æºã€‚</p>
<p>æˆ‘ä»¬é€é¡¹åˆ†æé€‰é¡¹ï¼š</p>
<p>A. ç”³è¯·ç³»ç»Ÿèµ„æº<br>âš ï¸ ç‰‡é¢ã€‚</p>
<p>ç”³è¯·èµ„æºï¼ˆå¦‚å†…å­˜ brkã€æ–‡ä»¶æè¿°ç¬¦ openï¼‰ç¡®å®æ˜¯ç³»ç»Ÿè°ƒç”¨çš„åŠŸèƒ½ä¹‹ä¸€ï¼›<br>ä½†ç³»ç»Ÿè°ƒç”¨è¿œä¸æ­¢â€œç”³è¯·â€ï¼Œè¿˜åŒ…æ‹¬ï¼š<br>é‡Šæ”¾èµ„æºï¼ˆclose, munmapï¼‰<br>ä½¿ç”¨èµ„æºï¼ˆread, write, sendï¼‰<br>æ§åˆ¶è¿›ç¨‹ï¼ˆfork, exec, exitï¼‰<br>è·å–ä¿¡æ¯ï¼ˆgetpid, timeï¼‰<br>â†’ â€œç”³è¯·â€ä»…æ˜¯å­é›†ï¼Œä¸å…¨é¢ã€‚<br>B. ç»ˆæ­¢ç³»ç»ŸæœåŠ¡<br>âŒ é”™è¯¯ã€‚</p>
<p>ç”¨æˆ·ç¨‹åºæ— æ³•â€œç»ˆæ­¢ç³»ç»ŸæœåŠ¡â€ï¼›<br>exit æ˜¯ç»ˆæ­¢è‡ªèº«è¿›ç¨‹ï¼Œè€Œéç³»ç»ŸæœåŠ¡ï¼›<br>ç³»ç»ŸæœåŠ¡ï¼ˆå¦‚ systemd æœåŠ¡ï¼‰éœ€ç‰¹æƒå‘½ä»¤ï¼ˆå¦‚ systemctl stopï¼‰ï¼Œåº•å±‚ä»é€šè¿‡ç³»ç»Ÿè°ƒç”¨å®ç°ï¼Œä½†ç›®çš„ä¸æ˜¯â€œç»ˆæ­¢ç³»ç»ŸæœåŠ¡â€ã€‚<br>C. é‡Šæ”¾ç³»ç»Ÿèµ„æº<br>âš ï¸ ç‰‡é¢ï¼ŒåŒ Aï¼Œåªæ˜¯åå‘æ“ä½œï¼Œä»ä¸å®Œæ•´ã€‚</p>
<p>D. è¯·æ±‚ç³»ç»ŸæœåŠ¡<br>âœ… æ­£ç¡®ä¸”å…¨é¢ã€‚</p>
<p>â€œç³»ç»ŸæœåŠ¡â€æ³›æŒ‡å†…æ ¸æä¾›çš„æ‰€æœ‰åŠŸèƒ½ï¼š<br>èµ„æºç®¡ç†ï¼ˆåˆ†é…&#x2F;å›æ”¶å†…å­˜ã€CPUã€I&#x2F;Oï¼‰<br>è¿›ç¨‹æ§åˆ¶<br>é€šä¿¡ä¸åŒæ­¥<br>å®‰å…¨ä¸ä¿æŠ¤<br>ç”¨æˆ·ç¨‹åºé€šè¿‡ç³»ç»Ÿè°ƒç”¨è¯·æ±‚è¿™äº›æœåŠ¡ï¼Œå†…æ ¸éªŒè¯åæ‰§è¡Œï¼›<br>è¿™æ˜¯å¯¹ç³»ç»Ÿè°ƒç”¨æœ¬è´¨çš„å‡†ç¡®æ¦‚æ‹¬ã€‚<br>ğŸ¯ è€ƒç‚¹æ€»ç»“ï¼š<br>ç³»ç»Ÿè°ƒç”¨ â‰  ä»…èµ„æºç”³è¯·&#x2F;é‡Šæ”¾ï¼Œè€Œæ˜¯å…¨éƒ¨å†…æ ¸åŠŸèƒ½çš„è®¿é—®é—¨æˆ·ï¼›</p>
<h1 id="é¢˜ç›®-39"><a href="#é¢˜ç›®-39" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>æ“ä½œç³»ç»Ÿä¸­çš„å¹¶å‘æ€§æ˜¯æŒ‡ï¼ˆ ï¼‰ã€‚ï¼ˆåŒ—äº¬äº¤é€šå¤§å­¦2018ï¼‰<br>A. è‹¥å¹²äº‹ä»¶åœ¨åŒä¸€æ—¶åˆ»å‘ç”Ÿ B.äº‹ä»¶é©±åŠ¨ C.äº‹ä»¶éšæœºå‘ç”Ÿ D.è‹¥å¹²äº‹ä»¶åœ¨åŒä¸€æ—¶é—´é—´éš”å†…å‘ç”Ÿ</p>
<h2 id="è§£æ-39"><a href="#è§£æ-39" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>ç­”æ¡ˆï¼šD. è‹¥å¹²äº‹ä»¶åœ¨åŒä¸€æ—¶é—´é—´éš”å†…å‘ç”Ÿ</p>
<p>âœ… è§£æï¼š<br>æœ¬é¢˜è€ƒæŸ¥ â€œå¹¶å‘æ€§ï¼ˆConcurrencyï¼‰â€ çš„å‡†ç¡®å®šä¹‰ï¼Œéœ€ä¸ â€œå¹¶è¡Œæ€§ï¼ˆParallelismï¼‰â€ ä¸¥æ ¼åŒºåˆ†ã€‚</p>
<p>å…³é”®æ¦‚å¿µè¾¨æï¼š<br>âœ… å¹¶å‘æ€§ï¼ˆConcurrencyï¼‰<br>æŒ‡ å¤šä¸ªäº‹ä»¶åœ¨åŒä¸€ä¸ªæ—¶é—´é—´éš”å†…å‘ç”Ÿï¼ˆå®è§‚ä¸Šâ€œåŒæ—¶â€è¿›è¡Œï¼‰ï¼›<br>åœ¨å•å¤„ç†æœºç³»ç»Ÿä¸­ï¼Œé€šè¿‡æ—¶é—´ç‰‡è½®è½¬ã€å¿«é€Ÿåˆ‡æ¢å®ç°ï¼›<br>å¾®è§‚ä¸Šï¼Œä»»ä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªè¿›ç¨‹è¿è¡Œï¼Œä½†åˆ‡æ¢é€Ÿåº¦è¶³å¤Ÿå¿«ï¼Œä½¿ç”¨æˆ·æ„Ÿè§‰å¤šä¸ªä»»åŠ¡â€œåŒæ—¶â€æ¨è¿›ï¼›<br>ä¾‹å¦‚ï¼šä¸€è¾¹ä¸‹è½½æ–‡ä»¶ï¼ˆI&#x2F;O ç­‰å¾…ä¸­ï¼‰ï¼Œä¸€è¾¹ç¼–è¾‘æ–‡æ¡£ï¼ˆCPU è®¡ç®—ï¼‰â€”â€”äº¤æ›¿æ‰§è¡Œï¼Œå®è§‚å¹¶å‘ã€‚<br>âŒ å¹¶è¡Œæ€§ï¼ˆParallelismï¼‰<br>æŒ‡ å¤šä¸ªäº‹ä»¶åœ¨åŒä¸€æ—¶åˆ»ï¼ˆåŒä¸€ç¬é—´ï¼‰çœŸæ­£åŒæ—¶å‘ç”Ÿï¼›<br>å¿…é¡»ä¾èµ–å¤šå¤„ç†æœºæˆ–å¤šæ ¸ CPUï¼›<br>å¾®è§‚ä¸Šå¤šä¸ªä»»åŠ¡åŒæ—¶æ‰§è¡Œï¼›<br>å¯¹åº”é€‰é¡¹ Aï¼šâ€œè‹¥å¹²äº‹ä»¶åœ¨åŒä¸€æ—¶åˆ»å‘ç”Ÿâ€ â€”â€” æè¿°çš„æ˜¯å¹¶è¡Œï¼Œä¸æ˜¯å¹¶å‘ã€‚<br>å…¶ä»–é€‰é¡¹ï¼š<br>B. äº‹ä»¶é©±åŠ¨<br>â†’ æ˜¯ä¸€ç§ç¼–ç¨‹æ¨¡å‹ï¼ˆå¦‚ GUIã€ç½‘ç»œæœåŠ¡å™¨ï¼‰ï¼Œä¸å¹¶å‘æ€§æ— ç›´æ¥ç­‰ä»·å…³ç³»ã€‚</p>
<p>C. äº‹ä»¶éšæœºå‘ç”Ÿ<br>â†’ é”™è¯¯ã€‚å¹¶å‘æ˜¯å—æ§è°ƒåº¦çš„ç»“æœï¼Œä¸æ˜¯éšæœºçš„ï¼›ä¸­æ–­è™½å¼‚æ­¥ï¼Œä½†å¹¶å‘æ‰§è¡Œæ˜¯ OS ä¸»åŠ¨ç®¡ç†çš„è¡Œä¸ºã€‚</p>
<p>ğŸ“Œ ç»å…¸è¡¨è¿°ï¼ˆæ±¤å°ä¸¹ã€Šè®¡ç®—æœºæ“ä½œç³»ç»Ÿã€‹ï¼‰ï¼š</p>
<p>â€œå¹¶å‘æ€§æ˜¯æŒ‡ä¸¤ä¸ªæˆ–å¤šä¸ªäº‹ä»¶åœ¨åŒä¸€æ—¶é—´é—´éš”å†…å‘ç”Ÿï¼›å¹¶è¡Œæ€§æ˜¯æŒ‡ä¸¤ä¸ªæˆ–å¤šä¸ªäº‹ä»¶åœ¨åŒä¸€æ—¶åˆ»å‘ç”Ÿã€‚â€</p>
<h1 id="é¢˜ç›®-40"><a href="#é¢˜ç›®-40" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>æœ‰ä¸€å°è®¡ç®—æœºï¼Œå…·æœ‰1MBå†…å­˜ï¼Œæ“ä½œç³»ç»Ÿå ç”¨200KBï¼Œæ¯ä¸ªè¿›ç¨‹å„å ç”¨200KBã€‚<br>å¦‚æœç”¨æˆ·è¿›ç¨‹ç­‰å¾…I&#x2F;Oçš„æ—¶é—´ä¸º80%ï¼Œè‹¥å¢åŠ 1MBå†…å­˜ï¼Œåˆ™CPUçš„åˆ©ç”¨ç‡æé«˜å¤šå°‘ï¼Ÿ</p>
<h2 id="è§£æ-40"><a href="#è§£æ-40" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>å·²çŸ¥æ¡ä»¶</p>
<ul>
<li>æ€»å†…å­˜ï¼š  <ul>
<li>åˆå§‹ï¼š$1,\text{MB} &#x3D; 1024,\text{KB}$  </li>
<li>å¢åŠ åï¼š$2,\text{MB} &#x3D; 2048,\text{KB}$</li>
</ul>
</li>
<li>æ“ä½œç³»ç»Ÿå ç”¨ï¼š$200,\text{KB}$  </li>
<li>æ¯ä¸ªè¿›ç¨‹å†…å­˜éœ€æ±‚ï¼š$200,\text{KB}$  </li>
<li>è¿›ç¨‹ I&#x2F;O ç­‰å¾…æ¯”ä¾‹ï¼š$p &#x3D; 80% &#x3D; 0.8$<br>â†’ å•ä¸ªè¿›ç¨‹çš„ <strong>CPU ä½¿ç”¨æ¯”ä¾‹</strong> ä¸º $1 - p &#x3D; 0.2$</li>
</ul>
<hr>
<p>âœ… å…³é”®æ¨¡å‹ï¼šå¤šé“ç¨‹åºä¸‹çš„ CPU åˆ©ç”¨ç‡</p>
<p>å½“ç³»ç»Ÿä¸­æœ‰ $n$ ä¸ªè¿›ç¨‹å¹¶å‘è¿è¡Œï¼Œä¸”æ¯ä¸ªè¿›ç¨‹ç‹¬ç«‹åœ°ä»¥æ¦‚ç‡ $p$ å¤„äº I&#x2F;O ç­‰å¾…çŠ¶æ€æ—¶ï¼š</p>
<ul>
<li>æ‰€æœ‰è¿›ç¨‹åŒæ—¶ç­‰å¾… I&#x2F;O çš„æ¦‚ç‡ä¸ºï¼š$p^n$  </li>
<li>æ­¤æ—¶ CPU ç©ºé—²ï¼›å…¶ä½™æ—¶é—´è‡³å°‘æœ‰ä¸€ä¸ªè¿›ç¨‹åœ¨ä½¿ç”¨ CPU  </li>
<li>å› æ­¤ï¼Œ<strong>CPU åˆ©ç”¨ç‡ä¸º</strong>ï¼š</li>
</ul>
<p>$$<br>U(n) &#x3D; 1 - p^n<br>$$</p>
<hr>
<p>ç¬¬ä¸€æ­¥ï¼šåŸå§‹å†…å­˜ä¸‹æœ€å¤šå¯è¿è¡Œè¿›ç¨‹æ•°</p>
<p>å¯ç”¨å†…å­˜ï¼š</p>
<p>$$<br>1024,\text{KB} - 200,\text{KB} &#x3D; 824,\text{KB}<br>$$</p>
<p>æ¯ä¸ªè¿›ç¨‹éœ€ 200 KBï¼š</p>
<p>$$<br>n_1 &#x3D; \left\lfloor \frac{824}{200} \right\rfloor &#x3D; 4<br>$$</p>
<p>ï¼ˆ$4 \times 200 &#x3D; 800 \leq 824$ï¼Œä½™ 24 KB ä¸è¶³ä¸€è¿›ç¨‹ï¼‰</p>
<p>CPU åˆ©ç”¨ç‡ï¼š</p>
<p>$$<br>U_1 &#x3D; 1 - 0.8^4 &#x3D; 1 - 0.4096 &#x3D; 0.5904 &#x3D; 59.04%<br>$$</p>
<hr>
<p>ç¬¬äºŒæ­¥ï¼šå¢åŠ  1 MB å†…å­˜å</p>
<p>æ€»å†…å­˜ï¼š$2048,\text{KB}$<br>å¯ç”¨å†…å­˜ï¼š</p>
<p>$$<br>2048 - 200 &#x3D; 1848,\text{KB}<br>$$</p>
<p>æœ€å¤šè¿›ç¨‹æ•°ï¼š</p>
<p>$$<br>n_2 &#x3D; \left\lfloor \frac{1848}{200} \right\rfloor &#x3D; 9<br>$$</p>
<p>ï¼ˆ$9 \times 200 &#x3D; 1800 \leq 1848$ï¼‰</p>
<p>CPU åˆ©ç”¨ç‡ï¼š</p>
<p>$$<br>U_2 &#x3D; 1 - 0.8^9<br>$$</p>
<p>è®¡ç®—ï¼š</p>
<p>$$<br>0.8^4 &#x3D; 0.4096,\quad 0.8^8 &#x3D; (0.4096)^2 &#x3D; 0.16777216<br>$$<br>$$<br>0.8^9 &#x3D; 0.8^8 \times 0.8 &#x3D; 0.16777216 \times 0.8 &#x3D; 0.134217728<br>$$<br>$$<br>U_2 &#x3D; 1 - 0.134217728 &#x3D; 0.865782272 \approx 86.58%<br>$$</p>
<hr>
<p>ç¬¬ä¸‰æ­¥ï¼šåˆ©ç”¨ç‡æå‡å€¼</p>
<p>$$<br>\Delta U &#x3D; U_2 - U_1 &#x3D; 86.58% - 59.04% &#x3D; 27.54%<br>$$</p>
<hr>
<p>âœ… æœ€ç»ˆç­”æ¡ˆï¼š</p>
<blockquote>
<p><strong>CPU åˆ©ç”¨ç‡æé«˜çº¦ $27.5%$</strong>ï¼ˆå³æå‡ <strong>27.5 ä¸ªç™¾åˆ†ç‚¹</strong>ï¼‰</p>
</blockquote>
<hr>
<p>ğŸ“Œ é™„æ³¨</p>
<ul>
<li>æœ¬æ¨¡å‹å‡è®¾ï¼š  <ul>
<li>è¿›ç¨‹è¡Œä¸ºç‹¬ç«‹ã€I&#x2F;O æ¯”ä¾‹æ’å®šï¼›  </li>
<li>å†…å­˜æ˜¯å”¯ä¸€é™åˆ¶å› ç´ ï¼›  </li>
<li>æ— è°ƒåº¦å¼€é”€ã€æ— æ¢é¡µï¼ˆå³æ‰€æœ‰è¿›ç¨‹å¸¸é©»å†…å­˜ï¼‰ã€‚</li>
</ul>
</li>
<li>å®é™…ç³»ç»Ÿä¸­ï¼Œè¿‡åº¦å¢åŠ è¿›ç¨‹å¯èƒ½å¯¼è‡´ thrashing æˆ–è°ƒåº¦å¼€é”€ä¸Šå‡ï¼Œä½†æœ¬é¢˜æŒ‰ç†æƒ³å¤šé“ç¨‹åºæ¨¡å‹æ±‚è§£ã€‚</li>
</ul>
<h1 id="é¢˜ç›®-41"><a href="#é¢˜ç›®-41" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>æŸä¸ªè®¡ç®—æœºç³»ç»Ÿæœ‰ä¸€å°è¾“å…¥æœºå’Œä¸€å°æ‰“å°æœºï¼Œç°æœ‰ä¸¤é“ç¨‹åºæŠ•å…¥è¿è¡Œï¼Œä¸”ç¨‹åºAå…ˆå¼€å§‹è¿è¡Œï¼Œ<br>ç¨‹åºBåå¼€å§‹è¿è¡Œã€‚<br>ç¨‹åºAçš„è¿è¡Œè½¨è¿¹ä¸ºï¼šè®¡ç®—50msã€æ‰“å°100msã€å†è®¡ç®—50msã€æ‰“å°100msï¼Œç»“æŸã€‚<br>ç¨‹åºBçš„è¿è¡Œè½¨è¿¹ä¸ºï¼šè®¡ç®—50msã€è¾“å…¥80msã€å†è®¡ç®—100msï¼Œç»“æŸã€‚<br>è¯•è¯´æ˜ï¼š</p>
<ol>
<li>ä¸¤é“ç¨‹åºè¿è¡Œæ—¶ï¼ŒCPUæ˜¯å¦å­˜åœ¨ç©ºé—²ç­‰å¾…ï¼Ÿè‹¥æ˜¯ï¼Œåœ¨å“ªæ®µæ—¶é—´å†…ç­‰å¾…ï¼Ÿä¸ºä»€ä¹ˆç­‰å¾…ï¼Ÿ</li>
<li>ç¨‹åºAã€Bæ˜¯å¦æœ‰ç­‰å¾…CPUçš„æƒ…å†µï¼Ÿè‹¥æœ‰ï¼ŒæŒ‡å‡ºå‘ç”Ÿç­‰å¾…çš„æ—¶åˆ»ã€‚</li>
</ol>
<h2 id="è§£æ-41"><a href="#è§£æ-41" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>æˆ‘ä»¬æ¥åˆ†æè¿™ä¸ªç»å…¸çš„ <strong>å¤šé“ç¨‹åºå¹¶å‘æ‰§è¡Œ + èµ„æºç«äº‰</strong> é—®é¢˜ã€‚</p>
<p>ğŸ”§ ç³»ç»Ÿèµ„æºä¸çº¦æŸï¼š</p>
<ul>
<li>âœ… <strong>1 ä¸ª CPU</strong>ï¼šè®¡ç®—å¿…é¡»ä¸²è¡Œ  </li>
<li>âœ… <strong>1 å°è¾“å…¥æœº</strong>ï¼šç¨‹åº B çš„â€œè¾“å…¥â€é˜¶æ®µç‹¬å   </li>
<li>âœ… <strong>1 å°æ‰“å°æœº</strong>ï¼šç¨‹åº A çš„â€œæ‰“å°â€é˜¶æ®µç‹¬å   </li>
<li>ç¨‹åº A å…ˆåˆ°ï¼Œç¨‹åº B ååˆ°ï¼ˆå‡è®¾ B åœ¨ A å¯åŠ¨å <strong>ç«‹å³åˆ°è¾¾</strong>ï¼Œå³ $ t &#x3D; 0^+ $ï¼Œå¸¸è§é»˜è®¤ï¼›è‹¥æœªè¯´æ˜å»¶è¿Ÿï¼ŒæŒ‰ <strong>B ç´§éš A å¯åŠ¨</strong>å¤„ç†ï¼‰</li>
</ul>
<hr>
<p>ğŸ“‹ ç¨‹åºè¡Œä¸ºï¼š</p>
<table>
<thead>
<tr>
<th>ç¨‹åº</th>
<th>é˜¶æ®µé¡ºåº</th>
</tr>
</thead>
<tbody><tr>
<td><strong>A</strong></td>
<td>è®¡ç®— 50ms â†’ æ‰“å° 100ms â†’ è®¡ç®— 50ms â†’ æ‰“å° 100ms ï¼ˆå…± 300msï¼‰</td>
</tr>
<tr>
<td><strong>B</strong></td>
<td>è®¡ç®— 50ms â†’ è¾“å…¥ 80ms â†’ è®¡ç®— 100ms ï¼ˆå…± 230msï¼‰</td>
</tr>
</tbody></table>
<blockquote>
<p>âœ… å„é˜¶æ®µ<strong>é¡ºåºæ‰§è¡Œï¼Œä¸å¯é‡æ’</strong>ï¼›åŒç±»è®¾å¤‡<strong>äº’æ–¥ä½¿ç”¨</strong>ã€‚</p>
</blockquote>
<hr>
<p>âœ… æœ€ä¼˜è°ƒåº¦æ—¶é—´çº¿åˆ†æï¼ˆäº‰å–æœ€å°æ€»æ—¶é—´ï¼Œé¿å… CPU ç©ºé—²ï¼‰</p>
<p>æˆ‘ä»¬æŒ‰æ—¶é—´æ¨è¿›æ¨¡æ‹Ÿæœ€ä¼˜å¹¶å‘æ‰§è¡Œï¼š</p>
<hr>
<p><strong>0â€“50 ms</strong>  </p>
<ul>
<li>A å…ˆåˆ°ï¼Œç«‹å³å¼€å§‹ <strong>è®¡ç®— 50ms</strong>ï¼ˆå ç”¨ CPUï¼‰  </li>
<li>B å·²åˆ°è¾¾ï¼Œ<strong>ç­‰å¾… CPU</strong></li>
</ul>
<p><strong>50â€“100 ms</strong>  </p>
<ul>
<li>A è®¡ç®—ç»“æŸï¼Œè½¬å…¥ <strong>æ‰“å° 100ms</strong>ï¼ˆå ç”¨æ‰“å°æœºï¼‰  </li>
<li><strong>CPU ç©ºå‡º â†’ B ç«‹å³å¼€å§‹è®¡ç®— 50ms</strong>ï¼ˆ50â€“100 msï¼‰</li>
</ul>
<blockquote>
<p>âœ”ï¸ CPU ä¸æ‰“å°æœºå¹¶è¡Œï¼šA æ‰“å°ï¼ŒB è®¡ç®—</p>
</blockquote>
<p><strong>100â€“150 ms</strong>  </p>
<ul>
<li>B è®¡ç®—ç»“æŸï¼ˆ100 msï¼‰ï¼Œè½¬å…¥ <strong>è¾“å…¥ 80ms</strong>ï¼ˆå ç”¨è¾“å…¥æœºï¼Œ100â€“180 msï¼‰  </li>
<li>A æ‰“å°ä»åœ¨è¿›è¡Œï¼ˆ50â€“150 msï¼‰ï¼Œ<strong>150 ms æ‰“å°ç»“æŸ</strong>  </li>
<li><strong>150 ms æ—¶ï¼ŒA éœ€è¦ CPU è¿›è¡Œç¬¬äºŒæ®µè®¡ç®—ï¼Œä½† CPU æ­£ç©ºé—²</strong> â†’ A ç«‹å³å¼€å§‹ <strong>è®¡ç®— 50msï¼ˆ150â€“200 msï¼‰</strong></li>
</ul>
<blockquote>
<p>âœ”ï¸ æ­¤æ—¶ï¼š  </p>
<ul>
<li>Aï¼šè®¡ç®—ï¼ˆCPUï¼‰  </li>
<li>Bï¼šè¾“å…¥ï¼ˆè¾“å…¥æœºï¼‰<br>â†’ <strong>å®Œç¾å¹¶è¡Œ</strong></li>
</ul>
</blockquote>
<p><strong>180 ms</strong>  </p>
<ul>
<li>B è¾“å…¥ç»“æŸï¼ˆ100â€“180 msï¼‰  </li>
<li>ä½† B çš„ä¸‹ä¸€æ®µæ˜¯<strong>è®¡ç®— 100ms</strong>ï¼Œéœ€ç­‰ CPU  </li>
<li>å½“å‰ CPU è¢« A å ç”¨ï¼ˆ150â€“200 msï¼‰</li>
</ul>
<p><strong>200 ms</strong>  </p>
<ul>
<li>A ç¬¬äºŒæ®µè®¡ç®—ç»“æŸï¼ˆ150â€“200 msï¼‰  </li>
<li>A ç«‹å³è½¬å…¥ <strong>ç¬¬äºŒæ¬¡æ‰“å° 100msï¼ˆ200â€“300 msï¼‰</strong>ï¼ˆå ç”¨æ‰“å°æœºï¼‰  </li>
<li><strong>CPU ç©ºå‡º â†’ B ç«‹å³å¼€å§‹è®¡ç®— 100msï¼ˆ200â€“300 msï¼‰</strong></li>
</ul>
<blockquote>
<p>âœ”ï¸ A æ‰“å° &amp; B è®¡ç®—å¹¶è¡Œ</p>
</blockquote>
<p><strong>300 ms</strong>  </p>
<ul>
<li>A æ‰“å°ç»“æŸï¼ŒA å®Œæˆ  </li>
<li>B è®¡ç®—ç»“æŸï¼ˆ200â€“300 msï¼‰ï¼ŒB å®Œæˆ</li>
</ul>
<hr>
<p>æœ€ç»ˆæ—¶é—´çº¿æ±‡æ€»ï¼š</p>
<table>
<thead>
<tr>
<th>æ—¶é—´æ®µ</th>
<th>CPU æ´»åŠ¨</th>
<th>æ‰“å°æœº</th>
<th>è¾“å…¥æœº</th>
</tr>
</thead>
<tbody><tr>
<td>0â€“50 ms</td>
<td>A è®¡ç®—</td>
<td>â€”</td>
<td>â€”</td>
</tr>
<tr>
<td>50â€“100 ms</td>
<td><strong>B è®¡ç®—</strong></td>
<td>A æ‰“å°</td>
<td>â€”</td>
</tr>
<tr>
<td>100â€“150 ms</td>
<td>â€”</td>
<td>A æ‰“å°</td>
<td>â€”</td>
</tr>
<tr>
<td><strong>âš ï¸ 100â€“150 msï¼šCPU ç©ºé—² 50ms</strong></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>150â€“200 ms</td>
<td>A è®¡ç®—</td>
<td>â€”</td>
<td>B è¾“å…¥</td>
</tr>
<tr>
<td>200â€“300 ms</td>
<td>B è®¡ç®—</td>
<td>A æ‰“å°</td>
<td>â€”</td>
</tr>
</tbody></table>
<p>Wait â€” ä¸Šé¢ <strong>100â€“150 ms CPU ç©ºé—²ï¼Ÿ</strong><br>ä½†ä»”ç»†çœ‹ï¼š  </p>
<ul>
<li>A åœ¨ 50â€“150 ms æ‰“å°ï¼ˆ100msï¼‰  </li>
<li>B åœ¨ 50â€“100 ms è®¡ç®—ï¼ˆ50msï¼‰ï¼Œ100 ms å°±ç»“æŸäº†  </li>
<li>B çš„ä¸‹ä¸€æ®µæ˜¯<strong>è¾“å…¥ 80msï¼ˆ100â€“180 msï¼‰</strong>ï¼Œä¸éœ€ CPU<br>â†’ æ‰€ä»¥ <strong>100â€“150 msï¼šA åœ¨æ‰“å°ï¼ŒB åœ¨è¾“å…¥ï¼ŒCPU æ— äººç”¨ â†’ ç¡®å®ç©ºé—²ï¼</strong></li>
</ul>
<p>ä½†èƒ½å¦ä¼˜åŒ–ï¼Ÿ<br>â†’ è‹¥è®© B <strong>å»¶è¿Ÿå¼€å§‹è®¡ç®—</strong>ï¼ŒæŠŠè®¡ç®—æŒªåˆ°åé¢ï¼Ÿ<br>âŒ ä¸è¡Œï¼B å¿…é¡»å…ˆè®¡ç®— 50ms æ‰èƒ½è¾“å…¥ï¼ˆé¡ºåºçº¦æŸï¼‰ï¼Œä¸” A å…ˆå  CPUï¼ŒB åªèƒ½ 50ms åå¼€å§‹è®¡ç®—ã€‚</p>
<p>âœ… æ‰€ä»¥ <strong>100â€“150 ms çš„ CPU ç©ºé—²ä¸å¯é¿å…</strong>ã€‚</p>
<hr>
<p>âœ… å›ç­”é—®é¢˜ï¼š</p>
<ol>
<li>CPU æ˜¯å¦å­˜åœ¨ç©ºé—²ç­‰å¾…ï¼Ÿè‹¥æ˜¯ï¼Œåœ¨å“ªæ®µæ—¶é—´å†…ç­‰å¾…ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</li>
</ol>
<p><strong>ç­”</strong>ï¼š<br>âœ… <strong>å­˜åœ¨ CPU ç©ºé—²</strong>ï¼Œå‘ç”Ÿåœ¨ <strong>100 ms åˆ° 150 ms</strong>ï¼ˆå…± 50 msï¼‰ã€‚<br><strong>åŸå› </strong>ï¼š  </p>
<ul>
<li>50â€“100 msï¼šB åœ¨ä½¿ç”¨ CPU è®¡ç®—ï¼›  </li>
<li>100 ms æ—¶ï¼ŒB è®¡ç®—ç»“æŸï¼Œè½¬å…¥ <strong>è¾“å…¥é˜¶æ®µï¼ˆ100â€“180 msï¼‰</strong>ï¼Œä¸å†éœ€è¦ CPUï¼›  </li>
<li>A æ­¤æ—¶ï¼ˆ50â€“150 msï¼‰æ­£åœ¨ä½¿ç”¨<strong>æ‰“å°æœº</strong>ï¼Œå°šæœªå®Œæˆç¬¬ä¸€æ®µæ‰“å°ï¼Œæ— æ³•è¿›å…¥ç¬¬äºŒæ®µè®¡ç®—ï¼›  </li>
<li>å› æ­¤ï¼Œ100â€“150 ms æœŸé—´ï¼Œ<strong>A ç­‰æ‰“å°æœºï¼ŒB ç­‰è¾“å…¥è®¾å¤‡</strong>ï¼ŒCPU æ— è¿›ç¨‹å¯è°ƒåº¦ï¼Œå¤„äºç©ºé—²ã€‚</li>
</ul>
<blockquote>
<p>ğŸ”” å…³é”®ï¼šA å’Œ B åŒæ—¶å¤„äº I&#x2F;O é˜¶æ®µï¼ˆA æ‰“å°ã€B è¾“å…¥ï¼‰ï¼Œæ— è¿›ç¨‹å°±ç»ª â†’ CPU ç©ºè½¬ã€‚</p>
</blockquote>
<hr>
<ol start="2">
<li>ç¨‹åº Aã€B æ˜¯å¦æœ‰ç­‰å¾… CPU çš„æƒ…å†µï¼Ÿè‹¥æœ‰ï¼ŒæŒ‡å‡ºå‘ç”Ÿç­‰å¾…çš„æ—¶åˆ»ã€‚</li>
</ol>
<p><strong>ç­”</strong>ï¼š</p>
<ul>
<li><p><strong>ç¨‹åº A</strong>ï¼š<br>âœ… æœ‰ç­‰å¾… CPUã€‚  </p>
<ul>
<li><strong>ç­‰å¾…æ—¶åˆ»ï¼š0 ms</strong><br>â†’ A å…ˆå¯åŠ¨ï¼Œ<strong>ç«‹å³è·å¾— CPU</strong>ï¼Œ<strong>æ— ç­‰å¾…</strong>ï¼›  </li>
<li><strong>150 ms æ—¶</strong>ï¼šA æ‰“å°ç»“æŸï¼Œç«‹å³è·å¾— CPU â†’ <strong>æ— ç­‰å¾…</strong>ï¼›<br>â†’ <strong>A ä»æœªç­‰å¾… CPU</strong>ã€‚</li>
</ul>
</li>
<li><p><strong>ç¨‹åº B</strong>ï¼š<br>âœ… æœ‰ç­‰å¾… CPUã€‚  </p>
<ul>
<li><strong>ç­‰å¾…æ—¶åˆ»ï¼š0â€“50 ms</strong><br>â†’ B è™½åœ¨ A åç«‹å³åˆ°è¾¾ï¼Œä½† A æ­£å ç”¨ CPUï¼ŒB éœ€ç­‰å¾… A çš„ç¬¬ä¸€æ®µè®¡ç®—ç»“æŸï¼›  </li>
<li>50 ms æ—¶è·å¾— CPUï¼Œå¼€å§‹è®¡ç®—ï¼›  </li>
<li>åç»­ï¼š100 ms è¾“å…¥ç»“æŸ â†’ éœ€è®¡ç®—ï¼Œä½† CPU è¢« A å ç”¨ï¼ˆ150â€“200 msï¼‰â†’<br><strong>ç­‰å¾…æ—¶åˆ»ï¼š180â€“200 ms</strong>ï¼ˆ20 msï¼‰  <blockquote>
<p>B åœ¨ 180 ms è¾“å…¥ç»“æŸï¼Œæƒ³è®¡ç®—ï¼Œä½† A æ­£åœ¨ 150â€“200 ms è®¡ç®—ï¼Œæ•… B ç­‰å¾… 20 msï¼ˆ180â€“200ï¼‰ï¼Œ200 ms è·å¾— CPUã€‚</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<p>âœ… æ‰€ä»¥ B å…±ä¸¤æ¬¡ç­‰å¾… CPUï¼š</p>
<ul>
<li><strong>0â€“50 ms</strong>ï¼ˆ50 msï¼‰  </li>
<li><strong>180â€“200 ms</strong>ï¼ˆ20 msï¼‰</li>
</ul>
<hr>
<p>è¡¥å……ï¼šç”˜ç‰¹å›¾ï¼ˆæ–‡å­—ç‰ˆï¼‰</p>
<div class="code-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">æ—¶é—´:  0        50       100      150      200      250      300 (ms)</span><br><span class="line">       |--------|--------|--------|--------|--------|--------|</span><br><span class="line">CPU:   Aè®¡ç®—    Bè®¡ç®—    [ç©ºé—²]   Aè®¡ç®—    Bè®¡ç®—</span><br><span class="line">              (50)    (50ms)    (50ms)   (50ms)   (100ms)</span><br><span class="line"></span><br><span class="line">Printer:       Aæ‰“å°--------------Aæ‰“å°------------------------</span><br><span class="line">               (100ms)          (100ms)</span><br><span class="line"></span><br><span class="line">Input:                  Bè¾“å…¥-------------------</span><br><span class="line">                        (80ms)</span><br></pre></td></tr></table></figure></div>

<hr>
<p>æœ€ç»ˆç­”æ¡ˆï¼š</p>
<ol>
<li><p><strong>CPU å­˜åœ¨ç©ºé—²ç­‰å¾…</strong>ï¼Œæ—¶é—´ä¸º <strong>100 ms ~ 150 ms</strong>ï¼ˆ50 msï¼‰ï¼Œ<br>åŸå› ï¼šA æ­£åœ¨æ‰“å°ã€B æ­£åœ¨è¾“å…¥ï¼Œ<strong>æ— è¿›ç¨‹å¤„äºå°±ç»ªæ€</strong>ï¼ŒCPU æ— ä»»åŠ¡å¯æ‰§è¡Œã€‚</p>
</li>
<li><ul>
<li><strong>ç¨‹åº A</strong>ï¼š<strong>æ— ç­‰å¾… CPU</strong>ï¼ˆå§‹ç»ˆåœ¨ I&#x2F;O ç»“æŸåç«‹å³è·å¾— CPUï¼‰ï¼›  </li>
<li><strong>ç¨‹åº B</strong>ï¼š  <ul>
<li><strong>0â€“50 ms</strong>ï¼šç­‰å¾… A é‡Šæ”¾ CPUï¼›  </li>
<li><strong>180â€“200 ms</strong>ï¼šç­‰å¾… A å®Œæˆç¬¬äºŒæ®µè®¡ç®—åé‡Šæ”¾ CPUã€‚</li>
</ul>
</li>
</ul>
</li>
</ol>
<hr>

		</div>

		
		<div class="post-copyright-info w-full my-8 px-2 sm:px-6 md:px-8">
			<div class="article-copyright-info-container">
    <ul>
        <li><strong>Title:</strong> Linuxæ“ä½œç³»ç»Ÿ-æ“ä½œç³»ç»ŸåŸºç¡€é¢˜ç›®</li>
        <li><strong>Author:</strong> å§œæ™ºæµ©</li>
        <li><strong>Created at
                :</strong> 2025-12-22 11:45:14</li>
        
            <li>
                <strong>Updated at
                    :</strong> 2025-12-23 09:16:44
            </li>
        
        <li>
            <strong>Link:</strong> https://super-213.github.io/zhihaojiang.github.io/2025/12/22/20251222Linuxæ“ä½œç³»ç»Ÿ-æ“ä½œç³»ç»ŸåŸºç¡€é¢˜ç›®/
        </li>
        <li>
            <strong>
                License:
            </strong>
            

            
                This work is licensed under <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0">CC BY-NC-SA 4.0</a>.
            
        </li>
    </ul>
</div>

		</div>
		

		
		<ul class="post-tags-box text-lg mt-1.5 flex-wrap justify-center flex md:hidden">
			
			<li class="tag-item mx-0.5">
				<a href="/zhihaojiang.github.io/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/">#è®¡ç®—æœºç§‘å­¦</a>&nbsp;
			</li>
			
			<li class="tag-item mx-0.5">
				<a href="/zhihaojiang.github.io/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">#æ“ä½œç³»ç»Ÿ</a>&nbsp;
			</li>
			
		</ul>
		

		

		
		<div class="article-nav my-8 flex justify-between items-center px-2 sm:px-6 md:px-8">
			
			<div class="article-prev border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2">
				<a class="prev" rel="prev" href="/zhihaojiang.github.io/2025/12/23/20251223Linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E6%AD%BB%E9%94%81%E9%A2%98%E7%9B%AE/">
					<span class="left arrow-icon flex justify-center items-center">
						<i class="fa-solid fa-chevron-left"></i>
					</span>
					<span class="title flex justify-center items-center">
						<span class="post-nav-title-item">Linuxæ“ä½œç³»ç»Ÿ-æ­»é”é¢˜ç›®</span>
						<span class="post-nav-item">Prev posts</span>
					</span>
				</a>
			</div>
			
			
			<div class="article-next border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2">
				<a class="next" rel="next" href="/zhihaojiang.github.io/2025/12/19/20251219%E5%9F%BA%E4%BA%8E%E4%BE%9B%E5%BA%94%E9%93%BE%E6%95%B0%E6%8D%AE%E5%8D%8F%E5%90%8C%E7%9A%84%E6%9C%8D%E8%A3%85%E5%A4%96%E8%B4%B8%E4%BC%81%E4%B8%9A%E5%87%86%E4%BA%A4%E7%8E%87%E4%BC%98%E5%8C%96%E7%A0%94%E7%A9%B6/">
					<span class="title flex justify-center items-center">
						<span class="post-nav-title-item">åŸºäºä¾›åº”é“¾æ•°æ®ååŒçš„æœè£…å¤–è´¸ä¼ä¸šå‡†äº¤ç‡ä¼˜åŒ–ç ”ç©¶</span>
						<span class="post-nav-item">Next posts</span>
					</span>
					<span class="right arrow-icon flex justify-center items-center">
						<i class="fa-solid fa-chevron-right"></i>
					</span>
				</a>
			</div>
			
		</div>
		


		
	</div>

	
	<div class="toc-content-container">
		<div class="post-toc-wrap">
	<div class="post-toc">
		<div class="toc-title">On this page</div>
		<div class="page-title">Linuxæ“ä½œç³»ç»Ÿ-æ“ä½œç³»ç»ŸåŸºç¡€é¢˜ç›®</div>
		<ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-1"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-1"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-2"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-2"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-3"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-3"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-4"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-4"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-5"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-5"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-6"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-6"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-7"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-7"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-8"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-8"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-9"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-9"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-10"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-10"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-11"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-11"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-12"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-12"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-13"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-13"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-14"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-14"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-15"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-15"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-16"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-16"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-17"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-17"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-18"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-18"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-19"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-19"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-20"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-20"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-21"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-21"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-22"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-22"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-23"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-23"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-24"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-24"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-25"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-25"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-26"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-26"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-27"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-27"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-28"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-28"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-29"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-29"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-30"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-30"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-31"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-31"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-32"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-32"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-33"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-33"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-34"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-34"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-35"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-35"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-36"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-36"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-37"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-37"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-38"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-38"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-39"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-39"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-40"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-40"><span class="nav-text">è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-41"><span class="nav-text">é¢˜ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90-41"><span class="nav-text">è§£æ</span></a></li></ol></li></ol>

	</div>
</div>
	</div>
	
</div>
			</div>

			
		</div>

		<div class="main-content-footer">
			<footer class="footer mt-5 py-5 h-auto text-base text-third-text-color relative border-t-2 border-t-border-color">
    <div class="info-container py-3 text-center">
        
        <div class="text-center">
            &copy;
            
              <span>2022</span>
              -
            
            2026&nbsp;&nbsp;<i class="fa-solid fa-heart fa-beat" style="--fa-animation-duration: 0.5s; color: #f54545"></i>&nbsp;&nbsp;<a href="/zhihaojiang.github.io/">å§œæ™ºæµ©</a>
            
                
                <p class="post-count space-x-0.5">
                    <span>
                        83 posts in total
                    </span>
                    
                        <span>
                            231.5k words in total
                        </span>
                    
                </p>
            
        </div>
        
            <script data-swup-reload-script src="https://cn.vercount.one/js"></script>
            <div class="relative text-center lg:absolute lg:right-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-right">
                
                    <span id="busuanzi_container_site_uv" class="lg:!block">
                        <span class="text-sm">VISITOR COUNT</span>
                        <span id="busuanzi_value_site_uv"></span>
                    </span>
                
                
                    <span id="busuanzi_container_site_pv" class="lg:!block">
                        <span class="text-sm">TOTAL PAGE VIEWS</span>
                        <span id="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="relative text-center lg:absolute lg:left-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-left">
            <span class="lg:block text-sm">POWERED BY <?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="relative top-[2px] inline-block align-baseline" version="1.1" id="åœ–å±¤_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="1rem" height="1rem" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path fill="#0E83CD" d="M256.4,25.8l-200,115.5L56,371.5l199.6,114.7l200-115.5l0.4-230.2L256.4,25.8z M349,354.6l-18.4,10.7l-18.6-11V275H200v79.6l-18.4,10.7l-18.6-11v-197l18.5-10.6l18.5,10.8V237h112v-79.6l18.5-10.6l18.5,10.8V354.6z"/></svg><a target="_blank" class="text-base" href="https://hexo.io">Hexo</a></span>
            <span class="text-sm lg:block">THEME&nbsp;<a class="text-base" target="_blank" href="https://github.com/EvanNotFound/hexo-theme-redefine">Redefine v2.8.2</a></span>
        </div>
        
        
            <div>
                Blog up for <span class="odometer" id="runtime_days" ></span> days <span class="odometer" id="runtime_hours"></span> hrs <span class="odometer" id="runtime_minutes"></span> Min <span class="odometer" id="runtime_seconds"></span> Sec
            </div>
        
        
            <script data-swup-reload-script>
                try {
                    function odometer_init() {
                    const elements = document.querySelectorAll('.odometer');
                    elements.forEach(el => {
                        new Odometer({
                            el,
                            format: '( ddd).dd',
                            duration: 200
                        });
                    });
                    }
                    odometer_init();
                } catch (error) {}
            </script>
        
        
        
    </div>  
</footer>
		</div>
	</div>

	
	<div class="post-tools">
		<div class="post-tools-container">
	<ul class="article-tools-list">
		<!-- TOC aside toggle -->
		
		<li class="right-bottom-tools page-aside-toggle">
			<i class="fa-regular fa-outdent"></i>
		</li>
		

		<!-- go comment -->
		
	</ul>
</div>
	</div>
	

	<div class="right-side-tools-container">
		<div class="side-tools-container">
	<ul class="hidden-tools-list">
		<li class="right-bottom-tools tool-font-adjust-plus flex justify-center items-center">
			<i class="fa-regular fa-magnifying-glass-plus"></i>
		</li>

		<li class="right-bottom-tools tool-font-adjust-minus flex justify-center items-center">
			<i class="fa-regular fa-magnifying-glass-minus"></i>
		</li>

		<li class="right-bottom-tools tool-dark-light-toggle flex justify-center items-center">
			<i class="fa-regular fa-moon"></i>
		</li>

		<!-- rss -->
		

		

		<li class="right-bottom-tools tool-scroll-to-bottom flex justify-center items-center">
			<i class="fa-regular fa-arrow-down"></i>
		</li>
	</ul>

	<ul class="visible-tools-list">
		<li class="right-bottom-tools toggle-tools-list flex justify-center items-center">
			<i class="fa-regular fa-cog fa-spin"></i>
		</li>
		
		<li class="right-bottom-tools tool-scroll-to-top flex justify-center items-center">
			<i class="arrow-up fas fa-arrow-up"></i>
			<span class="percent"></span>
		</li>
		
		
	</ul>
</div>
	</div>

	<div class="image-viewer-container">
	<img src="">
</div>

	
	<div class="search-pop-overlay">
	<div class="popup search-popup">
		<div class="search-header">
			<span class="search-input-field-pre">
				<i class="fa-solid fa-keyboard"></i>
			</span>
			<div class="search-input-container">
				<input autocomplete="off" autocorrect="off" autocapitalize="off" placeholder="Search..." spellcheck="false" type="search" class="search-input">
			</div>
			<span class="popup-btn-close">
				<i class="fa-solid fa-times"></i>
			</span>
		</div>
		<div id="search-result">
			<div id="no-result">
				<i class="fa-solid fa-spinner fa-spin-pulse fa-5x fa-fw"></i>
			</div>
		</div>
	</div>
</div>
	

</main>



<script src="/zhihaojiang.github.io/js/build/libs/Swup.min.js"></script>

<script src="/zhihaojiang.github.io/js/build/libs/SwupSlideTheme.min.js"></script>

<script src="/zhihaojiang.github.io/js/build/libs/SwupScriptsPlugin.min.js"></script>

<script src="/zhihaojiang.github.io/js/build/libs/SwupProgressPlugin.min.js"></script>

<script src="/zhihaojiang.github.io/js/build/libs/SwupScrollPlugin.min.js"></script>

<script src="/zhihaojiang.github.io/js/build/libs/SwupPreloadPlugin.min.js"></script>

<script>
    const swup = new Swup({
        plugins: [
            new SwupScriptsPlugin({
                optin: true,
            }),
            new SwupProgressPlugin(),
            new SwupScrollPlugin({
                offset: 80,
            }),
            new SwupSlideTheme({
                mainElement: ".main-content-body",
            }),
            new SwupPreloadPlugin(),
        ],
        containers: ["#swup"],
    });
</script>




	
<script src="/zhihaojiang.github.io/js/build/tools/imageViewer.js" type="module"></script>

<script src="/zhihaojiang.github.io/js/build/utils.js" type="module"></script>

<script src="/zhihaojiang.github.io/js/build/main.js" type="module"></script>

<script src="/zhihaojiang.github.io/js/build/layouts/navbarShrink.js" type="module"></script>

<script src="/zhihaojiang.github.io/js/build/tools/scrollTopBottom.js" type="module"></script>

<script src="/zhihaojiang.github.io/js/build/tools/lightDarkSwitch.js" type="module"></script>

<script src="/zhihaojiang.github.io/js/build/layouts/categoryList.js" type="module"></script>



    
<script src="/zhihaojiang.github.io/js/build/tools/localSearch.js" type="module"></script>




    
<script src="/zhihaojiang.github.io/js/build/tools/codeBlock.js" type="module"></script>




    
<script src="/zhihaojiang.github.io/js/build/layouts/lazyload.js" type="module"></script>




    
<script src="/zhihaojiang.github.io/js/build/tools/runtime.js"></script>

    
<script src="/zhihaojiang.github.io/js/build/libs/odometer.min.js"></script>

    
<link rel="stylesheet" href="/zhihaojiang.github.io/assets/odometer-theme-minimal.css">




  
<script src="/zhihaojiang.github.io/js/build/libs/Typed.min.js"></script>

  
<script src="/zhihaojiang.github.io/js/build/plugins/typed.js" type="module"></script>






    
<script src="/zhihaojiang.github.io/js/build/libs/minimasonry.min.js"></script>

    
<script src="/zhihaojiang.github.io/js/build/plugins/masonry.js" type="module"></script>







    
<script src="/zhihaojiang.github.io/js/build/tools/tocToggle.js" type="module" data-swup-reload-script=""></script>

<script src="/zhihaojiang.github.io/js/build/layouts/toc.js" type="module" data-swup-reload-script=""></script>

<script src="/zhihaojiang.github.io/js/build/plugins/tabs.js" type="module" data-swup-reload-script=""></script>




<script src="/zhihaojiang.github.io/js/build/libs/moment-with-locales.min.js" data-swup-reload-script=""></script>


<script src="/zhihaojiang.github.io/js/build/layouts/essays.js" type="module" data-swup-reload-script=""></script>





    
<script src="/zhihaojiang.github.io/js/build/layouts/bookmarkNav.js" type="module"></script>


	
	<div id="aplayer"></div>

<script src="/zhihaojiang.github.io/js/build/libs/APlayer.min.js"></script>


<script src="/zhihaojiang.github.io/js/build/plugins/aplayer.js"></script>


	
</body>

</html>